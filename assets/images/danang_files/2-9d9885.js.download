/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{2290:function(t,e,n){},2780:function(t,e,n){"use strict";var o=n(1),r=n(265),c=n.n(r),l=n(100),d=n.n(l),h=(n(2800),n(132)),f=n.n(h),v=n(80),m=n.n(v),y=(n(436),n(2198)),_=(n(2120),n(161)),k=n.n(_),w=(n(2801),n(71)),C=n.n(w),input=n(101),S=n.n(input),I=n(165),x=n.n(I),M=n(220),O=n.n(M),P=(n(2802),n(1439),n(1563),n(2803),n(283)),T=n.n(P),L=(n(2804),n(473),n(10)),j=n.n(L),$=(n(3021),n(102)),E=n.n($);n(1440);function R(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c}function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(o){var r=n?Reflect.getOwnMetadata(o,e,n):Reflect.getOwnMetadata(o,e);n?Reflect.defineMetadata(o,r,t,n):Reflect.defineMetadata(o,r,t)}))}var F={__proto__:[]}instanceof Array;var B=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(B.indexOf(t)>-1)e[t]=n[t];else{var o=Object.getOwnPropertyDescriptor(n,t);void 0!==o.value?"function"==typeof o.value?(e.methods||(e.methods={}))[t]=o.value:(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,o.value)}}):(o.get||o.set)&&((e.computed||(e.computed={}))[t]={get:o.get,set:o.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||n.push(o);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var o={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(o[t]=data[t])})),o}(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(e)})),delete t.__decorators__);var c,l,d=Object.getPrototypeOf(t.prototype),h=d instanceof o.default?d.constructor:o.default,f=h.extend(e);return function(t,e,n){Object.getOwnPropertyNames(e).forEach((function(o){if(!H[o]){var r=Object.getOwnPropertyDescriptor(t,o);if(!r||r.configurable){var c,l,d=Object.getOwnPropertyDescriptor(e,o);if(!F){if("cid"===o)return;var h=Object.getOwnPropertyDescriptor(n,o);if(c=d.value,l=D(c),null!=c&&("object"===l||"function"===l)&&h&&h.value===d.value)return}Object.defineProperty(t,o,d)}}}))}(f,t,h),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(z(c=f,l=t),Object.getOwnPropertyNames(l.prototype).forEach((function(t){z(c.prototype,l.prototype,t)})),Object.getOwnPropertyNames(l).forEach((function(t){z(c,l,t)}))),f}var H={prototype:!0,arguments:!0,callee:!0,caller:!0};function V(t){return"function"==typeof t?N(t):function(e){return N(e,t)}}V.registerHooks=function(t){B.push.apply(B,A(t))};var K="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function W(t){return void 0===t&&(t={}),function(e,n){var o;!function(t,e,n){if(K&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var o=Reflect.getMetadata("design:type",e,n);o!==Object&&(t.type=o)}}(t,e,n),(o=function(e,n){(e.props||(e.props={}))[n]=t},function(t,e,n){var r="function"==typeof t?t:t.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof n&&(n=void 0),r.__decorators__.push((function(t){return o(t,e,n)}))})(e,n)}}let U=class extends o.default{constructor(){super(...arguments),this.timer=void 0}get cClass(){return[{"klk-scroll-snap":!0,"klk-scroll-snap-shadow":!0},`klk-scroll-snap--${this.direction}`,`klk-scroll-snap-align--${this.itemAlign}`]}get scrollContainer(){return this.$refs.scroll}mounted(){this.scrollContainer.addEventListener("scroll",this.scrollThrottle)}beforeDestroy(){var t;null===(t=this.scrollContainer)||void 0===t||t.removeEventListener("scroll",this.scrollThrottle)}scrollThrottle(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.countItemIndex()},100)}scrollFinish(){setTimeout(()=>{this.countItemIndex()},350)}getStyle(t,e){return t.currentStyle?t.currentStyle[e]:getComputedStyle(t,null)[e]}countItemIndex(){let t=0;const e=this.scrollContainer.children.length;if(0===e)return;const n="horizontal"===this.direction?"Left":"Top",o=Number(this.getStyle(this.scrollContainer.children[0],`margin${n}`).replace("px",""));for(let i=0;i<e;i++){const e=this.scrollContainer.children[i][`offset${n}`],r=this.scrollContainer[`scroll${n}`];if(e+this.delta-o>=r&&e+this.delta){t=i;break}}this.$emit("change",t)}slideTo(t){const e="horizontal"===this.direction?"Left":"Top",n={};n[e.toLowerCase()]=this.$el.querySelector(`.klk-scroll-snap_scroller > *:nth-child(${t+1})`)[`offset${e}`],this.scrollContainer.scrollTo(Object.assign(Object.assign({},n),{behavior:"smooth"}))}};R([W({type:Boolean,default:!0})],U.prototype,"withShadow",void 0),R([W({type:String,default:"horizontal"})],U.prototype,"direction",void 0),R([W({type:String,default:"center"})],U.prototype,"itemAlign",void 0),R([W({type:Number,default:0})],U.prototype,"delta",void 0),U=R([V({name:"KlkScrollSnap"})],U);const Y=function(template,style,script,t,e,n,o,r,c,l){"boolean"!=typeof o&&(c=r,r=o,o=!1);var d,h="function"==typeof script?script.options:script;if(template&&template.render&&(h.render=template.render,h.staticRenderFns=template.staticRenderFns,h._compiled=!0,e&&(h.functional=!0)),t&&(h._scopeId=t),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},h._ssrRegister=d):style&&(d=o?function(t){style.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){style.call(this,r(t))}),d)if(h.functional){var f=h.render;h.render=function(t,e){return d.call(e),f(t,e)}}else{var v=h.beforeCreate;h.beforeCreate=v?[].concat(v,d):[d]}return script}({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.cClass},[e("div",{ref:"scroll",staticClass:"klk-scroll-snap_scroller"},[this._t("default")],2),this._v(" "),this._t("action")],2)},staticRenderFns:[]},void 0,U,"data-v-dd35379e",!1,void 0,!1,void 0,void 0,void 0);Y.install=function(t){t.component(Y.name,Y)};n(3626);n.d(e,"a",(function(){return _i}));var X=function(t,b){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])})(t,b)};function G(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function e(){this.constructor=t}X(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var Q=function(){return(Q=Object.assign||function(t){for(var s,i=1,e=arguments.length;i<e;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function J(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c}function Z(t,e,n,o){return new(n||(n=Promise))((function(r,c){function l(t){try{h(o.next(t))}catch(t){c(t)}}function d(t){try{h(o.throw(t))}catch(t){c(t)}}function h(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,d)}h((o=o.apply(t,e||[])).next())}))}function tt(t,body){var e,n,o,g,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function c(c){return function(l){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;g&&(g=0,c[0]&&(r=0)),r;)try{if(e=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){r=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(6===c[0]&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=body.call(t,r)}catch(t){c=[6,t],n=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}function et(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ot(t,e,n){(n?Reflect.getOwnMetadataKeys(e,n):Reflect.getOwnMetadataKeys(e)).forEach((function(o){var r=n?Reflect.getOwnMetadata(o,e,n):Reflect.getOwnMetadata(o,e);n?Reflect.defineMetadata(o,r,t,n):Reflect.defineMetadata(o,r,t)}))}var at={__proto__:[]}instanceof Array;function st(t){return function(e,n,o){var r="function"==typeof e?e:e.constructor;r.__decorators__||(r.__decorators__=[]),"number"!=typeof o&&(o=void 0),r.__decorators__.push((function(e){return t(e,n,o)}))}}var ct=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.name=e.name||t._componentTag||t.name;var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(t){if("constructor"!==t)if(ct.indexOf(t)>-1)e[t]=n[t];else{var o=Object.getOwnPropertyDescriptor(n,t);void 0!==o.value?"function"==typeof o.value?(e.methods||(e.methods={}))[t]=o.value:(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t,o.value)}}):(o.get||o.set)&&((e.computed||(e.computed={}))[t]={get:o.get,set:o.set})}})),(e.mixins||(e.mixins=[])).push({data:function(){return function(t,e){var n=e.prototype._init;e.prototype._init=function(){var e=this,n=Object.getOwnPropertyNames(t);if(t.$options.props)for(var o in t.$options.props)t.hasOwnProperty(o)||n.push(o);n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){t[n]=e},configurable:!0})}))};var data=new e;e.prototype._init=n;var o={};return Object.keys(data).forEach((function(t){void 0!==data[t]&&(o[t]=data[t])})),o}(this,t)}});var r=t.__decorators__;r&&(r.forEach((function(t){return t(e)})),delete t.__decorators__);var c,l,d=Object.getPrototypeOf(t.prototype),h=d instanceof o.default?d.constructor:o.default,f=h.extend(e);return function(t,e,n){Object.getOwnPropertyNames(e).forEach((function(o){if(!ut[o]){var r=Object.getOwnPropertyDescriptor(t,o);if(!r||r.configurable){var c,l,d=Object.getOwnPropertyDescriptor(e,o);if(!at){if("cid"===o)return;var h=Object.getOwnPropertyDescriptor(n,o);if(c=d.value,l=it(c),null!=c&&("object"===l||"function"===l)&&h&&h.value===d.value)return}Object.defineProperty(t,o,d)}}}))}(f,t,h),"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys&&(ot(c=f,l=t),Object.getOwnPropertyNames(l.prototype).forEach((function(t){ot(c.prototype,l.prototype,t)})),Object.getOwnPropertyNames(l).forEach((function(t){ot(c,l,t)}))),f}var ut={prototype:!0,arguments:!0,callee:!0,caller:!0};function pt(t){return"function"==typeof t?lt(t):function(e){return lt(e,t)}}pt.registerHooks=function(t){ct.push.apply(ct,nt(t))};var ht="__reactiveInject__";function ft(t){return st((function(e,n){void 0===e.inject&&(e.inject={}),Array.isArray(e.inject)||(e.inject[n]=t||n)}))}function vt(t){return st((function(e,n){var o,r=e.provide;("function"!=typeof(o=r)||!o.managed&&!o.managedReactive)&&(r=e.provide=function(t){var e=function(){var n=this,o="function"==typeof t?t.call(this):t;for(var i in(o=Object.create(o||null))[ht]=this[ht]||{},e.managed)o[e.managed[i]]=this[i];var r=function(i){o[e.managedReactive[i]]=c[i],Object.defineProperty(o[ht],e.managedReactive[i],{enumerable:!0,get:function(){return n[i]}})},c=this;for(var i in e.managedReactive)r(i);return o};return e.managed={},e.managedReactive={},e}(r)),r.managed[n]=t||n}))}var mt="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function yt(t){return void 0===t&&(t={}),function(e,n){!function(t,e,n){if(mt&&!Array.isArray(t)&&"function"!=typeof t&&void 0===t.type){var o=Reflect.getMetadata("design:type",e,n);o!==Object&&(t.type=o)}}(t,e,n),st((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function gt(path,t){void 0===t&&(t={});var e=t.deep,n=void 0!==e&&e,o=t.immediate,r=void 0!==o&&o;return st((function(t,e){"object"!=typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!=typeof o[path]||Array.isArray(o[path])?void 0===o[path]&&(o[path]=[]):o[path]=[o[path]],o[path].push({handler:e,deep:n,immediate:r})}))}function bt(t){return st((function(e,n){e.computed=e.computed||{},e.computed[n]={cache:!1,get:function(){return this.$refs[t||n]}}}))}var _t=function(template,style,script,t,e,n,o,r,c,l){"boolean"!=typeof o&&(c=r,r=o,o=!1);var d,h="function"==typeof script?script.options:script;if(template&&template.render&&(h.render=template.render,h.staticRenderFns=template.staticRenderFns,h._compiled=!0,e&&(h.functional=!0)),t&&(h._scopeId=t),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),style&&style.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},h._ssrRegister=d):style&&(d=o?function(t){style.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){style.call(this,r(t))}),d)if(h.functional){var f=h.render;h.render=function(t,e){return d.call(e),f(t,e)}}else{var v=h.beforeCreate;h.beforeCreate=v?[].concat(v,d):[d]}return script},kt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comma-text",class:{"is-print":t.isPrinting}},t._l(t.dataList,(function(e,o){return n("span",{key:o,staticClass:"comma-text-item",class:{"is-icon":"text"!==e.type}},["text"===e.type?[n("span",[t._v(t._s(e.content))])]:t._t("default")],2)})),0)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"dataList",{get:function(){return(this.textData||[]).reduce((function(t,e){return t.length&&t.push({type:"icon",content:""}),t.push({type:"text",content:e}),t}),[])},enumerable:!1,configurable:!0}),J([yt()],e.prototype,"textData",void 0),J([ft("isPrinting")],e.prototype,"isPrinting",void 0),e=J([pt],e)}(o.default),"data-v-dfbf5874",!1,void 0,!1,void 0,void 0,void 0),wt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.434 2.73a.8.8 0 011.13 0l6.766 6.764a.8.8 0 010 1.132L8.565 17.39a.8.8 0 01-1.131-1.131l6.199-6.2-6.2-6.198a.8.8 0 010-1.132z"}})])}},Ct="undefined"==typeof window,St={1:.75,2:1,3:9/16};function It(t){var e=t.type,n=t.width,o=t.src,r=Math.floor(n),c=Math.floor(r*St[e]),l="w_".concat(2*r,",h_").concat(2*c);return o.includes("c_fill")?o:o.replace("image/upload/","image/upload/q_85/c_fill,".concat(l,"/"))}var xt=function(t){return new Promise((function(e){var n=document.createElement("textarea");n.value=t,n.style.position="absolute",n.style.left="-9999px",n.readOnly=!0,n.contentEditable="true",document.body.appendChild(n),Mt(n,0,t.length),document.execCommand("copy")?(document.body.removeChild(n),e(!0)):e(!1)}))},Mt=function(t,e,n){if(navigator.userAgent.match(/ipad|iPod|iphone/i)){var o=document.createRange();o.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(o),t.setSelectionRange(e,n)}else t.select()};function Ot(t,e,n,o,r,c){void 0===c&&(c=!0);var l=t||"";if(e&&t){var d=e+"fl_lossy.progressive,q_85/",h=o>0?",h_"+o+"/":"/";l=(l=l.replace(e,d)).replace(d,d+(c?"c_fill,":"")+"w_"+n+h),r&&l.indexOf("res.klook.com")>0&&(l=l.replace(/.(jpg|png|jpeg|gif)$/,".webp"))}return l}var Pt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"see-more-with-lines",class:{"cursor-pointer":t.isShowMoreBtn&&!t.hideMoreButton},on:{click:function(e){return t.showMore()}}},[n("p",{ref:"contentRef",staticClass:"content",class:{"not-truncated":t.isShowMore},style:{"-webkit-line-clamp":t.maxLines,"white-space":"pre-line"}},[t._v(t._s(t.content))]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMoreBtn&&!t.hideMoreButton,expression:"isShowMoreBtn && !hideMoreButton"}],staticClass:"more-btn-wrap"},[n("span",{staticClass:"more-btn"},[n("span",[t._v("\n        "+t._s(t.viewMoreText)+"\n      ")]),t._v(" "),t.showMoreIcon?n("span",{staticClass:"more-btn-icon"},[n("ArrowRightSvg",{staticStyle:{"margin-left":"4px",width:"14px",height:"14px"}})],1):t._e()])])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowMore=!1,e.isShowMoreBtn=!1,e.elementObserver=null,e.shouldCreateObserver=!1,e}return G(e,t),Object.defineProperty(e.prototype,"viewMoreText",{get:function(){return this.isShowMore?this.translateI18n("collapse_all"):this.translateI18n("city_page_view_more")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hideMoreButton",{get:function(){return this.isShowMore&&this.hideLess},enumerable:!1,configurable:!0}),e.prototype.beforeDestroy=function(){this.destroyObserver()},e.prototype.showMore=function(){this.hideMoreButton||(this.isShowMore=!this.isShowMore,this.$emit("show-more"))},e.prototype.checkHeight=function(){if(!this.isShowMoreBtn&&!Ct){var t=this.contentRef;t&&t.scrollHeight>t.offsetHeight?this.isShowMoreBtn=!0:t&&0===t.scrollHeight&&(this.shouldCreateObserver=!0)}},e.prototype.createObserver=function(){var t=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(t.checkHeight(),t.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},e.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},J([yt({default:2})],e.prototype,"maxLines",void 0),J([yt()],e.prototype,"content",void 0),J([yt({default:!1})],e.prototype,"hideLess",void 0),J([yt({default:!1})],e.prototype,"showMoreIcon",void 0),J([yt({default:!1})],e.prototype,"visible",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([bt()],e.prototype,"contentRef",void 0),e=J([pt({components:{ArrowRightSvg:wt}})],e)}(o.default),"data-v-5646ab58",!1,void 0,!1,void 0,void 0,void 0),Tt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"icons-wrapper"},t._l(t.icons,(function(e,o){return n("div",{key:o,staticClass:"icon-item",class:t.classList},[n("img",{staticClass:"icon",attrs:{src:e.icon,alt:""}}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(e.text))])])})),0):t._e()},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"valid",{get:function(){var t;return null===(t=this.icons)||void 0===t?void 0:t.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){var t;return((null===(t=this.icons)||void 0===t?void 0:t.length)||0)%2?["odd-icons"]:[]},enumerable:!1,configurable:!0}),J([yt({default:function(){return[]}})],e.prototype,"icons",void 0),e=J([pt],e)}(o.default),"data-v-3af92d13",!1,void 0,!1,void 0,void 0,void 0),Lt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itinerary-text"},[t.componentData.icons&&t.componentData.icons.length>0?[t.isMobile?n("div",{staticClass:"itinerary-text-icons"},[n("IconGroup",{attrs:{icons:t.componentData.icons}})],1):n("div",{staticClass:"itinerary-text-icons"},t._l(t.componentData.icons,(function(e,o){return n("div",{key:o,staticClass:"itinerary-text-icons-item"},[n("img",{staticClass:"item-icon",attrs:{src:e.icon,alt:"icon"}}),t._v(" "),n("span",{staticClass:"item-text"},[t._v(t._s(e.text))])])})),0)]:t._e(),t._v(" "),t.componentData.texts?n("div",{staticClass:"itinerary-text-content"},[t._l(t.componentData.texts,(function(e,o){return["text"===e.type?n("SeeMoreWithLines",{key:e.type+"-"+o,staticClass:"itinerary-text-content-item item-text",attrs:{content:e.text,"hide-less":!0,"max-lines":9999},on:{"show-more":t.handleShowMore}}):["desc","dark_desc"].includes(e.type)?n("div",{key:e.type+"-"+o,staticClass:"itinerary-text-content-item item-text"},[t._v("\n        "+t._s(e.text)+"\n      ")]):t._e()]}))],2):t._e()],2)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.handleShowMore=function(){this.$emit("check-height")},J([yt()],e.prototype,"componentData",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([ft("isMobile")],e.prototype,"isMobile",void 0),e=J([pt({components:{SeeMoreWithLines:Pt,IconGroup:Tt}})],e)}(o.default),"data-v-6f233e0a",!1,void 0,!1,void 0,void 0,void 0),jt=_t({render:function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"v-lazy-logo",style:{width:this.width+"px"},attrs:{src:"https://res.klook.com/image/upload/image_logo_mx7wgd.png",alt:"logoImg"}})},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),J([yt({type:Number})],e.prototype,"width",void 0),J([yt({type:String})],e.prototype,"ratio",void 0),e=J([pt],e)}(o.default),"data-v-edaae3a4",!1,void 0,!1,void 0,void 0,void 0),$t={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.804 3.578a.833.833 0 011.178 0l5.893 5.892a.833.833 0 010 1.179L8.982 16.54a.833.833 0 01-1.178-1.178l5.303-5.304-5.303-5.303a.833.833 0 010-1.178z",fill:"#fff"}})])}},Et=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"big-image-swiper"},[n("div",{directives:[{name:"swiper",rawName:"v-swiper:$bigImageSwiper",value:t.bigImageSwiperOption,expression:"bigImageSwiperOption",arg:"$bigImageSwiper"}],ref:"$bigImageSwiper",staticClass:"swiper-container",class:[t.name]},[n("div",{staticClass:"swiper-wrapper"},t._l(t.imageList,(function(e,o){return n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:e.img_url,expression:"item.img_url",arg:"background-image",modifiers:{container:!0}}],key:o,staticClass:"swiper-slide",class:t.highlightSwiperSlideIndex===o&&"current-slide-visible",attrs:{ratio:"1:1","data-image-id":e.image_id}},[n("Logo",{attrs:{ratio:"1:1",width:161}}),t._v(" "),t.imageScroll?n("div",{staticClass:"swiper-slide__img-wrap"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.img_url,expression:"item.img_url"}],staticClass:"swiper-slide__img"})]):t._e()],1)})),0),t._v(" "),n("div",{staticClass:"swiper-pagination swiper-pagination-fraction"},[t._v("\n        "+t._s(t.highlightSwiperSlideIndex+1)+" / "+t._s(t.total)+"\n      ")]),t._v(" "),n("div",{staticClass:"next-prev swiper-next",class:[t.name+"-swiper-next"]},[n("span",{staticClass:"next-prev__icon"},[n("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)]),t._v(" "),n("div",{staticClass:"next-prev swiper-prev",class:[t.name+"-swiper-prev"]},[n("span",{staticClass:"next-prev__icon"},[n("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)])])]),t._v(" "),n("div",{staticClass:"small-image-swiper"},[n("div",{staticClass:"small-image-swiper-wrapper"},[n("div",{directives:[{name:"swiper",rawName:"v-swiper:$smallImageSwiper",value:t.smallImageSwiperOption,expression:"smallImageSwiperOption",arg:"$smallImageSwiper"}],ref:"$smallImageSwiper",staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper swiper-no-swiping"},t._l(t.imageList,(function(e,o){return n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image.container",value:e.img_resize_url,expression:"item.img_resize_url",arg:"background-image",modifiers:{container:!0}}],key:o,staticClass:"swiper-slide swiper-no-swiping",class:t.highlightSwiperSlideIndex===o?"high-light-swiper-slide":"",attrs:{ratio:"1:1","data-image-id":e.image_id},on:{click:function(e){return t.highlightSwiperSlide(o)}}},[n("Logo",{attrs:{ratio:"1:1",width:24}})],1)})),0)]),t._v(" "),n("div",{staticClass:"small-next-prev small-swiper-next",class:[t.name+"-small-swiper-next"]},[n("span",{staticClass:"small-next-prev__icon"},[n("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)]),t._v(" "),n("div",{staticClass:"small-next-prev small-swiper-prev",class:[t.name+"-small-swiper-prev"]},[n("span",{staticClass:"small-next-prev__icon"},[n("ArrowSvg",{staticClass:"svg-style",attrs:{name:"desktop-common#arrow-right-new",size:"20"}})],1)])])])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$bigImageSwiper=null,e.$smallImageSwiper=null,e.highlightSwiperSlideIndex=0,e.currentReview=null,e.bigImageSwiperOption={navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},on:{init:function(){if(0===e.currentIndex){var t=".".concat(e.name,"-swiper-prev");e.initSwiper(t)}var n=e.bigImageSwiperOption.slidesPerGroup||1;e.imageList.length<=n&&e.initSwiper(".".concat(e.name,"-swiper-next"))},slideChange:function(){var t=e.name;e.BigSwiperSlideChange(),e.slideChangeTransitionEnd("$bigImageSwiper",{next:".".concat(t,"-swiper-next"),prev:".".concat(t,"-swiper-prev")})}}},e.smallImageSwiperOption={slidesPerView:"auto",centeredSlides:!1,navigation:{nextEl:".small-swiper-next",prevEl:".small-swiper-prev"},lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},spaceBetween:10,slidesPerGroup:8,noSwiping:!0,on:{init:function(){var t=".".concat(e.name,"-small-swiper-prev");e.initSwiper(t);var n=e.smallImageSwiperOption.slidesPerGroup||1,o="banner-swiper"===e.name?11:n;e.imageList.length<=o&&e.initSwiper(".".concat(e.name,"-small-swiper-next"))},slideChange:function(){var t=e.name;e.slideChangeTransitionEnd("$smallImageSwiper",{next:".".concat(t,"-small-swiper-next"),prev:".".concat(t,"-small-swiper-prev")})}}},e}return G(e,t),e.prototype.currentIndexChange=function(t){var e=this;this.$nextTick((function(){e.$bigImageSwiper&&e.$bigImageSwiper.slideTo(t)}))},e.prototype.updateSwiper=function(){this.$smallImageSwiper.update(),this.$bigImageSwiper.update()},e.prototype.highlightSwiperSlide=function(t){this.$bigImageSwiper.slideTo(t),this.highlightSwiperSlideIndex=t},e.prototype.BigSwiperSlideChange=function(){var t=this.$bigImageSwiper.realIndex;this.highlightSwiperSlideIndex=t,this.$smallImageSwiper.slideTo(t),this.$emit("bigSwiperChange",t)},e.prototype.slideChangeTransitionEnd=function(t,e){var n=this[t],o=document.querySelector(e.next),r=document.querySelector(e.prev);n.isEnd?o.style.display="none":o.style.display="block",n.isBeginning?r.style.display="none":r.style.display="block";var c=n.realIndex;this.imageList.length<this.total&&this.imageList.length-c<=15&&this.$emit("slideToEnd")},e.prototype.initSwiper=function(t){this.$nextTick((function(){var e=document.querySelector(t);(null==e?void 0:e.style)&&(e.style.display="none")}))},J([yt()],e.prototype,"imageList",void 0),J([yt()],e.prototype,"total",void 0),J([yt({default:0})],e.prototype,"currentIndex",void 0),J([yt({default:!1})],e.prototype,"imageScroll",void 0),J([yt({default:""})],e.prototype,"name",void 0),J([gt("currentIndex",{immediate:!0})],e.prototype,"currentIndexChange",null),e=J([pt({components:{ArrowSvg:$t,Logo:jt}})],e)}(o.default),"data-v-7873d2c9",!1,void 0,!1,void 0,void 0,void 0),Rt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("klk-modal",{staticClass:"page-activity-reviews-gallery-modal",attrs:{open:t.showGallery,scrollable:!1,"overlay-closable":!1,padding:0,closable:!t.hackCloseBtn,"show-default-footer":!1,fullscreen:!0,overlay:!1},on:{"update:open":function(e){t.showGallery=e},close:t.closeModal}},[t.hackCloseBtn?n("div",{staticClass:"hack-close-btn-wrap"},[n("span",{staticClass:"hack-close-btn-wrap__close-btn",on:{click:t.closeModal}},[n("svg",[n("use",{attrs:{"xlink:href":"#klk-icon-icon_navigation_close"}})])])]):t._e(),t._v(" "),n("div",{staticClass:"reviews-container",class:!(t.title||t.calcShowNavTag)&&"hack-hide-nav-tag"},[t.title?n("div",{staticClass:"button-group"},[n("span",{staticClass:"title-text"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.calcShowNavTag?n("div",{staticClass:"button-group"},[n("klk-button",{staticClass:"button-group-item",class:{active:0===t.currentTab},attrs:{type:"outlined","data-spm-module":"OfficialPhoto?oid=activity_"+t.activityId,"data-spm-virtual-item":"__virtual"},on:{click:function(e){return t.switchTabs(0)}}},[t._v("\n        "+t._s(t.translateI18n("review.merchant_photo_gallery"))+" ("+t._s(t.bannerList.length)+")\n      ")]),t._v(" "),t.total>0?n("klk-button",{staticClass:"button-group-item",class:{active:1===t.currentTab},attrs:{type:"outlined","data-spm-module":"CustomerPhotos?oid=activity_"+t.activityId,"data-spm-virtual-item":"__virtual"},on:{click:function(e){return t.switchTabs(1)}}},[t._v("\n        "+t._s(t.translateI18n("review.customer_photo_gallery"))+" ("+t._s(t.total)+")\n      ")]):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"image-gallery-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.currentTab,expression:"currentTab === 0"}],staticClass:"reviews-container-left banner-swiper"},[n("ImageSwiper",{ref:"gallery0",staticClass:"banner-swiper__img-content",attrs:{"image-list":t.bannerList,total:t.bannerList.length,"current-index":t.currentIndex,"image-scroll":!0,name:"banner-swiper"}})],1)])])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageList=[],e.reviews=[],e.page=1,e.pageSize=8,e.total=0,e.currentReview=null,e.currentTab=0,e}return G(e,t),e.prototype.showGalleryChange=function(t){t&&(this.currentTab=this.defaultTag||0)},e.prototype.overrideImagesChange=function(t){t&&this.initImages()},e.prototype.mounted=function(){this.getImages(!0)},Object.defineProperty(e.prototype,"calcShowNavTag",{get:function(){var t=this.bannerList,e=this.total;return t&&t.length&&e},enumerable:!1,configurable:!0}),e.prototype.initImages=function(){var t;(null===(t=this.overrideImages)||void 0===t?void 0:t.length)&&this.overrideReview&&(this.currentTab=this.defaultTag,this.imageList=this.overrideImages.map((function(t){return Q(Q({},t),{reviewId:t.review_id})})),this.currentReview=this.overrideReview,this.reviews[this.imageList[0].reviewId]=this.overrideReview,this.total=this.imageList.length)},e.prototype.handleBuyNow=function(){var t=this;this.$emit("close"),this.$nextTick((function(){t.$emit("buy-now")}))},e.prototype.changeCommentLike=function(data){var t=this.reviews[data.reviewId];this.$set(t,"like_count",t.like_count+1),this.$set(t,"has_liked",!0)},e.prototype.slideChangeTransitionEnd=function(){},e.prototype.getImages=function(t){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){return[2]}))}))},e.prototype.arrayToObj=function(t){var e={};return t.forEach((function(t){e[t.review_id]=t})),e},e.prototype.BigSwiperSlideChange=function(t){var e=this.imageList[t].reviewId;this.currentReview=this.reviews[e]},e.prototype.closeModal=function(){this.$emit("close")},e.prototype.switchTabs=function(t){var e=this;this.currentTab=t,this.$nextTick((function(){e.$refs["gallery".concat(t)].updateSwiper()}))},J([yt({default:!1})],e.prototype,"hackCloseBtn",void 0),J([yt({default:""})],e.prototype,"title",void 0),J([yt({default:!1})],e.prototype,"dontGetImages",void 0),J([yt({default:function(){return[]}})],e.prototype,"bannerList",void 0),J([yt()],e.prototype,"activityId",void 0),J([yt()],e.prototype,"showGallery",void 0),J([yt()],e.prototype,"defaultTag",void 0),J([yt({default:0})],e.prototype,"currentIndex",void 0),J([yt({default:null})],e.prototype,"overrideImages",void 0),J([yt({default:null})],e.prototype,"overrideReview",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([gt("showGallery")],e.prototype,"showGalleryChange",null),J([gt("overrideImages",{immediate:!0})],e.prototype,"overrideImagesChange",null),e=J([pt({components:{ImageSwiper:Et}})],e)}(o.default),"data-v-5bb89f52",!1,void 0,!1,void 0,void 0,void 0);function Dt(){var t=[],e=[];function n(t,e){t.forEach((function(t){t(e)}))}this.onSingleTap=function(e){"function"!=typeof e||t.includes(e)||t.push(e)},this.onDoubleTap=function(t){"function"!=typeof t||e.includes(t)||e.push(t)},this.attach=function(t){t instanceof Element&&(t.addEventListener("touchstart",f),t.addEventListener("touchmove",m),t.addEventListener("touchend",v),t.addEventListener("mousedown",y),t.addEventListener("mouseup",_),t.addEventListener("mousemove",k))},this.detach=function(t){t.removeEventListener("touchstart",f),t.removeEventListener("touchmove",m),t.removeEventListener("touchend",v),t.removeEventListener("mousedown",y),t.removeEventListener("mouseup",_),t.removeEventListener("mousemove",k)};var o=!1,r=0,c=0,l=0,d=0,h=0;function f(t){o=!0,1===t.touches.length&&w(t.touches[0].clientX,t.touches[0].clientY)}function v(t){0===t.touches.length&&C()}function m(t){1===t.touches.length&&S(t.touches[0].clientX,t.touches[0].clientY)}function y(t){o||w(t.clientX,t.clientY)}function _(){o||C()}function k(t){o||0===t.button&&S(t.clientX,t.clientY)}function w(t,e){d=t,h=e,l=0}function C(){var o=Date.now();l<10&&(o-r<300?c+=1:c=1,r=Date.now(),n(t,{clientX:d,clientY:h}),2===c&&(n(e,{clientX:d,clientY:h}),c=0)),l=0}function S(t,e){var n=d-t,o=h-e,r=Math.sqrt(n*n+o*o);l+=r,d=t,h=e}}var At=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue-zoomer",style:{backgroundColor:t.backgroundColor},on:{mousewheel:function(e){return e.preventDefault(),t.onMouseWheel(e)},DOMMouseScroll:t.onMouseWheel,mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onMouseMove,mouseout:t.setPointerPosCenter,touchstart:t.onTouchStart,touchend:t.onTouchEnd,touchmove:t.onTouchMove}},[n("div",{staticClass:"zoomer",style:t.wrapperStyle},[t._t("default")],2)])},staticRenderFns:[]},void 0,{props:{minScale:{type:Number,default:1},maxScale:{type:Number,default:5},zoomed:{type:Boolean,default:!1},resetTrigger:{type:Number,default:1e5},aspectRatio:{type:Number,default:1},backgroundColor:{type:String,default:"transparent"},pivot:{type:String,default:"image-center"},limitTranslation:{type:Boolean,default:!0},doubleClickToZoom:{type:Boolean,default:!0}},data:function(){return{containerWidth:1,containerHeight:1,containerLeft:0,containerTop:0,translateX:0,animTranslateX:0,translateY:0,animTranslateY:0,scale:1,animScale:1,lastFullWheelTime:0,lastWheelTime:0,lastWheelDirection:"y",isPointerDown:!1,pointerPosX:-1,pointerPosY:-1,twoFingerInitDist:0,panLocked:!0,raf:null,tapDetector:null}},computed:{wrapperStyle:function(){var t=this.containerWidth*this.animTranslateX,e=this.containerHeight*this.animTranslateY;return{transform:["translate(".concat(t,"px, ").concat(e,"px)"),"scale(".concat(this.animScale,")")].join(" ")}}},watch:{scale:function(t){1!==t&&(this.$emit("update:zoomed",!0),this.panLocked=!1)},resetTrigger:"reset"},mounted:function(){this.tapDetector=new Dt,this.tapDetector.attach(this.$el),this.doubleClickToZoom&&this.tapDetector.onDoubleTap(this.onDoubleTap),window.addEventListener("resize",this.onWindowResize),this.onWindowResize(),this.refreshContainerPos(),this.loop()},destroyed:function(){this.tapDetector.detach(this.$el),window.removeEventListener("resize",this.onWindowResize),window.cancelAnimationFrame(this.raf)},methods:{reset:function(){this.scale=1,this.panLocked=!0,this.translateX=0,this.translateY=0},zoomIn:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.tryToScale(t),this.onInteractionEnd()},zoomOut:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.tryToScale(t),this.onInteractionEnd()},tryToScale:function(t){var e=this.scale*t;if(e<this.minScale||e>this.maxScale){var n=Math.log2(t);n*=.2,t=Math.pow(2,n),e=this.scale*t}if(t=e/this.scale,this.scale=e,"image-center"!==this.pivot){var o=(this.pointerPosX-this.containerLeft)/this.containerWidth,r=(this.pointerPosY-this.containerTop)/this.containerHeight;this.translateX=(.5+this.translateX-o)*t+o-.5,this.translateY=(.5+this.translateY-r)*t+r-.5}},setPointerPosCenter:function(){this.pointerPosX=this.containerLeft+this.containerWidth/2,this.pointerPosY=this.containerTop+this.containerHeight/2},onPointerMove:function(t,e){if(this.isPointerDown){var n=t-this.pointerPosX,o=e-this.pointerPosY;this.panLocked||(this.translateX+=n/this.containerWidth,this.translateY+=o/this.containerHeight)}this.pointerPosX=t,this.pointerPosY=e},onInteractionEnd:f()((function(){this.limit(),this.panLocked=1===this.scale,this.$emit("update:zoomed",!this.panLocked)}),100),limit:function(){if(this.scale<this.minScale?this.scale=this.minScale:this.scale>this.maxScale&&this.tryToScale(this.maxScale/this.scale),this.limitTranslation){var t=this.calcTranslateLimit();Math.abs(this.translateX)>t.x&&(this.translateX*=t.x/Math.abs(this.translateX)),Math.abs(this.translateY)>t.y&&(this.translateY*=t.y/Math.abs(this.translateY))}},calcTranslateLimit:function(){if("y"===this.getMarginDirection()){var t=this.containerWidth/this.aspectRatio/this.containerHeight,e=(this.scale*t-1)/2;return e<0&&(e=0),{x:(this.scale-1)/2,y:e}}var n=this.containerHeight*this.aspectRatio/this.containerWidth,o=(this.scale*n-1)/2;return o<0&&(o=0),{x:o,y:(this.scale-1)/2}},getMarginDirection:function(){return this.containerWidth/this.containerHeight>this.aspectRatio?"x":"y"},onDoubleTap:function(t){1===this.scale?(t.clientX>0&&(this.pointerPosX=t.clientX,this.pointerPosY=t.clientY),this.tryToScale(Math.min(3,this.maxScale))):this.reset(),this.onInteractionEnd()},onWindowResize:function(){var t=window.getComputedStyle(this.$el);this.containerWidth=parseFloat(t.width),this.containerHeight=parseFloat(t.height),this.setPointerPosCenter(),this.limit()},refreshContainerPos:function(){var rect=this.$el.getBoundingClientRect();this.containerLeft=rect.left,this.containerTop=rect.top},loop:function(){this.animScale=this.gainOn(this.animScale,this.scale),this.animTranslateX=this.gainOn(this.animTranslateX,this.translateX),this.animTranslateY=this.gainOn(this.animTranslateY,this.translateY),this.raf=window.requestAnimationFrame(this.loop)},gainOn:function(t,e){var n=.3*(e-t);return Math.abs(n)>1e-5?t+n:e},onMouseWheel:function(t){t.detail&&(t.wheelDelta=-10*t.detail);var e=Date.now();120===Math.abs(t.wheelDelta)?e-this.lastFullWheelTime>50&&(this.onMouseWheelDo(t.wheelDelta),this.lastFullWheelTime=e):(e-this.lastWheelTime>50&&"number"==typeof t.deltaX&&(this.lastWheelDirection=0===t.detail&&Math.abs(t.deltaX)>Math.abs(t.deltaY)?"x":"y","x"===this.lastWheelDirection&&this.$emit("swipe",t.deltaX>0?"left":"right")),"y"===this.lastWheelDirection&&this.onMouseWheelDo(t.wheelDelta)),this.lastWheelTime=e},onMouseWheelDo:function(t){var e=Math.pow(1.25,t/120);this.tryToScale(e),this.onInteractionEnd()},onMouseDown:function(t){this.refreshContainerPos(),this.isPointerDown=!0,this.pointerPosX=t.clientX,this.pointerPosY=t.clientY},onMouseUp:function(){this.isPointerDown=!1,this.onInteractionEnd()},onMouseMove:function(t){this.onPointerMove(t.clientX,t.clientY)},onTouchStart:function(t){if(1===t.touches.length)this.refreshContainerPos(),this.pointerPosX=t.touches[0].clientX,this.pointerPosY=t.touches[0].clientY,this.isPointerDown=!0;else if(2===t.touches.length){this.isPointerDown=!0,this.pointerPosX=(t.touches[0].clientX+t.touches[1].clientX)/2,this.pointerPosY=(t.touches[0].clientY+t.touches[1].clientY)/2;var e=t.touches[0].clientX-t.touches[1].clientX,n=t.touches[0].clientY-t.touches[1].clientY;this.twoFingerInitDist=Math.sqrt(e*e+n*n)}},onTouchEnd:function(t){0===t.touches.length?(this.isPointerDown=!1,Math.abs(this.scale-1)<.1&&(this.scale=1),this.onInteractionEnd()):1===t.touches.length&&(this.pointerPosX=t.touches[0].clientX,this.pointerPosY=t.touches[0].clientY)},onTouchMove:function(t){if(1===t.touches.length)this.onPointerMove(t.touches[0].clientX,t.touches[0].clientY);else if(2===t.touches.length){var e=(t.touches[0].clientX+t.touches[1].clientX)/2,n=(t.touches[0].clientY+t.touches[1].clientY)/2;this.onPointerMove(e,n),this.pointerPosX=e,this.pointerPosY=n;var o=t.touches[0].clientX-t.touches[1].clientX,r=t.touches[0].clientY-t.touches[1].clientY,c=Math.sqrt(o*o+r*r);this.tryToScale(c/this.twoFingerInitDist),this.twoFingerInitDist=c}}}},void 0,!1,void 0,!1,void 0,void 0,void 0),zt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 24 24",fill:"none"}},[e("path",{attrs:{d:"M5.707 17.02a1 1 0 101.414 1.415l4.95-4.95 4.95 4.95a1 1 0 101.414-1.414l-4.95-4.95 4.95-4.95a1 1 0 10-1.414-1.414l-4.95 4.95-4.95-4.95a1 1 0 10-1.414 1.414l4.95 4.95-4.95 4.95z",fill:"#fff"}})])}},Ft=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"swiper",rawName:"v-swiper:_swiper",value:t.swiperOptions,expression:"swiperOptions",arg:"_swiper"}],staticClass:"activity-image-viewer_swiper_container swiper-container"},[n("div",{staticClass:"image-viewer-top"},[n("closeSvg",{staticClass:"activity-image_icon-close",nativeOn:{click:function(e){return t.close(e)}}}),t._v(" "),n("div",{ref:"pagination",staticClass:"swiper-pagination activity-swiper-pagination"}),t._v(" "),n("klk-button",{staticClass:"map-button",attrs:{type:"white-outlined",size:"mini",round:"","data-spm-module":"SeeMap","data-spm-virtual-item":"__virtual"},on:{click:function(e){return t.$emit("showMap")}}},[t._v(t._s(t.buttonText))])],1),t._v(" "),n("div",{staticClass:"image-viewer-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"swiper-wrapper"},t._l(t.images,(function(image,t){return n("div",{key:t,staticClass:"swiper-slide"},[n("div",{staticClass:"img-box"},[n("ImageZoomer",[n("img",{staticClass:"activity-image",attrs:{src:image.src,alt:"activity-image"}})])],1)])})),0),t._v(" "),t._t("description")],2)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._swiper=null,e.swiperOptions={slidesPerView:1,initialSlide:e.index,paginationClickable:!0,spaceBetween:16,pagination:{el:".swiper-pagination",type:"fraction"},on:{slideChange:function(){e.slideChange()}}},e}return G(e,t),Object.defineProperty(e.prototype,"buttonText",{get:function(){return this.translateI18n("100787")},enumerable:!1,configurable:!0}),e.prototype.slideChange=function(){this.$emit("swiperChange",this._swiper.realIndex)},e.prototype.close=function(){this.$emit("close")},e.prototype.mounted=function(){this._swiper.slideTo(this.index)},J([yt()],e.prototype,"images",void 0),J([yt({type:Number,default:0})],e.prototype,"index",void 0),J([yt()],e.prototype,"title",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),e=J([pt({components:{ImageZoomer:At,CloseSvg:zt,KlkButton:m.a}})],e)}(o.default),"data-v-2939b69e",!1,void 0,!1,void 0,void 0,void 0),Bt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layer-head"},[n("SvgIcon",{staticClass:"icon-close",attrs:{name:t.icon},nativeOn:{click:function(e){return t.close(e)}}}),t._v(" "),n("span",{staticClass:"title"},[t._v("\n    "+t._s(t.title)+"\n  ")])],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.close=function(){this.$emit("close")},J([yt()],e.prototype,"title",void 0),e=J([pt],e)}(o.default),void 0,!1,void 0,!1,void 0,void 0,void 0),Nt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"activity-layer"},[n("div",{staticClass:"activity-layer_mask",on:{click:t.clickMask}}),t._v(" "),n("transition",{attrs:{name:t.transition}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"content",staticClass:"activity-layer_content",style:t.contentStyle},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],class:["activity-layer-header_wrap",{fixed:t.fixed}]},[n("div",{staticClass:"activity-layer-header",style:t.headerStyle},[t._t("title",[t.headerVisible||t.title?n("LayerHeader",{attrs:{title:t.title,icon:t.icon},on:{close:t.close}}):t._e()])],2)]),t._v(" "),t.visible?t._t("default"):t._e(),t._v(" "),t._t("firstRenderContent")],2)])],1)])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fixScrollY=0,e.transfered=!1,e}return G(e,t),e.prototype.visibleChange=function(t){this.notFixed||(t?"fixed"!==document.body.style.position&&(this.fixScrollY=window.pageYOffset,document.body.style.position="fixed",document.body.style.top=-this.fixScrollY+"px"):(document.body.style.position="static",document.body.scrollTop=this.fixScrollY,document.documentElement.scrollTop=this.fixScrollY))},Object.defineProperty(e.prototype,"contentStyle",{get:function(){var style={};return this.height&&(style.height=this.height),this.color&&(style.backgroundColor=this.color),style},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headerStyle",{get:function(){if(!this.fixed)return{};var t=parseFloat(this.height);return{top:/%/.test(this.height)?"".concat(100-t,"%"):"calc(100% - ".concat(t,"px)")}},enumerable:!1,configurable:!0}),e.prototype.clickMask=function(){this.overlayClosable&&this.$emit("close")},e.prototype.close=function(){this.$emit("close")},e.prototype.mounted=function(){this.transfer&&!this.transfered&&(document.body.appendChild(this.$el),this.transfered=!0)},e.prototype.beforeDestroy=function(){this.transfer&&this.transfered&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},J([yt({type:String,default:"100%"})],e.prototype,"height",void 0),J([yt()],e.prototype,"headerVisible",void 0),J([yt({type:String,default:"slide-up",validator:function(t){return["slide-up","slide-right","fade"].includes(t)}})],e.prototype,"transition",void 0),J([yt()],e.prototype,"visible",void 0),J([yt()],e.prototype,"overlayClosable",void 0),J([yt()],e.prototype,"title",void 0),J([yt()],e.prototype,"icon",void 0),J([yt()],e.prototype,"fixed",void 0),J([yt()],e.prototype,"color",void 0),J([yt()],e.prototype,"transfer",void 0),J([yt({default:!1})],e.prototype,"notFixed",void 0),J([gt("visible")],e.prototype,"visibleChange",null),e=J([pt({components:{LayerHeader:Bt}})],e)}(o.default),"data-v-044d929a",!1,void 0,!1,void 0,void 0,void 0),Ht=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("klk-modal",{staticClass:"image-viewer-modal",attrs:{fullscreen:"",open:t.visible},on:{"update:open":function(e){t.visible=e}}},[n("ActivityLayer",{staticClass:"activity-image-viewer",attrs:{visible:t.visible,transfer:t.transfer,"not-fixed":t.notFixed,color:"black",transition:"fade"},on:{"update:visible":function(e){t.visible=e},close:function(e){return t.$emit("update:visible",!1)}}},[n("ImageGalleryViewer",{attrs:{index:t.index,images:t.images,title:t.currentPoi.title},on:{showMap:t.showMap,close:function(e){return t.$emit("update:visible",!1)},swiperChange:t.swiperChange},scopedSlots:t._u([{key:"description",fn:function(e){return[t._t("description",null,{image:e.image})]}}],null,!0)})],1),t._v(" "),n("klk-modal")],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.showMap=function(){this.handleShowMap(this.currentPoi)},e.prototype.swiperChange=function(t){this.$emit("swiperChange",t)},J([yt()],e.prototype,"visible",void 0),J([yt()],e.prototype,"transfer",void 0),J([yt()],e.prototype,"notFixed",void 0),J([yt()],e.prototype,"images",void 0),J([yt()],e.prototype,"title",void 0),J([yt({type:Number})],e.prototype,"index",void 0),J([yt({type:Object,default:function(){return{}}})],e.prototype,"currentPoi",void 0),J([ft({default:function(){return null}})],e.prototype,"handleShowMap",void 0),e=J([pt({components:{ActivityLayer:Nt,ImageGalleryViewer:Ft}})],e)}(o.default),"data-v-de3810be",!1,void 0,!1,void 0,void 0,void 0),Vt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 24 24"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M12.033 11.33l6.72-6.72a.504.504 0 01.706.001c.196.196.197.51.001.706l-6.72 6.72 6.649 6.648a.504.504 0 01-.002.706.498.498 0 01-.706.001l-6.648-6.648-6.717 6.718a.504.504 0 01-.706-.001.498.498 0 01-.001-.706l6.717-6.718-6.789-6.789a.504.504 0 01.001-.706.498.498 0 01.706-.001l6.79 6.79z"}})])}},Kt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isDesktop?n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"page-activity-map-container"},[n("Klk-map",{attrs:{height:"100%",center:t.cloneAddress,zoom:t.zoom}},[n("klk-map-marker",{attrs:{center:t.cloneAddress}},[t.addressDesc?n("span",{attrs:{slot:"poptip"},slot:"poptip"},[t._v("\n          "+t._s(t.addressDesc)+"\n        ")]):t._e()])],1),t._v(" "),n("div",{staticClass:"map-close",on:{click:t.hideMap}},[n("CloseSvg",{staticStyle:{width:"18px",height:"18px"}})],1)],1)]):n("klk-modal",{attrs:{fullscreen:"",open:t.mapShow},on:{"update:open":function(e){t.mapShow=e}}},[n("div",{staticClass:"page-activity-map-container"},[n("Klk-map",{attrs:{height:"100%",center:t.cloneAddress,zoom:t.zoom}},[n("klk-map-marker",{attrs:{center:t.cloneAddress}},[t.addressDesc?n("span",{attrs:{slot:"poptip"},slot:"poptip"},[t._v("\n          "+t._s(t.addressDesc)+"\n        ")]):t._e()])],1),t._v(" "),n("div",{staticClass:"map-close",on:{click:t.hideMap}},[n("CloseSvg",{staticStyle:{width:"18px",height:"18px"}})],1)],1)])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapShow=!1,e}return G(e,t),e.prototype.onShowChange=function(){this.showMap()},Object.defineProperty(e.prototype,"cloneAddress",{get:function(){return this.address?this.address.split(",").reverse().join(","):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),e.prototype.showMap=function(){this.mapShow=!0},e.prototype.hideMap=function(){this.mapShow=!1,this.$emit("update:show",!1)},e.prototype.mounted=function(){this.address&&this.showMap()},J([yt({default:""})],e.prototype,"address",void 0),J([yt({default:""})],e.prototype,"addressDesc",void 0),J([yt()],e.prototype,"show",void 0),J([yt({default:16})],e.prototype,"zoom",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([gt("show")],e.prototype,"onShowChange",null),e=J([pt({components:{KlkMapMarker:y.d,KlkMap:y.a,CloseSvg:Vt}})],e)}(o.default),"data-v-9395284c",!1,void 0,!1,void 0,void 0,void 0),Wt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.title||t.showMap?n("div",{staticClass:"title-wrapper",class:[{"map-title-wrapper":t.showMap}]},[n("div",{staticClass:"text-box",on:{click:t.handleMap}},[n("div",{staticClass:"text"},[t.showMap&&!t.isPrinting?n("span",{staticClass:"map1 map",class:[t.isOver24Height?"show":"hidden"],attrs:{"data-spm-module":"ItineraryMap?"+t.spmParams,"data-spm-virtual-item":"__virtual?type=entry"}},[t._v("\n        "+t._s(t.translateI18n("16271"))+"\n      ")]):t._e(),t._v(" "),t.item.title?n("span",{ref:"contentRef",staticClass:"title"},[t._v(t._s(t.item.title))]):t._e(),t._v(" "),t.showMap&&!t.isPrinting?n("span",{staticClass:"map",class:[{"no-margin-left":!t.item.title}],attrs:{"data-spm-module":"ItineraryMap?"+t.spmParams,"data-spm-virtual-item":"__virtual?type=entry"}},[t._v("\n      "+t._s(t.translateI18n("16271"))+"\n      ")]):t._e()])]),t._v(" "),t.mapVisible?n("Map",t._b({attrs:{show:t.mapVisible},on:{"update:show":function(e){t.mapVisible=e}}},"Map",t.mapAtrrs,!1)):t._e()],1):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapVisible=!1,e.isOver24Height=!1,e.elementObserver=null,e.shouldCreateObserver=!1,e}return G(e,t),Object.defineProperty(e.prototype,"showMap",{get:function(){var t,e;return null===(e=null===(t=this.item)||void 0===t?void 0:t.map)||void 0===e?void 0:e.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapAtrrs",{get:function(){var t;if(null===(t=this.item)||void 0===t?void 0:t.map){var e=this.item.map||{};return{address:e.location,addressDesc:e.address_desc}}return this.mapVisible&&(this.mapVisible=!1),{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spmParams",{get:function(){return"oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({MapType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),e.prototype.handleMap=function(){this.customMap?this.handleShowMap(this.item):this.showMap&&(this.mapVisible=!0)},e.prototype.getTextHeight=function(){if(!Ct){var t=this.$el&&this.$el.querySelector&&this.$el.querySelector(".title");if(t){var e=t.getBoundingClientRect().height;0===e?this.shouldCreateObserver=!0:e>24&&(this.isOver24Height=!0)}}},e.prototype.createObserver=function(){var t=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(t.getTextHeight(),t.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},e.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},e.prototype.beforeDestroy=function(){this.destroyObserver()},e.prototype.mounted=function(){var t=this;this.$nextTick((function(){t.getTextHeight(),t.shouldCreateObserver&&t.createObserver()}))},J([yt({default:function(){return{}}})],e.prototype,"item",void 0),J([yt({default:function(){return{}}})],e.prototype,"trackInfo",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft("packageId")],e.prototype,"packageId",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([bt()],e.prototype,"contentRef",void 0),J([ft("customMap")],e.prototype,"customMap",void 0),J([ft({default:function(){return null}})],e.prototype,"handleShowMap",void 0),J([ft("isPrinting")],e.prototype,"isPrinting",void 0),e=J([pt({components:{Map:Kt}})],e)}(o.default),"data-v-e5ab99bc",!1,void 0,!1,void 0,void 0,void 0),Ut=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.title||t.showMap?n("div",{staticClass:"title-wrapper v2",class:[{"map-title-wrapper":t.showMap}]},[t.item.title?n("div",{staticClass:"text-box",class:{"show-map":t.showMap},attrs:{"data-spm-module":"ItineraryMap?"+t.spmParams,"data-spm-virtual-item":"__virtual?type=entry"},on:{click:t.handleMap}},[t.item.title_icon?n("img",{staticClass:"title-icon",attrs:{src:t.item.title_icon}}):t._e(),t._v(" "),n("div",{staticClass:"title-text"},[t._v(t._s(t.item.title))])]):t._e(),t._v(" "),t.mapVisible?n("Map",t._b({attrs:{show:t.mapVisible},on:{"update:show":function(e){t.mapVisible=e}}},"Map",t.mapAtrrs,!1)):t._e()],1):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapVisible=!1,e.isOver24Height=!1,e.elementObserver=null,e.shouldCreateObserver=!1,e}return G(e,t),Object.defineProperty(e.prototype,"showMap",{get:function(){var t,e;return null===(e=null===(t=this.item)||void 0===t?void 0:t.map)||void 0===e?void 0:e.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapAtrrs",{get:function(){var t;if(null===(t=this.item)||void 0===t?void 0:t.map){var e=this.item.map||{};return{address:e.location,addressDesc:e.address_desc}}return this.mapVisible&&(this.mapVisible=!1),{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spmParams",{get:function(){return"oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({MapType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),e.prototype.handleMap=function(){this.customMap?this.handleShowMap(this.item):this.showMap&&(this.mapVisible=!0)},e.prototype.getTextHeight=function(){if(!Ct){var t=this.$el&&this.$el.querySelector&&this.$el.querySelector(".title");if(t){var e=t.getBoundingClientRect().height;0===e?this.shouldCreateObserver=!0:e>24&&(this.isOver24Height=!0)}}},e.prototype.createObserver=function(){var t=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(t.getTextHeight(),t.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},e.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},e.prototype.beforeDestroy=function(){this.destroyObserver()},e.prototype.mounted=function(){var t=this;this.$nextTick((function(){t.getTextHeight(),t.shouldCreateObserver&&t.createObserver()}))},J([yt({default:function(){return{}}})],e.prototype,"item",void 0),J([yt({default:function(){return{}}})],e.prototype,"trackInfo",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft("packageId")],e.prototype,"packageId",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([bt()],e.prototype,"contentRef",void 0),J([ft("customMap")],e.prototype,"customMap",void 0),J([ft({default:function(){return null}})],e.prototype,"handleShowMap",void 0),e=J([pt({components:{Map:Kt}})],e)}(o.default),"data-v-3d0dcbb0",!1,void 0,!1,void 0,void 0,void 0),Yt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"summary-wrapper"},t._l(t.summaryList,(function(e,o){return n("span",{key:o,staticClass:"item"},[n("span",[t._v(" "+t._s(e)+" ")])])})),0):t._e()},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"valid",{get:function(){var t;return(null===(t=this.summaryList)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),J([yt({default:function(){return[]}})],e.prototype,"summaryList",void 0),e=J([pt],e)}(o.default),"data-v-f91fe926",!1,void 0,!1,void 0,void 0,void 0),Xt=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"icons-wrapper"},t._l(t.iconList,(function(e,o){return n("div",{key:o,staticClass:"icon-item"},[n("img",{staticClass:"icon",attrs:{src:e.icon,alt:""}}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(e.text))])])})),0):t._e()},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"valid",{get:function(){var t;return null===(t=this.iconList)||void 0===t?void 0:t.length},enumerable:!1,configurable:!0}),J([yt({default:function(){return[]}})],e.prototype,"iconList",void 0),e=J([pt],e)}(o.default),"data-v-35efae36",!1,void 0,!1,void 0,void 0,void 0),Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Qt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),Jt=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":Gt(t))},Zt=function(t,e){if(null==t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var n=Object.prototype.propertyIsEnumerable,o=Object(t),r=arguments.length,i=0;++i<r;)for(var c=Object(arguments[i]),l=Object.getOwnPropertySymbols(c),d=0;d<l.length;d++){var h=l[d];n.call(c,h)&&(o[h]=c[h])}return o},te=Object.prototype.toString,ee=function(t){var e=void 0===t?"undefined":Gt(t);return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=te.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"};function ie(t){t=t||{};var e=arguments.length,i=0;if(1===e)return t;for(;++i<e;){var n=arguments[i];Jt(t)&&(t=n),oe(n)&&ne(t,n)}return t}function ne(t,e){for(var n in Zt(t,e),e)if("__proto__"!==n&&re(e,n)){var o=e[n];oe(o)?("undefined"===ee(t[n])&&"function"===ee(o)&&(t[n]=o),t[n]=ie(t[n]||{},o)):t[n]=o}return t}function oe(t){return"object"===ee(t)||"function"===ee(t)}function re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var ae=ie,se="undefined"!=typeof window,ce=function(){if(se&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0;return!1}();var le={event:"event",observer:"observer"},ue=function(){if(se)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t);function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}();function pe(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function de(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),o=[],r=t.parentNode.offsetWidth*e,c=void 0,l=void 0,d=void 0;(n=n.trim().split(",")).map((function(t){t=t.trim(),-1===(c=t.lastIndexOf(" "))?(l=t,d=999998):(l=t.substr(0,c),d=parseInt(t.substr(c+1,t.length-c-2),10)),o.push([d,l])})),o.sort((function(a,b){if(a[0]<b[0])return 1;if(a[0]>b[0])return-1;if(a[0]===b[0]){if(-1!==b[1].indexOf(".webp",b[1].length-5))return 1;if(-1!==a[1].indexOf(".webp",a[1].length-5))return-1}return 0}));for(var h="",f=void 0,i=0;i<o.length;i++){h=(f=o[i])[1];var v=o[i+1];if(v&&v[0]<r){h=f[1];break}if(!v){h=f[1];break}}return h}}function he(t,e){for(var n=void 0,i=0,o=t.length;i<o;i++)if(e(t[i])){n=t[i];break}return n}var fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return se&&window.devicePixelRatio||t};function ve(){if(!se)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(e){t=!1}return t}var me=function(){if(se){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),ye={on:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];me?t.addEventListener(e,n,{capture:o,passive:!0}):t.addEventListener(e,n,o)},off:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,o)}},ge=function(t,e,n){var image=new Image;if(!t||!t.src){var o=new Error("image src is required");return n(o)}image.src=t.src,image.onload=function(){e({naturalHeight:image.naturalHeight,naturalWidth:image.naturalWidth,src:image.src})},image.onerror=function(t){n(t)}},style=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},be=function(t){return style(t,"overflow")+style(t,"overflow-y")+style(t,"overflow-x")};function _e(){}var ke=function(){function t(e){var n=e.max;qt(this,t),this.options={max:n||100},this._caches=[]}return Qt(t,[{key:"has",value:function(t){return this._caches.indexOf(t)>-1}},{key:"add",value:function(t){this.has(t)||(this._caches.push(t),this._caches.length>this.options.max&&this.free())}},{key:"free",value:function(){this._caches.shift()}}]),t}(),we=function(){function t(e){var n=e.el,o=e.src,r=e.error,c=e.loading,l=e.bindType,d=e.$parent,h=e.options,f=e.elRenderer,v=e.imageCache;qt(this,t),this.el=n,this.src=o,this.error=r,this.loading=c,this.bindType=l,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=h,this.rect=null,this.$parent=d,this.elRenderer=f,this._imageCache=v,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return Qt(t,[{key:"initState",value:function(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,o=t.error,r=this.src;this.src=e,this.loading=n,this.error=o,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;(function(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})(this.options.filter).map((function(e){t.options.filter[e](t,t.options)}))}},{key:"renderLoading",value:function(t){var e=this;this.state.loading=!0,ge({src:this.loading},(function(data){e.render("loading",!1),e.state.loading=!1,t()}),(function(){t(),e.state.loading=!1,e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")}))}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.rendered&&this.state.loaded?void 0:this._imageCache.has(this.src)?(this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e()):void this.renderLoading((function(){t.attempt++,t.options.adapter.beforeLoad&&t.options.adapter.beforeLoad(t,t.options),t.record("loadStart"),ge({src:t.src},(function(data){t.naturalHeight=data.naturalHeight,t.naturalWidth=data.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),t.state.rendered=!0,t._imageCache.add(t.src),e()}),(function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)}))}))}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",time=0;return this.state.loaded&&(t="loaded",time=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:time}}},{key:"$destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),Ce="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Se=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Ie={rootMargin:"0px",threshold:0},xe=function(t){return function(){function e(t){var n=t.preLoad,o=t.error,r=t.throttleWait,c=t.preLoadTop,l=t.dispatchEvent,d=t.loading,h=t.attempt,f=t.silent,v=void 0===f||f,m=t.scale,y=t.listenEvents;t.hasbind;var _,k,w,C,filter=t.filter,S=t.adapter,I=t.observer,x=t.observerOptions;qt(this,e),this.version="1.3.3",this.mode=le.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:v,dispatchEvent:!!l,throttleWait:r||200,preLoad:n||1.3,preLoadTop:c||0,error:o||Ce,loading:d||Ce,attempt:h||3,scale:m||fe(m),ListenEvents:y||Se,hasbind:!1,supportWebp:ve(),filter:filter||{},adapter:S||{},observer:!!I,observerOptions:x||Ie},this._initEvent(),this._imageCache=new ke({max:200}),this.lazyLoadHandler=(_=this._lazyLoadHandler.bind(this),k=this.options.throttleWait,w=null,C=0,function(){if(!w){var t=Date.now()-C,e=this,n=arguments,o=function(){C=Date.now(),w=!1,_.apply(e,n)};t>=k?o():w=setTimeout(o,k)}}),this.setMode(this.options.observer?le.observer:le.event)}return Qt(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ae(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map((function(e){t.push(e.performance())})),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),se&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,o){var r=this;if(function(t,e){for(var n=!1,i=0,o=t.length;i<o;i++)if(e(t[i])){n=!0;break}return n}(this.ListenerQueue,(function(t){return t.el===e})))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var c=this._valueFormatter(n.value),l=c.src,d=c.loading,h=c.error;t.nextTick((function(){l=de(e,r.options.scale)||l,r._observer&&r._observer.observe(e);var c=Object.keys(n.modifiers)[0],f=void 0;c&&(f=(f=o.context.$refs[c])?f.$el||f:document.getElementById(c)),f||(f=function(t){if(se){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(be(e)))return e;e=e.parentNode}return window}}(e));var v=new we({bindType:n.arg,$parent:f,el:e,loading:d,error:h,src:l,elRenderer:r._elRenderer.bind(r),options:r.options,imageCache:r._imageCache});r.ListenerQueue.push(v),se&&(r._addListenerTarget(window),r._addListenerTarget(f)),r.lazyLoadHandler(),t.nextTick((function(){return r.lazyLoadHandler()}))}))}},{key:"update",value:function(e,n,o){var r=this,c=this._valueFormatter(n.value),l=c.src,d=c.loading,h=c.error;l=de(e,this.options.scale)||l;var f=he(this.ListenerQueue,(function(t){return t.el===e}));f?f.update({src:l,loading:d,error:h}):this.add(e,n,o),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick((function(){return r.lazyLoadHandler()}))}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=he(this.ListenerQueue,(function(e){return e.el===t}));e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),pe(this.ListenerQueue,e),e.$destroy())}}},{key:"removeComponent",value:function(t){t&&(pe(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;ce||t!==le.observer||(t=le.event),this.mode=t,t===le.event?(this._observer&&(this.ListenerQueue.forEach((function(t){e._observer.unobserve(t.el)})),this._observer=null),this.TargetQueue.forEach((function(t){e._initListen(t.el,!0)}))):(this.TargetQueue.forEach((function(t){e._initListen(t.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=he(this.TargetQueue,(function(e){return e.el===t}));return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===le.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach((function(n,o){n.el===t&&(n.childrenCount--,n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(o,1),n=null))}))}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach((function(o){return ye[e?"on":"off"](t,o,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e]||(t.Event.listeners[e]=[]),t.Event.listeners[e].push(n)},this.$once=function(e,n){var o=t;t.$on(e,(function t(){o.$off(e,t),n.apply(o,arguments)}))},this.$off=function(e,n){if(n)pe(t.Event.listeners[e],n);else{if(!t.Event.listeners[e])return;t.Event.listeners[e].length=0}},this.$emit=function(e,n,o){t.Event.listeners[e]&&t.Event.listeners[e].forEach((function(t){return t(n,o)}))}}},{key:"_lazyLoadHandler",value:function(){var t=this,e=[];this.ListenerQueue.forEach((function(t,n){t.el&&t.el.parentNode||e.push(t),t.checkInView()&&t.load()})),e.forEach((function(e){pe(t.ListenerQueue,e),e.$destroy()}))}},{key:"_initIntersectionObserver",value:function(){var t=this;ce&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(e){t._observer.observe(e.el)})))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach((function(t){t.isIntersecting&&n.ListenerQueue.forEach((function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}}))}))}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var o=t.el,r=t.bindType,c=void 0;switch(e){case"loading":c=t.loading;break;case"error":c=t.error;break;default:c=t.src}if(r?o.style[r]='url("'+c+'")':o.getAttribute("src")!==c&&o.setAttribute("src",c),o.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var l=new ue(e,{detail:t});o.dispatchEvent(l)}}}},{key:"_valueFormatter",value:function(t){var e,n=t,o=this.options.loading,r=this.options.error;return null!==(e=t)&&"object"===(void 0===e?"undefined":Gt(e))&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),n=t.src,o=t.loading||this.options.loading,r=t.error||this.options.error),{src:n,loading:o,error:r}}}]),e}()},Me=function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),se&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)},destroy:function(){return this.$destroy}}}},Oe=function(){function t(e){var n=e.lazy;qt(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return Qt(t,[{key:"bind",value:function(t,e,n){var o=new Te({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(o)}},{key:"update",value:function(t,e,n){var o=he(this._queue,(function(e){return e.el===t}));o&&o.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var o=he(this._queue,(function(e){return e.el===t}));o&&(o.clear(),pe(this._queue,o))}}]),t}(),Pe={selector:"img"},Te=function(){function t(e){var n=e.el,o=e.binding,r=e.vnode,c=e.lazy;qt(this,t),this.el=null,this.vnode=r,this.binding=o,this.options={},this.lazy=c,this._queue=[],this.update({el:n,binding:o})}return Qt(t,[{key:"update",value:function(t){var e=this,n=t.el,o=t.binding;this.el=n,this.options=ae({},Pe,o.value),this.getImgs().forEach((function(t){e.lazy.add(t,ae({},e.binding,{value:{src:"dataset"in t?t.dataset.src:t.getAttribute("data-src"),error:("dataset"in t?t.dataset.error:t.getAttribute("data-error"))||e.options.error,loading:("dataset"in t?t.dataset.loading:t.getAttribute("data-loading"))||e.options.loading}}),e.vnode)}))}},{key:"getImgs",value:function(){return function(t){for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n}(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach((function(e){return t.lazy.remove(e)})),this.vnode=null,this.binding=null,this.lazy=null}}]),t}(),Le=function(t){return{props:{src:[String,Object],tag:{type:String,default:"img"}},render:function(t){return t(this.tag,{attrs:{src:this.renderSrc}},this.$slots.default)},data:function(){return{el:null,options:{src:"",error:"",loading:"",attempt:t.options.attempt},state:{loaded:!1,error:!1,attempt:0},rect:{},renderSrc:""}},watch:{src:function(){this.init(),t.addLazyBox(this),t.lazyLoadHandler()}},created:function(){this.init(),this.renderSrc=this.options.loading},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{init:function(){var e=t._valueFormatter(this.src),n=e.src,o=e.loading,r=e.error;this.state.loaded=!1,this.options.src=n,this.options.error=r,this.options.loading=o,this.renderSrc=this.options.loading},getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),se&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;if(this.state.attempt>this.options.attempt-1&&this.state.error)return t.options.silent||console.log("VueLazyload log: "+this.options.src+" tried too more than "+this.options.attempt+" times"),void n();var o=this.options.src;ge({src:o},(function(t){var n=t.src;e.renderSrc=n,e.state.loaded=!0}),(function(t){e.state.attempt++,e.renderSrc=e.options.error,e.state.error=!0}))}}}},je={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=xe(t),o=new n(e),r=new Oe({lazy:o}),c="2"===t.version.split(".")[0];t.prototype.$Lazyload=o,e.lazyComponent&&t.component("lazy-component",Me(o)),e.lazyImage&&t.component("lazy-image",Le(o)),c?(t.directive("lazy",{bind:o.add.bind(o),update:o.update.bind(o),componentUpdated:o.lazyLoadHandler.bind(o),unbind:o.remove.bind(o)}),t.directive("lazy-container",{bind:r.bind.bind(r),componentUpdated:r.update.bind(r),unbind:r.unbind.bind(r)})):(t.directive("lazy",{bind:o.lazyLoadHandler.bind(o),update:function(t,e){ae(this.vm.$refs,this.vm.$els),o.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){o.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){r.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){r.unbind(this.el)}}))}};o.default.use(je,{adapter:{loaded:function(t){var e=t.el,n=e.getAttribute("ratio");if(!Ct&&n){var o=e.querySelector&&e.querySelector(".v-lazy-logo");o&&(o.style.display="none")}}},error:"https://res.klook.com/image/upload/image_logo_mx7wgd.png"});var $e=_t({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner-box",style:this.cardImgStyle},[e("div",{staticClass:"banner-box-content"},[this._t("content")],2),this._v(" "),e("img",{staticClass:"static-img",class:[{"cursor-pointer":"normal"===this.type}],style:{backgroundSize:this.width/3+"px"},attrs:{src:this.formateSrc}})])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"cardImgStyle",{get:function(){var t=this||{},e=t.width,n=t.height;return{width:e?e+"px":"auto",height:n?n+"px":"auto"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"formateSrc",{get:function(){return It({type:"2",width:this.width,src:this.src})},enumerable:!1,configurable:!0}),J([yt()],e.prototype,"src",void 0),J([yt()],e.prototype,"height",void 0),J([yt()],e.prototype,"width",void 0),J([yt({default:16/9})],e.prototype,"ratio",void 0),J([yt()],e.prototype,"type",void 0),e=J([pt],e)}(o.default),"data-v-dcd0d112",!1,void 0,!1,void 0,void 0,void 0),Ee={width:"0",height:"0",backgroundSize:"0"},Re=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"image-container"},[n("div",{staticClass:"image-container-wrapper"},[n("div",{staticClass:"image-container-wrapper_left"},[n("img",{staticClass:"banner-images",style:t.leftImgStyle,attrs:{src:t.imagesObject.left},on:{click:function(e){return t.imgClickEvent(0)}}})]),t._v(" "),t.imgs.length>2?n("div",{staticClass:"image-container-wrapper_right"},t._l(t.imagesObject.right,(function(e,o){return n("div",{key:o,staticClass:"container-item"},[n("img",{staticClass:"banner-images",style:t.rightImgStyle,attrs:{src:e},on:{click:function(e){return t.imgClickEvent(o+1)}}})])})),0):t._e()]),t._v(" "),t.imgCount?n("div",{staticClass:"img-count",on:{click:function(e){return t.imgClickEvent(0)}}},[t._v(t._s(t.imgCount))]):t._e()]):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.leftImgStyle=Ee,e.rightImgStyle=Ee,e.borderRadius="16px",e.imagesObject={left:"",right:[]},e}return G(e,t),e.prototype.mounted=function(){this.calcImgStyle()},Object.defineProperty(e.prototype,"valid",{get:function(){var t;return null===(t=this.imgs)||void 0===t?void 0:t.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgCount",{get:function(){var t=null;if(this.valid){var e=this.imgs.length;2===e&&(t="1+"),e>3&&(t=e-3+"+")}return t},enumerable:!1,configurable:!0}),e.prototype.imgClickEvent=function(t){this.$emit("viewImages",t)},e.prototype.calcImgStyle=function(){var t=this;!Ct&&this.valid&&this.$nextTick((function(){var e=t.notIcon?40:84,n=t.imgs.length,o=t.$el.scrollWidth||document.documentElement.clientWidth-e;if(n<3)t.leftImgStyle={width:o+"px",height:9*o/16+"px",backgroundSize:3*o/16+"px",borderRadius:t.borderRadius},t.imagesObject.left=It({type:"3",width:o,src:t.imgs[0]});else{var r=8*(o-1)/11,c=3*r/8-1;t.leftImgStyle={width:r+"px",height:3*r/4+"px",backgroundSize:r/4+"px",borderTopLeftRadius:t.borderRadius,borderBottomLeftRadius:t.borderRadius},t.rightImgStyle={width:c+"px",height:c+"px",backgroundSize:c/3+"px"},t.imagesObject.right=[t.imgs[1],t.imgs[2]].map((function(img){return It({type:"2",width:c,src:img})})),t.imagesObject.left=It({type:"1",width:r,src:t.imgs[0]})}}))},J([yt()],e.prototype,"imgs",void 0),J([yt({default:!1})],e.prototype,"notIcon",void 0),e=J([pt],e)}(o.default),"data-v-70fb93c6",!1,void 0,!1,void 0,void 0,void 0),De=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.hide?t._e():n("div",{staticClass:"itinerary-map-item",class:[t.platform]},[t.isMobile&&!t.hideTitle?n("div",{staticClass:"itinerary-map-item__right",class:{"has-img":t.hasNormalImg()}},[n("TitleV2",{attrs:{item:t.item,"track-info":t.trackInfo}})],1):t._e(),t._v(" "),t.images&&t.images.length>0?n("div",{staticClass:"itinerary-map-item__left"},[t.isDesktop?n("DesktopImg",{staticClass:"desktop-img-component",attrs:{src:t.item.imgs[0].src,width:t.imgStyle.width,height:t.imgStyle.height,type:t.item.imgs[0].type,ratio:1,"data-spm-module":t.TrackInfo,"data-spm-virtual-item":"__virtual?type=entry"},on:{click:t.viewImages}},[t.count?n("div",{attrs:{slot:"content"},on:{click:function(e){return e.stopPropagation(),t.viewImages(e)}},slot:"content"},[n("span",{staticClass:"img-count"},[t._v(t._s(t.count))])]):t._e()]):n("MobileImg",{staticClass:"mobile-img-component",attrs:{imgs:t.filterDefaultImg(),"not-icon":t.notIcon,"data-spm-module":t.TrackInfo,"data-spm-virtual-item":"__virtual?type=entry"},on:{viewImages:function(e){return t.viewImages(e)}}})],1):t._e(),t._v(" "),n("div",{staticClass:"itinerary-map-item__right",class:{"has-img":t.hasNormalImg(),"is-mobile":t.isMobile}},[t.isMobile?t._e():n("Title",{attrs:{item:t.item,"track-info":t.trackInfo}}),t._v(" "),n("Summary",{attrs:{"summary-list":t.item.summary_infos}}),t._v(" "),n("Icons",{attrs:{"icon-list":t.item.icons}}),t._v(" "),t.tips?n("div",{staticClass:"desc"},[t._v("\n      "+t._s(t.item.tips.text)+"\n    ")]):t._e()],1)])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"images",{get:function(){var t;return(null===(t=this.item)||void 0===t?void 0:t.imgs)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hide",{get:function(){var t=this.item,e=t.imgs,n=t.summary_infos,o=t.icons;return[null==e?void 0:e.length,null==n?void 0:n.length,null==o?void 0:o.length].every((function(t){return!t}))&&this.hideTitle&&this.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgStyle",{get:function(){var t=0;return{width:t=this.componentSize&&"large"===this.componentSize?72:this.isDesktop?64:72,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){var t=this.images.length;return t>1?"".concat(t-1,"+"):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tips",{get:function(){var t;return(null===(t=this.item.tips)||void 0===t?void 0:t.text)||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TrackInfo",{get:function(){return"ItineraryPhoto?oid=package_".concat(this.packageId,"&ext=").concat(JSON.stringify({PhotoType:this.trackInfo.type}))},enumerable:!1,configurable:!0}),e.prototype.viewImages=function(t){var e;(null===(e=this.images)||void 0===e?void 0:e.length)&&this.images.every((function(t){return"normal"===(null==t?void 0:t.type)}))&&this.$emit("showImageViewer",this.images,this.item.title,"number"==typeof t?t:null,this.item)},e.prototype.filterDefaultImg=function(){var t;return((null===(t=this.item)||void 0===t?void 0:t.imgs)||[]).filter((function(t){return"default"!==t.type})).map((function(t){return t.src}))||[]},e.prototype.hasNormalImg=function(){var t=this.filterDefaultImg();return!!(null==t?void 0:t.length)},e.prototype.mounted=function(){this.$emit("mounted",this.hide)},J([yt({default:function(){return{}}})],e.prototype,"item",void 0),J([yt({default:function(){return{}}})],e.prototype,"trackInfo",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([ft("componentSize")],e.prototype,"componentSize",void 0),J([ft("packageId")],e.prototype,"packageId",void 0),J([ft("isMobile")],e.prototype,"isMobile",void 0),J([yt({default:!1})],e.prototype,"hideTitle",void 0),J([yt({default:!1})],e.prototype,"notIcon",void 0),e=J([pt({components:{DesktopImg:$e,Title:Wt,Summary:Yt,Icons:Xt,MobileImg:Re,TitleV2:Ut}})],e)}(o.default),"data-v-d2fa6d82",!1,void 0,!1,void 0,void 0,void 0);if(!Ct){var Ae=n(376);o.default.use(Ae)}o.default.use(d.a);var ze=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"itinerary-map-wrapper"},[t._l(t.poiData,(function(e,o){return n("poiItem",{key:o,attrs:{item:e,"track-info":t.trackInfo,"not-icon":t.notIcon,"hide-title":t.hideTitle},on:{mounted:t.poiItemMounted,showImageViewer:t.handleShowImageViewer}})})),t._v(" "),"desktop"===t.platform?[n("ImgPreviewDesktop",t._b({attrs:{"activity-id":t.calcAid,hackCloseBtn:t.hackCloseBtn},on:{close:t.imageGalleryObj.ons.close}},"ImgPreviewDesktop",t.imageGalleryObj,!1))]:t._e()],2):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imageGalleryObj={title:"",dontGetImages:!0,showGallery:!1,currentIndex:0,bannerList:[],ons:{close:function(){var t=e.imageGalleryObj;t.itineraryImages=[],t.currentIndex=0,t.showGallery=!1}}},e.hidden=!1,e.previewImages=null,e.visible=!1,e.title="",e.index=0,e.currentPoi=null,e}return G(e,t),Object.defineProperty(e.prototype,"calcAid",{get:function(){return 0},enumerable:!1,configurable:!0}),e.prototype.poiItemMounted=function(t){void 0===t&&(t=!0),this.hidden=t},e.prototype.getOfficialImages=function(t){return(t||[]).map((function(t,e){var n=t.src;return{image_id:e,img_resize_url:n,img_url:n}}))},e.prototype.showImageFnHandler=function(t,title,e){var n=this.imageGalleryObj;n.bannerList=this.getOfficialImages(t),n.showGallery=!0,n.title=title,n.currentIndex=e||0},Object.defineProperty(e.prototype,"valid",{get:function(){var t,e,n=null===(e=null===(t=this.componentData)||void 0===t?void 0:t.poi_data)||void 0===e?void 0:e.length;return!!n&&(1!==n||!this.hidden)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"poiData",{get:function(){var t;return(null===(t=this.componentData)||void 0===t?void 0:t.poi_data)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"imgPreviewComponent",{get:function(){return"desktop"===this.platform?"ImgPreviewDesktop":"ImgPreviewMobile"},enumerable:!1,configurable:!0}),e.prototype.handleShowImageViewer=function(t,title,e,n){"function"!=typeof this.showImageFn?"desktop"!==this.platform?this.showImagesViewer(n):this.showImageFnHandler(t,title,e):this.showImageFn(t,title,e)},J([yt({default:!1})],e.prototype,"hackCloseBtn",void 0),J([yt()],e.prototype,"showImageFn",void 0),J([yt({default:function(){return{}}})],e.prototype,"componentData",void 0),J([yt({default:function(){return{}}})],e.prototype,"trackInfo",void 0),J([yt({default:!1})],e.prototype,"notIcon",void 0),J([yt({default:!1})],e.prototype,"hideTitle",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([ft("showImagesViewer")],e.prototype,"showImagesViewer",void 0),e=J([pt({components:{poiItem:De,ImgPreviewDesktop:Rt,ImgPreviewMobile:Ht}})],e)}(o.default),"data-v-5c61c37b",!1,void 0,!1,void 0,void 0,void 0);o.default.use(k.a);var Fe=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tagging-tag"},[n("div",{staticClass:"tagging-tag_custom",style:t.customStyle},[t.leftIcon&&t.leftIcon.src?n("span",{staticClass:"tagging-tag_tips"},[n("img",t._b({staticClass:"tagging-tag_icon left-icon"},"img",t.leftIcon,!1))]):t._e(),t._v(" "),n("span",{staticClass:"tagging-tag_text"},[n("span",[t._v(t._s(t.$attrs.text))])]),t._v(" "),t.rightIcon&&t.rightIcon.src?["desktop"===t.platform?n("KlkPoptip",{staticClass:"tagging-tag_tips",attrs:{title:t.rightIcon.desc,dark:""}},[n("img",t._b({staticClass:"tagging-tag_icon right-icon"},"img",t.rightIcon,!1))]):n("span",{staticClass:"tagging-tag_tips"},[n("img",t._b({staticClass:"tagging-tag_icon right-icon",on:{click:function(e){return t.clickRightIcon(t.rightIcon.desc)}}},"img",t.rightIcon,!1))])]:t._e()],2)])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"customStyle",{get:function(){var t=this.$attrs;return{class:t.class,maxWidth:t.maxWidth,color:t.color,borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderRadius:t.borderRadius}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftIcon",{get:function(){var t;return null===(t=this.$attrs)||void 0===t?void 0:t.leftIcon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightIcon",{get:function(){var t;return(null===(t=this.$attrs)||void 0===t?void 0:t.right_icon)||{}},enumerable:!1,configurable:!0}),e.prototype.clickRightIcon=function(title){this.$alert(title)},J([ft("platform")],e.prototype,"platform",void 0),e=J([pt({components:{KlkPoptip:d.a}})],e)}(o.default),"data-v-089ea1d7",!1,void 0,!1,void 0,void 0,void 0),Be=[{key:1,value:"middle-style"},{key:2,value:"small-style"}],Ne=[{key:"tag_key",mapKey:"tag_key"},{key:"icon",mapKey:"leftIcon",deepKeys:[{key:"left_icon_url",mapKey:"src"}]},{key:"type",mapKey:"class",getterValue:function(t){var e,n=t.value;return(null===(e=Be.find((function(t){return t.key===n})))||void 0===e?void 0:e.value)||"middle-style"}},{key:"text",mapKey:"text"},{key:"text_color",mapKey:"color"},{key:"background_color",mapKey:"backgroundColor",getterValue:function(t){var e,n,o,r,c,l=t.value,d=t.item,h=l||"",f="number"==typeof(null==d?void 0:d.background_alpha)?null==d?void 0:d.background_alpha:0;return f=parseInt(255-255*f/100),e=h,n=f,o=parseInt("0x"+e.slice(1,3)),r=parseInt("0x"+e.slice(3,5)),c=parseInt("0x"+e.slice(5,7)),"rgba(".concat(o,", ").concat(r,", ").concat(c,", ").concat(n,")")}},{key:"border_color",mapKey:"borderColor"},{key:"radius",mapKey:"borderRadius",getterValue:function(t){var e=t.value;return"".concat(e,"px")}},{key:"right_action",mapKey:"right_icon",deepKeys:[{key:"icon",mapKey:"src"},{key:"desc",mapKey:"desc"}]}],He=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.calcList&&t.calcList.length?n("div",{staticClass:"tagging-wrap",class:t.calcTagType,style:t.wrapStyle},[n("div",{staticClass:"tagging-box"},t._l(t.calcList,(function(e,i){return n("tag",t._b({key:i,class:[e.class,t.getSpecClass(e)]},"tag",Object.assign({},e,{maxWidth:t.maxWidth}),!1))})),1)]):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.typeDefined={tagHeight:{"small-style":20,"middle-style":24}},e}return G(e,t),e.prototype.getSpecClass=function(t){var e=t||{},n=e.tag_key,o=e.leftIcon;return"credits"===n&&(null==o?void 0:o.src)?"credits-style":""},Object.defineProperty(e.prototype,"wrapStyle",{get:function(){var line=this.line,t=this.tagHeight,e=this.typeDefined,n=this.calcTagType,o="small-style"===n?4:8;if(!line)return{};var r=t||e.tagHeight[n];return{maxHeight:"".concat(r*line+(line-1)*o,"px")}},enumerable:!1,configurable:!0}),e.prototype.getMapsItem=function(t,e){var n=this;return e.reduce((function(e,o){var r=o.key,c=o.mapKey,l=o.deepKeys,d=o.getterValue;if(l&&"object"==typeof t[r])e[c]=n.getMapsItem(t[r],l);else{var h=t[r];e[c]=d?d({value:h,item:t}):h}return e}),{})},Object.defineProperty(e.prototype,"calcTagType",{get:function(){var t,e;return(null===(e=null===(t=this.calcList)||void 0===t?void 0:t[0])||void 0===e?void 0:e.class)||this.tagType||"middle-style"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calcList",{get:function(){var t=this;return(Array.isArray(this.list)?this.list:[]).map((function(e){return t.getMapsItem(e,Ne)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calcTrack",{get:function(){return{type:"item",spm:"Savings_Detail"}},enumerable:!1,configurable:!0}),J([yt({type:Object,default:null})],e.prototype,"pkg",void 0),J([yt({type:String,default:""})],e.prototype,"tagType",void 0),J([yt({type:String,default:"auto"})],e.prototype,"maxWidth",void 0),J([yt({type:Number,default:0})],e.prototype,"line",void 0),J([yt({type:Number,default:0})],e.prototype,"tagHeight",void 0),J([yt({type:Array,default:function(){return[]}})],e.prototype,"list",void 0),e=J([pt({components:{tag:Fe}})],e)}(o.default),"data-v-b7bb120a",!1,void 0,!1,void 0,void 0,void 0),Ve=_t({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"view-more",class:{"has-shadow":!this.hideShadow}},[e("span",{staticClass:"view-more_text"},[this._t("default")],2)])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),J([yt()],e.prototype,"hideShadow",void 0),e=J([pt],e)}(o.default),"data-v-e8dbdd28",!1,void 0,!1,void 0,void 0,void 0),Ke=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itinerary-day-group",class:[{"no-icon":t.emptyIcon},t.platform]},[n("div",{ref:"contentRef",staticClass:"itinerary-day-group-wrap",class:{collapsed:t.isShowMore},style:{"max-height":t.maxHeight}},[t.emptyIcon?t._e():n("div",{staticClass:"itinerary-day-group-line"},[n("img",{staticClass:"itinerary-day-group-icon",attrs:{src:t.groupData.left_icon,alt:"icon"}})]),t._v(" "),t.groupNameList.length?n("div",{staticClass:"itinerary-day-group-title-tags"},[n("div",t._b({staticClass:"itinerary-day-group-title-wrap",class:{"is-print":t.isPrinting},on:{click:function(e){return t.handleTitleClick(t.groupData,t.showRightArrow,t.isPoiTitle)}}},"div",t.trackData,!1),[n("CommaText",{staticClass:"itinerary-day-group-title",class:{"itinerary-day-group-poi-title":t.isPoiTitle&&t.isMobile},attrs:{"text-data":t.groupNameList}},[n("i",{staticClass:"itinerary-point"})]),t._v(" "),t.showRightArrow?n("ArrowRightSvg",{staticClass:"right-arr"}):t._e()],1),t._v(" "),t.normalTagsList&&t.normalTagsList.length>0?n(t.tagComponent,{tag:"component",staticClass:"itinerary-day-group-tags",attrs:{list:t.normalTagsList,line:1,track:{spm:"itinerary_Tag"}}}):t._e()],1):t._e(),t._v(" "),!t.isDesktop&&t.customTagsList&&t.customTagsList.length>0?[t.isMobile?n("div",{staticClass:"itinerary-day-group-custom-tag-wrapper"},[n("IconGroup",{attrs:{icons:t.customTagsList}})],1):n("div",{staticClass:"itinerary-day-group-custom-tag-wrapper"},t._l(t.customTagsList,(function(e,o){return n("div",{key:o},[n("img",{attrs:{src:e.icon,alt:"icon"}}),t._v(" "),n("span",{staticClass:"text"},[t._v(t._s(e.text))])])})),0)]:t._e(),t._v(" "),t.groupData.components&&t.groupData.components.length>0?n("div",{staticClass:"itinerary-day-group-content"},t._l(t.groupData.components,(function(component,e){return n(t.componentMap[component.type],{key:component.type+"-"+e,tag:"component",staticClass:"itinerary-day-group-item",attrs:{"track-info":t.groupData.track_info,"component-data":component.data,showImageFn:t.showImageFn,hackCloseBtn:t.hackCloseBtn,"not-icon":t.emptyIcon,"hide-title":t.isPoiTitle},on:{"check-height":t.deferCheckHeight}})})),1):t._e()],2),t._v(" "),n("ViewMore",{directives:[{name:"show",rawName:"v-show",value:t.isShowMoreBtn,expression:"isShowMoreBtn"}],staticClass:"itinerary-day-group-more",attrs:{"hide-shadow":!t.isShowMore},nativeOn:{click:function(e){return t.toggleViewMore(e)}}},[t._v("\n    "+t._s(t.viewMoreText)+"\n  ")])],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.componentMap={texts:Lt,poi:ze},e.isShowMore=!1,e.isShowMoreBtn=!1,e.elementObserver=null,e.shouldCreateObserver=!1,e.foldHeight=360,e}return G(e,t),Object.defineProperty(e.prototype,"isPoiTitle",{get:function(){var t,e,n,o,r=null!==(e=null===(t=this.groupData)||void 0===t?void 0:t.group_key)&&void 0!==e?e:"",c=null!==(o=null===(n=this.groupData)||void 0===n?void 0:n.group_name)&&void 0!==o?o:"";return["itinerary_attraction"].includes(r)&&!!c},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trackData",{get:function(){var t,e,n=null!==(e=null===(t=this.groupData)||void 0===t?void 0:t.group_key)&&void 0!==e?e:"";if(["itinerary_departure"].includes(n)&&!this.isPickUp&&this.isMobile)return{"data-spm-module":"MoreDepartureInfo","data-spm-virtual-item":"__virtual"};if(this.isPoiTitle){var o=JSON.stringify({MapType:"Attraction"});return{"data-spm-module":"ItineraryMap?ext=".concat(o),"data-spm-virtual-item":"__virtual"}}return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showRightArrow",{get:function(){var t,e,n=null!==(e=null===(t=this.groupData)||void 0===t?void 0:t.group_key)&&void 0!==e?e:"";return["itinerary_departure","itinerary_return"].includes(n)&&!this.isPickUp&&this.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyIcon",{get:function(){return!this.groupData.left_icon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewMoreText",{get:function(){var t=this.isShowMore?"city_page_view_more":"collapse_all";return this.translateI18n(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return"desktop"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasLeftIconUrl",{get:function(){var t=this.groupData||{},e=t.tags,n=void 0===e?[]:e,o=t.group_key;return!!(["itinerary_departure","itinerary_return"].includes(o)&&(null==n?void 0:n.length))&&n.some((function(t){var e;return null===(e=null==t?void 0:t.icon)||void 0===e?void 0:e.left_icon_url}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceData",{get:function(){return C()(this.groupData.tags)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalTagsList",{get:function(){return this.isDesktop?this.sourceData:this.sourceData.filter((function(t){var e;return!(null===(e=null==t?void 0:t.icon)||void 0===e?void 0:e.left_icon_url)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customTagsList",{get:function(){return this.hasLeftIconUrl?this.sourceData.filter((function(t){var e;return null===(e=null==t?void 0:t.icon)||void 0===e?void 0:e.left_icon_url})).map((function(t){return{icon:t.icon.left_icon_url,text:t.text}})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagComponent",{get:function(){var t,e;return(null===(t=this.customCompObj)||void 0===t?void 0:t.tagComponent)?null===(e=this.customCompObj)||void 0===e?void 0:e.tagComponent:He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupNameList",{get:function(){var t=this.groupData;return[null==t?void 0:t.time,null==t?void 0:t.group_name].filter(Boolean)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this.isShowMore?"".concat(this.foldHeight,"px"):"none"},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.isDesktop&&(this.checkHeight(),this.shouldCreateObserver&&this.createObserver())},e.prototype.beforeDestro=function(){this.destroyObserver()},e.prototype.deferCheckHeight=function(){this.$nextTick(this.checkHeight)},e.prototype.checkHeight=function(){if(!this.isShowMoreBtn&&!Ct){var t=this.contentRef;t&&t.scrollHeight>this.foldHeight?(this.isShowMoreBtn=!0,this.isShowMore=!0):t&&0===t.scrollHeight&&(this.shouldCreateObserver=!0)}},e.prototype.createObserver=function(){var t=this;"IntersectionObserver"in window&&(this.elementObserver=new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&(t.checkHeight(),t.destroyObserver())}))}),{threshold:[.1]}),this.contentRef&&this.elementObserver.observe(this.contentRef))},e.prototype.destroyObserver=function(){this.elementObserver&&this.contentRef&&this.elementObserver.unobserve(this.contentRef)},e.prototype.toggleViewMore=function(){this.isShowMore=!this.isShowMore},J([yt()],e.prototype,"showImageFn",void 0),J([yt({default:!1})],e.prototype,"hackCloseBtn",void 0),J([yt()],e.prototype,"groupData",void 0),J([yt()],e.prototype,"noLine",void 0),J([bt()],e.prototype,"contentRef",void 0),J([ft("customCompObj")],e.prototype,"customCompObj",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft("platform")],e.prototype,"platform",void 0),J([ft("isMobile")],e.prototype,"isMobile",void 0),J([ft("isPickUp")],e.prototype,"isPickUp",void 0),J([ft("handleTitleClick")],e.prototype,"handleTitleClick",void 0),J([ft("isPrinting")],e.prototype,"isPrinting",void 0),e=J([pt({components:{ItineraryText:Lt,ItineraryPoi:ze,CommaText:kt,ViewMore:Ve,IconGroup:Tt,ArrowRightSvg:wt}})],e)}(o.default),"data-v-cb796dc0",!1,void 0,!1,void 0,void 0,void 0),We=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pick-up-info"},[n("div",{staticClass:"pick-up-info-title"},[t._v("\n    "+t._s(t.info.title)+"\n  ")]),t._v(" "),n("p",{staticClass:"pick-up-info-sentence"},[t._v("\n    "+t._s(t.info.description)+"\n  ")]),t._v(" "),n("div",{staticClass:"pick-up-info-points"},t._l(t.info.point_list,(function(text){return n("div",{key:text,staticClass:"pick-up-info-point"},[t._v("\n      "+t._s(text)+"\n    ")])})),0),t._v(" "),!t.isScope&&t.isSimplified&&t.seeMoreNum>0?n("div",{staticClass:"pick-up-info-more",on:{click:t.handleSeeMore}},[t._v("\n    "+t._s(t.translateI18n("city_page_view_more"))+"("+t._s(t.seeMoreNum)+"+)\n  ")]):t._e()])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.limit=10,e}return G(e,t),Object.defineProperty(e.prototype,"seeMoreNum",{get:function(){return this.info.point_count-this.limit},enumerable:!1,configurable:!0}),e.prototype.handleSeeMore=function(){this.isSimplified&&this.handleEmit("pickUpClick")},J([yt({default:function(){return{}}})],e.prototype,"info",void 0),J([yt({default:!1})],e.prototype,"isScope",void 0),J([ft({default:!1})],e.prototype,"isSimplified",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft({default:function(){return 1}})],e.prototype,"handleEmit",void 0),e=J([pt],e)}(o.default),"data-v-751ea45d",!1,void 0,!1,void 0,void 0,void 0),Ue=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["search-keywords",!t.isSimplified&&"js-search-pick-up-keywards-desktop",t.isPopReversed&&"is-pop-reversed"]},[n("div",{staticClass:"search-keywords-wrap"},[n("klk-input",{class:["search-keywords-input",t.isWarningError&&"is-error"],attrs:{clearable:"","prepend-icon":"icon_edit_search_s",placeholder:t.$t("104032"),"data-spm-module":"LocationSearch","data-spm-virtual-item":"__virtual"},on:{input:t.handleInput,focus:t.handleFocus,clear:t.handleClear},model:{value:t.keyword,callback:function(e){t.keyword="string"==typeof e?e.trim():e},expression:"keyword"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.popVisible,expression:"popVisible"}],staticClass:"search-keywords-pop"},[t.showLoading?n("div",{staticClass:"search-keywords-loading"},[n("klk-loading")],1):n("div",{staticClass:"search-keywords-content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isNotMatch,expression:"isNotMatch"}],staticClass:"search-keywords-none"},[n("div",{staticClass:"search-keywords-none-text"},[t._v("\n            "+t._s(t.isSearchNone?t.$t("106268"):t.$t("104307"))+"\n          ")]),t._v(" "),t.isSearchNone?n("div",{staticClass:"search-keywords-none-button"},[n("klk-button",{attrs:{type:"outlined","data-spm-module":"LocationSearch_FreeText","data-spm-virtual-item":"__virtual"},on:{click:function(e){return t.handleSelect(t.keyword)}}},[t._v("\n              "+t._s(t.$t("106269"))+"\n            ")])],1):t.list.length?[n("klk-divider",{staticClass:"search-keywords-none-divider"}),t._v(" "),n("div",{staticClass:"search-keywords-none-title",attrs:{"data-spm-module":"LocationSearch_NoResult"}},[t._v("\n              "+t._s(t.$t("104308"))+"\n            ")])]:t._e()],2),t._v(" "),t._l(t.list,(function(e){return n("div",{key:e.location,class:["search-keywords-item",t.checkSelected(e)&&"active"],attrs:{"data-spm-module":"LocationSearch_Select?ext="+JSON.stringify({InScope:t.inScopeList[e.data_type]}),"data-spm-virtual-item":"__virtual"},on:{click:function(n){return t.handleSelect(e)}}},[n("div",{staticClass:"search-keywords-item-title"},[t._v("\n            "+t._s(e.location_name)+"\n          ")]),t._v(" "),e.tag&&e.tag.length>0?n(t.tagComponent,{tag:"component",staticClass:"search-keywords-item-tags",attrs:{list:e.tag,line:1}}):t._e(),t._v(" "),n("div",{staticClass:"search-keywords-item-desc"},[t._v("\n            "+t._s(e.address_desc)+"\n          ")])],1)}))],2)])],1),t._v(" "),t.warningText?n("div",{class:["search-keywords-warning",t.isWarningError&&"is-error"]},[n("klk-icon",{staticClass:"search-keywords-warning-icon",attrs:{size:"16",type:"icon_feedback_warning"}}),t._v(" "),n("span",{staticClass:"search-keywords-warning-text"},[t._v("\n      "+t._s(t.warningText)+"\n    ")])],1):t._e()])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keyword="",e.list=[],e.suggestList=null,e.isWarningError=!1,e.warningText="",e.popVisible=!1,e.showLoading=!1,e.cancelToken=null,e.isNotMatch=!1,e.isPopReversed=!1,e.inScopeList=["","Available","Extra fee","Not offered"],e.searchTimer=0,e}return G(e,t),Object.defineProperty(e.prototype,"tagComponent",{get:function(){var t;return(null===(t=this.customCompObj)||void 0===t?void 0:t.tagComponent)||He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSearchNone",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldHidePop",{get:function(){return this.isScope&&!this.keyword},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNotOffered",{get:function(){var t;return 3===(null===(t=this.selected)||void 0===t?void 0:t.data_type)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isExtraFee",{get:function(){var t;return 2===(null===(t=this.selected)||void 0===t?void 0:t.data_type)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRealWarningError",{get:function(){return this.isNotOffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realWarningText",{get:function(){return this.isNotOffered?this.translateI18n("104310"):this.isExtraFee?this.translateI18n("106531"):""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedLocation",{get:function(){var t;return(null===(t=this.selected)||void 0===t?void 0:t.location)||""},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){document.addEventListener("click",this.handleClickOutside)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickOutside)},e.prototype.validateSearch=function(){this.isWarningError=this.isRealWarningError,this.warningText=this.realWarningText},e.prototype.handleFocus=function(){this.isSimplified?this.handleEmit("pickUpClick"):this.handleSearch()},e.prototype.cancelSearch=function(){this.cancelToken&&(this.cancelToken.cancel("cancel"),this.cancelToken=null)},e.prototype.handleSearch=function(){return clearTimeout(this.searchTimer),this.isSimplified||this.shouldHidePop?(this.closePop(),clearTimeout(this.searchTimer),void this.cancelSearch()):!this.keyword&&this.suggestList?(this.openPop(),this.isNotMatch=!1,void(this.list=this.setOrder(et([],this.suggestList,!0)))):(this.popVisible||(this.showLoading=!0),this.openPop(),void(this.searchTimer=setTimeout(this.search,300)))},e.prototype.search=function(){var t,e,n,o,r,c,l,d,h;return Z(this,void 0,void 0,(function(){var f,v,m,y=this;return tt(this,(function(_){switch(_.label){case 0:return f=!1,this.cancelSearch(),this.cancelToken=(null===(n=null===(e=null===(t=this.customAxios)||void 0===t?void 0:t.CancelToken)||void 0===e?void 0:e.source)||void 0===n?void 0:n.call(e))||null,v=this.keyword,[4,this.customAxios.$get("/v1/experiencesrv/search/poi_service/search_poi",{params:{keyword:v,package_id:this.packageId,current_google_place_id:(null===(o=this.selected)||void 0===o?void 0:o.google_place_id)||""},cancelToken:(null===(r=this.cancelToken)||void 0===r?void 0:r.token)||void 0}).catch((function(t){y.customAxios.isCancel(t)&&(f=!0)}))];case 1:return(null==(m=_.sent())?void 0:m.success)?(this.isNotMatch=!(null===(l=null===(c=null==m?void 0:m.result)||void 0===c?void 0:c.data)||void 0===l?void 0:l.length),this.list=this.setOrder(et(et([],(null===(d=null==m?void 0:m.result)||void 0===d?void 0:d.data)||[],!0),(null===(h=null==m?void 0:m.result)||void 0===h?void 0:h.nodes)||[],!0)),!v&&this.list.length&&(this.suggestList=et([],this.list,!0))):f||O()(this.translateI18n("client_server_failure")),f||(this.showLoading=!1),[2]}}))}))},e.prototype.handleClear=function(){this.keyword="",this.$emit("clear")},e.prototype.handleInput=function(){this.isWarningError=!1,this.warningText="",this.handleSearch()},e.prototype.checkSelected=function(t){return(null==t?void 0:t.location)===this.selectedLocation},e.prototype.setOrder=function(t){var e=this;if(!this.selected)return t;var n=t.find((function(t){return t.location===e.selectedLocation}));return n?et([n],t.filter((function(t){return t.location!==e.selectedLocation})),!0):t},e.prototype.handleClickOutside=function(t){if(this.popVisible&&this.$el){var e=this.$el.querySelector(".search-keywords-input"),n=this.$el.querySelector(".search-keywords-pop");(null==e?void 0:e.contains(t.target))||(null==n?void 0:n.contains(t.target))||(this.cancelSearch(),this.closePop())}},e.prototype.handleSelect=function(t){var e="string"==typeof t?{data_type:2,location_name:t,supply_api_mapping_key:t}:t;this.keyword=e.location_name,this.$emit("update:selected",e),this.$emit("change",e),this.closePop(),setTimeout(this.validateSearch,30)},e.prototype.openPop=function(){this.popVisible=!0},e.prototype.closePop=function(){this.isNotMatch=!1,this.list=[],this.popVisible=!1},J([yt({default:!1})],e.prototype,"isScope",void 0),J([yt({default:null})],e.prototype,"selected",void 0),J([ft({default:null})],e.prototype,"customCompObj",void 0),J([ft({default:function(){return 1}})],e.prototype,"customAxios",void 0),J([ft({default:!1})],e.prototype,"isSimplified",void 0),J([ft({default:function(){return 1}})],e.prototype,"handleEmit",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft({default:0})],e.prototype,"packageId",void 0),e=J([pt({components:{KlkInput:S.a,KlkLoading:x.a,KlkDivider:c.a,KlkButton:m.a}})],e)}(o.default),"data-v-0f765117",!1,void 0,!1,void 0,void 0,void 0);function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Xe=function(t){return"object"!==Ye(t)?{}:[{key:"trg",type:"string",def:"auto"},{key:"oid",type:"string",def:void 0},{key:"ext",type:"string",def:void 0},{key:"evt",type:"string",def:"click"},{key:"typ",type:"string",def:void 0},{key:"idx",type:"number",def:void 0,handleFilter:function(q){return q.len>0}},{key:"len",type:"number",def:void 0,handleFilter:function(q){return q.len>0}}].filter((function(e){return e.handleFilter?e.handleFilter(t):t[e.key]})).reduce((function(e,n){return e[n.key]=t[n.key],e}),{})},Ge=function(t){var e={};if(!t||"object"!==Ye(t))return e;var n=C()(t),o=n.type,r=void 0===o?"":o,c=n.spm,l=void 0===c?"":c,d=n.exposure,h=void 0===d||d,f=n.action,v=void 0===f||f;if(!r||!l)return e;var m=n.query,y="",_="";if("object"===Ye(m)&&m){m=Xe(m);var k=["evt","mod","typ"],w=k.reduce((function(t,e){var n=m[e];return n&&(t[e]=n),t}),{});_="?"+Object.keys(w).reduce((function(t,e){var n=void 0===w[e]?"":w[e];return t.push("".concat(e,"=").concat(n)),t}),[]).join("&"),h||(m.trg=m.trg||"manual"),m=Xe(m),y="?"+Object.keys(m).reduce((function(t,e){if(!k.includes(e)){var n=void 0===m[e]?"":m[e];t.push("".concat(e,"=").concat(n))}return t}),[]).join("&")}switch(r){case"module":e["data-spm-module"]=l+y,v&&(e["data-spm-virtual-item"]="__virtual"+_);break;case"page":case"item":e["data-spm-".concat(r)]=l+y}return e},qe=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pick-up-map-wrapper"},[t.isFenceLoading?n("klk-loading"):n("klk-map",t._b({ref:"mapRef",staticClass:"pick-up-map"},"klk-map",t.mapConfig,!1),[t._l(t.geoFenceConf,(function(t,e){return n("klk-map-geo-fence",{key:e,attrs:{"geo-fence-conf":t}})})),t._v(" "),t._l(t.markerList,(function(marker,e){return n("klk-map-marker",t._b({key:e,class:{"marker-active":t.checkSelected(marker)},attrs:{center:marker.center,options:marker.options}},"klk-map-marker",t.getBindTracker(marker.tracker),!1),[n("klk-poptip",{attrs:{value:!t.hidePoptip&&t.checkSelected(marker),content:marker.poptip,"z-index":9999,offset:[0,22],trigger:"none"}},[n("img",{staticClass:"pick-up-map-marker",class:{active:t.checkSelected(marker)},attrs:{src:marker.icon},on:{click:function(e){return t.handleMarkerClick(marker)}}})])],1)})),t._v(" "),n("klk-map-user-location",t._b({staticClass:"user-location",staticStyle:{bottom:"16px"}},"klk-map-user-location",t.getBindTracker({type:"module",spm:"ItineraryMapFindMyPositionButton",exposure:!1}),!1)),t._v(" "),n("div",{staticClass:"pick-up-map-zoom"},[n("div",{staticClass:"pick-up-map-zoom-plus",on:{click:function(e){return t.handleZoom(1)}}},[n("klk-icon",{attrs:{type:"icon_other_plus_xs",size:"20"}})],1),t._v(" "),n("klk-divider"),t._v(" "),n("div",{staticClass:"pick-up-map-zoom-minus",on:{click:function(e){return t.handleZoom(-1)}}},[n("klk-icon",{attrs:{type:"icon_other_minus_xs",size:"20"}})],1)],1)],2)],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hidePoptip=!1,e.markerList=[],e.geoFenceConf=[],e.isFenceLoading=!1,e}return G(e,t),Object.defineProperty(e.prototype,"locationPointList",{get:function(){return(this.locationList||[]).map((function(t){return y.f.formatLatLng(t.location)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fencePointList",{get:function(){var t=this.geoFenceConf.reduce((function(t,e){return(e.polygonList||[]).forEach((function(e){Array.isArray(e)&&t.push.apply(t,e.map((function(t){return y.f.formatLatLng(t.reverse().join(","))})))})),t}),[]);return Object.freeze(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapConfig",{get:function(){var t=this.mapType;return{center:this.locationPointList[0],type:t,height:"100%",interactive:"cooperative",fullscreenControl:!0,zoom:16}},enumerable:!1,configurable:!0}),e.prototype.selectedChange=function(t){this.modifyMarker(t)},e.prototype.mounted=function(){return Z(this,void 0,void 0,(function(){return tt(this,(function(t){switch(t.label){case 0:return[4,this.initMarkerAndFence()];case 1:return t.sent(),this.initMap(),[2]}}))}))},e.prototype.checkSelected=function(marker){var t;return(null===(t=this.selected)||void 0===t?void 0:t.location)===(null==marker?void 0:marker.location)},e.prototype.getBindTracker=function(t){return Ge(t)},e.prototype.initMarkerAndFence=function(){return Z(this,void 0,void 0,(function(){var t=this;return tt(this,(function(e){switch(e.label){case 0:return this.isScope?[4,this.getGeoFenceConf()]:[3,2];case 1:return e.sent(),[3,3];case 2:this.markerList=(this.locationList||[]).map((function(e){return t.formatMarker(e)})),e.label=3;case 3:return[2]}}))}))},e.prototype.formatMarker=function(data,t){void 0===t&&(t=!1);var e=data.location,n=data.icon,o=data.address_desc;return{data:data,location:e,isTemporary:t,center:y.f.formatLatLng(e),icon:n||"",poptip:o,options:{anchor:"bottom"},tracker:{type:"module",spm:"ViewPickUpPoint",exposure:!0,query:{ext:JSON.stringify({Type:t?"customed":"fixed"})}}}},e.prototype.initMap=function(){var t=this;this.mapRef.$getMapTool.then((function(map){var e,n;if(t.map=map,"function"==typeof(null===(n=null===(e=t.map)||void 0===e?void 0:e.map)||void 0===n?void 0:n.setOptions)){t.map.map.setOptions({styles:[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}]})}t.fitMapBounds()}))},e.prototype.fitMapBounds=function(){var t;return Z(this,void 0,void 0,(function(){var e,n,o;return tt(this,(function(r){switch(r.label){case 0:return this.map?(null===(t=this.extraPoint)||void 0===t?void 0:t.location)?(this.flyTo(this.formatMarker(this.extraPoint,!0)),this.map.setZoom(15),[2]):(e=this.isScope?et(et([],this.fencePointList,!0),this.markerList.map((function(t){return t.center})),!0):this.markerList.map((function(t){return t.center}))).length?[4,y.f.turfBbox(e,this.mapType)]:[3,2]:[3,2];case 1:n=r.sent(),o=this.map.createBounds(n.sw,n.ne,{formatLngLat:!1}),this.map.fitBounds(o,{padding:{top:this.markerList.length?100:20,left:20,bottom:20,right:20}}),r.label=2;case 2:return[2]}}))}))},e.prototype.flyTo=function(marker){var t,e,n=marker.center;this.map&&n&&("google"===this.mapType?this.map.flyTo(n):(null===(e=null===(t=this.map)||void 0===t?void 0:t.map)||void 0===e?void 0:e.flyTo)&&this.map.map.flyTo({center:n,speed:1.2,maxDuration:1e3}))},e.prototype.handleMarkerClick=function(marker){this.$emit("update:selected",marker.data)},e.prototype.modifyMarker=function(t){this.markerList=this.markerList.filter((function(marker){return!marker.isTemporary})),t&&t.location&&!this.markerList.find((function(marker){return marker.location===t.location}))&&this.markerList.push(this.formatMarker(t,!0)),this.fitMapBounds(),this.hackPoptip()},e.prototype.hackPoptip=function(){var t=this;this.hidePoptip=!0,this.$nextTick((function(){t.hidePoptip=!1}))},e.prototype.handleZoom=function(t){if(this.map){var e=this.map.map.getZoom();this.map.setZoom(e+t)}},e.prototype.getGeoFenceConf=function(){var t;return Z(this,void 0,void 0,(function(){var e,n,o,r=this;return tt(this,(function(c){switch(c.label){case 0:return this.isFenceLoading=!0,e=(this.locationList||[]).map((function(t){return t.area_id})),[4,this.customAxios.$get("/v1/experiencesrv/area/strative_area_service/get_geom_by_id_list",{params:{area_id_list:e.join(",")}}).catch((function(){r.isFenceLoading=!1}))];case 1:return n=c.sent(),o=((null===(t=null==n?void 0:n.result)||void 0===t?void 0:t.geom_list)||[]).reduce((function(t,e){var n;return((null===(n=null==e?void 0:e.geom)||void 0===n?void 0:n.coordinates)||[]).forEach((function(n){var o;return t.push({polygonList:"Polygon"===(null===(o=null==e?void 0:e.geom)||void 0===o?void 0:o.type)?[n]:n,polygonConfig:{strokeColor:"#08B371",fillColor:"#08B371"}})})),t}),[]),this.geoFenceConf=Object.freeze(o),this.isFenceLoading=!1,[2]}}))}))},J([yt({default:!1})],e.prototype,"isScope",void 0),J([yt({default:function(){return[]}})],e.prototype,"locationList",void 0),J([yt({default:null})],e.prototype,"selected",void 0),J([yt({default:null})],e.prototype,"extraPoint",void 0),J([yt({type:String,default:"mapbox"})],e.prototype,"mapType",void 0),J([ft({default:function(){return 1}})],e.prototype,"customAxios",void 0),J([bt()],e.prototype,"mapRef",void 0),J([gt("extraPoint")],e.prototype,"selectedChange",null),e=J([pt({components:{KlkIcon:T.a,KlkDivider:c.a,KlkLoading:x.a,KlkMap:y.a,KlkMapMarker:y.d,KlkMapGeoFence:y.c,KlkMapUserLocation:y.e}})],e)}(o.default),"data-v-9588570c",!1,void 0,!1,void 0,void 0,void 0),Qe=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pick-up-desktop",attrs:{"data-spm-module":t.spmModule}},[n("PickUpInfo",{staticStyle:{"margin-bottom":"12px"},attrs:{info:t.info,"is-scope":t.isScope}}),t._v(" "),n("SearchKeywords",{staticStyle:{"margin-bottom":"16px"},attrs:{selected:t.selected,"is-scope":t.isScope,"map-data":t.info.map_data},on:{"update:selected":function(e){t.selected=e},change:t.handleSearchChange,clear:t.handleClear}}),t._v(" "),t.isSimplified?t._e():n("PickUpMap",{staticStyle:{"margin-bottom":"16px"},attrs:{selected:t.selected,"is-scope":t.isScope,"location-list":t.locationList,"extra-point":t.extraPoint,"map-type":t.currentMapType||"google"},on:{"update:selected":function(e){t.selected=e}}})],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.selected=null,e.extraPoint=null,e}return G(e,t),Object.defineProperty(e.prototype,"spmModule",{get:function(){var t,e,n=1===(null===(e=null===(t=this.info)||void 0===t?void 0:t.map_data)||void 0===e?void 0:e.pick_up_type)?"pick_up_fixed":"pick_up_scope";return"PickMeetUpInformation?ext=".concat(JSON.stringify({type:n}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isScope",{get:function(){var t,e;return 2===(null===(e=null===(t=this.info)||void 0===t?void 0:t.map_data)||void 0===e?void 0:e.pick_up_type)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locationList",{get:function(){var t,e;return(null===(e=null===(t=this.info)||void 0===t?void 0:t.map_data)||void 0===e?void 0:e.map)||[]},enumerable:!1,configurable:!0}),e.prototype.selectedChange=function(t,e){t&&e&&t!==e&&this.customInhouseTrack("custom","body",{spm:"SwitchPickUpPoint"})},e.prototype.handleSearchChange=function(t){this.extraPoint=t},e.prototype.handleClear=function(){this.selected&&this.extraPoint&&this.selected.location===this.extraPoint.location&&(this.selected=null),this.extraPoint=null},J([yt({default:null})],e.prototype,"info",void 0),J([ft({default:!1})],e.prototype,"isSimplified",void 0),J([ft({default:function(){return null}})],e.prototype,"customInhouseTrack",void 0),J([ft("currentMapType")],e.prototype,"currentMapType",void 0),J([gt("selected")],e.prototype,"selectedChange",null),e=J([pt({components:{PickUpInfo:We,SearchKeywords:Ue,PickUpMap:qe}})],e)}(o.default),void 0,!1,void 0,!1,void 0,void 0,void 0),Je={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[e("path",{attrs:{d:"M6 4.72c0-.31.25-.56.56-.56h4.64a.56.56 0 110 1.12H6.56A.56.56 0 016 4.72zM6.56 6.56a.56.56 0 100 1.12h3.2a.56.56 0 100-1.12h-3.2zM6 9.52c0-.31.25-.56.56-.56h1.6a.56.56 0 110 1.12h-1.6A.56.56 0 016 9.52z",fill:"#212121"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.743 12.609A2.667 2.667 0 0014 9.973V4.267A2.667 2.667 0 0011.333 1.6H6.427A2.667 2.667 0 003.8 3.8a2.667 2.667 0 00-2.2 2.627v5.466a2.667 2.667 0 002.666 2.667h4.906a2.668 2.668 0 002.57-1.951zm-.41-9.889H6.427c-.854 0-1.547.693-1.547 1.547v5.706c0 .855.693 1.547 1.547 1.547h4.906c.855 0 1.547-.692 1.547-1.547V4.267c0-.854-.692-1.547-1.547-1.547zM3.76 4.965c-.605.21-1.04.785-1.04 1.462v5.466c0 .855.693 1.547 1.547 1.547h4.906c.584 0 1.092-.323 1.355-.8H6.427A2.667 2.667 0 013.76 9.973V4.965z",fill:"#212121"}})])}},Ze=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"location-info"},[n("h3",{staticClass:"location-info-title"},[t._v(t._s(t.data.location_name))]),t._v(" "),t.data.tag&&t.data.tag.length>0?n("Tag",{staticClass:"location-info-tags",attrs:{list:t.data.tag,line:t.line}}):t._e(),t._v(" "),n("div",{staticClass:"location-info-address",on:{click:t.handleCopy}},[n("p",{staticClass:"location-info-address-text"},[t._v(t._s(t.data.address_desc))]),t._v(" "),t.showCopyIcon?n("div",{staticClass:"location-info-address-copy-wrap"},[n("CopyIconSvg",{staticClass:"copy-icon"})],1):t._e()])],1)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.handleCopy=function(){return Z(this,void 0,void 0,(function(){var text;return tt(this,(function(t){switch(t.label){case 0:return this.showCopyIcon?(text=this.data.address_desc,[4,xt(text)]):[2];case 1:return t.sent()&&O()(this.translateI18n("copy_success")),[2]}}))}))},J([yt({type:Object,default:function(){}})],e.prototype,"data",void 0),J([yt({type:Number,default:1})],e.prototype,"line",void 0),J([yt({type:Boolean,default:!1})],e.prototype,"showCopyIcon",void 0),J([ft({default:function(){return null}})],e.prototype,"translateI18n",void 0),e=J([pt({components:{Tag:He,Toast:O.a,CopyIconSvg:Je}})],e)}(o.default),"data-v-46b69bc8",!1,void 0,!1,void 0,void 0,void 0),ti=_t({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-card"},[this._t("default",[e("LocationInfoCard",{staticClass:"card-info",attrs:{data:this.data,"show-copy-icon":!0}})],{data:this.data})],2)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),J([yt({type:Object,default:function(){}})],e.prototype,"data",void 0),e=J([pt({components:{LocationInfoCard:Ze}})],e)}(o.default),"data-v-4c26d2dc",!1,void 0,!1,void 0,void 0,void 0),ei={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[e("path",{attrs:{d:"M9.166 16.667a7.5 7.5 0 100-15 7.5 7.5 0 000 15z",stroke:"#212121","stroke-width":"1.625"}}),e("path",{attrs:{d:"M14.584 14.583l3.75 3.75",stroke:"#212121","stroke-width":"1.625","stroke-linecap":"round"}})])}},ii={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 16 16",fill:"none"}},[e("path",{attrs:{d:"M8 15A7 7 0 108 1a7 7 0 000 14z",fill:"#A8A8A8",stroke:"#A8A8A8","stroke-width":"1.4"}}),e("path",{attrs:{d:"M5.879 5.879l4.242 4.242M5.879 10.121L10.12 5.88",stroke:"#fff","stroke-width":"1.4","stroke-linecap":"round"}})])}},ni=new o.default({}),oi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.actualShow?n("div",{class:t.cClass,style:t.style},[n("div",{staticClass:"full-screen-modal-mask"}),t._v(" "),n("div",{staticClass:"full-screen-modal-inner",style:t.innerStyle},[n("div",{staticClass:"full-screen-modal-inner-header"},[t._t("header")],2),t._v(" "),n("div",{staticClass:"full-screen-modal-inner-body"},[t._t("default")],2)])]):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transitionEndFlag=!1,e.actualShow=!1,e.show=!1,e.appendBody=!1,e.transitionEnd=!1,e}return G(e,t),Object.defineProperty(e.prototype,"innerStyle",{get:function(){return{transform:this.show?"translateY(0px)":"translateY(100%)"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cClass",{get:function(){return{"full-screen-modal":!0,"full-screen-modal-hidden":!this.show}},enumerable:!1,configurable:!0}),e.prototype.onVisibleChange=function(t){Ct||(t?this.open():this.close())},e.prototype.close=function(){var t=this;this.show=!1,this.lockOuterScroll(!1),setTimeout((function(){t.actualShow=!1}),350)},e.prototype.open=function(){var t=this;this.actualShow=!0,this.lockOuterScroll(!0),setTimeout((function(){t.show=!0}),0)},e.prototype.lockOuterScroll=function(t){document.body.style.overflow=t?"hidden":"auto"},e.prototype.updateVisible=function(){this.$emit("update:visible",!1)},e.prototype.appendPopupElToBody=function(){var t=this;this.appendBody||this.$nextTick((function(){document.body.appendChild(t.$el),t.appendBody=!0}))},e.prototype.mounted=function(){ni.$on("closeFullScreenModal",this.updateVisible),this.appendPopupElToBody()},e.prototype.beforeDestroy=function(){ni.$off("closeFullScreenModal",this.updateVisible)},J([yt()],e.prototype,"title",void 0),J([yt()],e.prototype,"visible",void 0),J([gt("visible")],e.prototype,"onVisibleChange",null),e=J([pt],e)}(o.default),"data-v-34ddefbc",!1,void 0,!1,void 0,void 0,void 0),ri={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20",fill:"none"}},[e("path",{attrs:{d:"M12.916 3.333L5.416 10l3.75 3.333 3.75 3.334",stroke:"#212121","stroke-width":"1.625","stroke-linecap":"round","stroke-linejoin":"round"}})])}},ai=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"keywords-search-modal",attrs:{"data-spm-page":"LocationSearch_ResultPage"}},[n("div",{staticClass:"keywords-search-modal-header"},[n("div",{staticClass:"keywords-search-modal-header_left"},[n("ArrowBackIcon",{staticClass:"arrow-back-icon",nativeOn:{click:function(e){return e.stopPropagation(),t.back(e)}}})],1),t._v(" "),n("div",{staticClass:"keywords-search-modal-header_right"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keywords,expression:"keywords",modifiers:{trim:!0}}],ref:"searchInput",staticClass:"search-input",attrs:{placeholder:t.translateI18n("104304")},domProps:{value:t.keywords},on:{input:[function(e){e.target.composing||(t.keywords=e.target.value.trim())},t.handleInput],blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("div",{staticClass:"icon-box"},[n("SearchClearIcon",{directives:[{name:"show",rawName:"v-show",value:t.keywords,expression:"keywords"}],staticClass:"search-clear-icon",nativeOn:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}})],1)])]),t._v(" "),n("div",{staticClass:"keywords-search-modal-body"},["fetching"===t.status?n("div",{staticClass:"loading-box"},[n("klk-loading",{attrs:{"show-overlay":"","overlay-color":"rgba(255, 255, 255, 0.7)"}})],1):t._e(),t._v(" "),"success"===t.status?n("div",[t.isNotMatch?n("div",{staticClass:"search-keywords-none"},[t.isScope?n("div",{staticClass:"search-keywords-none-scope"},[n("p",{staticClass:"search-keywords-none-text"},[t._v(" "+t._s(t.translateI18n("104307")))])]):n("div",{staticClass:"search-keywords-none-point"},[n("div",{staticClass:"search-keywords-none-text"},[t._v("\n            "+t._s(t.translateI18n("104307"))+"\n          ")]),t._v(" "),t.hasResult?n("div",{staticClass:"search-keywords-none-point-below"},[n("div",{staticClass:"gap"}),t._v(" "),n("p",{staticClass:"sugguest"},[t._v(" "+t._s(t.translateI18n("104308")))])]):t._e()])]):t._e(),t._v(" "),n("div",{staticClass:"search-keywords-result-list"},t._l(t.searchResultList,(function(e){return n("div",{key:e.location,staticClass:"search-keywords-result-list-item",class:{selected:t.checkIsActive(e)},attrs:{"data-spm-module":t.getSearchResultSpm(e),"data-spm-virtual-item":"__virtual"},on:{click:function(n){return n.stopPropagation(),t.handleItemClick(e)}}},[n("LocationInfoCard",{attrs:{data:e}})],1)})),0)]):t._e()])])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keywords="",e.cancelToken=null,e.isNotMatch=!1,e.isSuggest=!1,e.status="default",e.searchResultList=[],e.handleKeyWordsChange=f()(e.getSearchResult,400),e}return G(e,t),Object.defineProperty(e.prototype,"hasResult",{get:function(){var t;return(null===(t=this.searchResultList)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype.initKeywordsChange=function(t){t&&(this.keywords=(null==t?void 0:t.location_name)||"",this.handleKeyWordsChange())},e.prototype.handleInput=function(){this.handleKeyWordsChange()},e.prototype.checkIsActive=function(t){return this.selectedItem&&t.location===this.selectedItem.location&&!this.isSuggest},e.prototype.reset=function(){this.searchResultList=[],this.isNotMatch&&(this.isNotMatch=!1)},e.prototype.getSearchResult=function(){var t,e,n,o,r;return Z(this,void 0,void 0,(function(){var c,l,d,h,f,v,data,m;return tt(this,(function(y){switch(y.label){case 0:return this.status="fetching",c={keyword:this.keywords,package_id:this.packageId,current_google_place_id:(null===(t=this.selectedItem)||void 0===t?void 0:t.google_place_id)||""},this.cancelToken&&this.cancelToken.cancel("cancel"),this.cancelToken=(null===(o=null===(n=null===(e=this.customAxios)||void 0===e?void 0:e.CancelToken)||void 0===n?void 0:n.source)||void 0===o?void 0:o.call(n))||null,[4,this.customAxios.$get("/v1/experiencesrv/search/poi_service/search_poi",{params:c,cancelToken:null===(r=this.cancelToken)||void 0===r?void 0:r.token})];case 1:return l=y.sent(),this.status="success",(null==l?void 0:l.success)&&(d=l.result||{},h=d.nodes,f=void 0===h?[]:h,v=d.data,data=void 0===v?[]:v,this.isNotMatch=!(null==data?void 0:data.length)&&!!this.keywords,this.isNotMatch&&this.isScope?this.searchResultList=[]:(m=(null==data?void 0:data.length)?data:f||[],this.isSuggest=null==data?!0:!data.length,this.searchResultList=this.setOrder(et([],m,!0)))),[2]}}))}))},e.prototype.setOrder=function(data){var t=this.selectedItem;if(t&&!this.isSuggest){var e=t.location;return et(et([],data.find((function(t){return(null==t?void 0:t.location)===e}))?[t]:[],!0),data.filter((function(t){return(null==t?void 0:t.location)!==e})),!0)}return data},e.prototype.autoFocus=function(){if(!this.keywords){var t=this.$refs.searchInput;(null==t?void 0:t.focus())&&t.focus()}},e.prototype.handleClear=function(){this.keywords="",this.handleKeyWordsChange(),this.autoFocus(),this.isScope?this.reset():this.handleKeyWordsChange()},e.prototype.back=function(){this.$emit("closeFullScreenModal")},e.prototype.handleItemClick=function(t){this.back(),this.$emit("selected",t)},e.prototype.getSearchResultSpm=function(t){var e=t.data_type,n="Available";return 2===e?n="Extra fee":3===e&&(n="Not offered"),"LocationSearch_SelectResult?trg=manual&ext=".concat(JSON.stringify({InScope:n}))},e.prototype.mounted=function(){this.autoFocus(),!this.isScope&&this.handleKeyWordsChange()},J([yt({default:null})],e.prototype,"selectedItem",void 0),J([yt({default:!1})],e.prototype,"isScope",void 0),J([yt({default:""})],e.prototype,"customKeywords",void 0),J([ft("translateI18n")],e.prototype,"translateI18n",void 0),J([ft("customAxios")],e.prototype,"customAxios",void 0),J([ft("packageId")],e.prototype,"packageId",void 0),J([gt("selectedItem",{immediate:!0})],e.prototype,"initKeywordsChange",null),e=J([pt({components:{SearchClearIcon:ii,ArrowBackIcon:ri,KlkLoading:x.a,LocationInfoCard:Ze}})],e)}(o.default),"data-v-0efb2804",!1,void 0,!1,void 0,void 0,void 0),si=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("klk-map",t._b({ref:"mapRef"},"klk-map",t.mapConfig,!1),[t._l(t.geoFenceConf,(function(t,e){return n("klk-map-geo-fence",{key:e,attrs:{"geo-fence-conf":t}})})),t._v(" "),t._l(t.markerList,(function(marker,e){return n("klk-map-marker",t._b({key:e,ref:"marker",refInFor:!0,class:{"marker-active":t.currentMarker===e},attrs:{center:marker.center,options:marker.options}},"klk-map-marker",t.getBindTracker(marker.tracker),!1),[n("img",{staticClass:"icon-img",class:{active:t.currentMarker===e},attrs:{src:marker.icon},on:{click:function(n){return t.markerClick(e)}}})])})),t._v(" "),!t.keywords&&!t.currentSelectedLocation||t.isClear?t._e():n("div",{staticClass:"map-card-box"},[n("MapCard",{attrs:{data:t.currentSelectedLocation}})],1),t._v(" "),n("div",{staticClass:"top-operator-box"},[n("KlkMapCircleButton",{staticClass:"close-button",attrs:{"data-spm-module":"CloseMap?trg=manual","data-spm-virtual-item":"__virtual"},nativeOn:{click:function(e){return t.$emit("close")}}},[n("klk-icon",{attrs:{type:"icon_navigation_close_m",size:"20"}})],1),t._v(" "),n("div",{staticClass:"fake-input-box no-width"},[n("div",{staticClass:"fake-input-box-left",attrs:{"data-spm-module":"LocationSearch","data-spm-virtual-item":"__virtual"},on:{click:function(e){return e.stopPropagation(),t.showModal(e)}}},[n("SearchGlassIcon",{staticClass:"glass-icon"}),t._v(" "),n("span",{staticClass:"search-input",class:{"is-keywords":t.keywords}},[t._v("\n          "+t._s(t.keywords||t.translateI18n("104304"))+"\n        ")])],1),t._v(" "),t.keywords?n("div",{staticClass:"fake-input-box-right"},[n("SearchClearIcon",{staticClass:"clear-icon",nativeOn:{click:function(e){return e.stopPropagation(),t.handleClear(e)}}})],1):t._e()])],1),t._v(" "),n("FullScreenModal",{staticClass:"js-full-srceen-modal",attrs:{visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[n("KeyWordsSearch",{ref:"keywordsSearchRef",attrs:{"selected-item":t.searchSelectedLocation,"is-scope":t.isScope},on:{closeFullScreenModal:function(e){t.visible=!1},selected:t.handleSelected}})],1)],2)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!1,e.keywords="",e.currentSelectedLocation=null,e.searchSelectedLocation=null,e.currentMarker=-1,e.geoFenceConf=[],e.markerList=[],e.isClear=!1,e}return G(e,t),Object.defineProperty(e.prototype,"locationList",{get:function(){return this.mapInfo.map||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isScope",{get:function(){return 2===this.mapInfo.pick_up_type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapConfig",{get:function(){var t;if(null===(t=this.locationList)||void 0===t?void 0:t.length){var e=this.locationList[0].location;return{type:this.mapType,height:"100%",interactive:"greedy",zoom:16,center:y.f.formatLatLng(e)}}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fencePointList",{get:function(){var t=this.geoFenceConf.reduce((function(t,e){return(e.polygonList||[]).forEach((function(e){Array.isArray(e)&&(Array.isArray(e[0])?t.push.apply(t,e.map((function(t){return y.f.formatLatLng(t.reverse().join(","))}))):2===e.length&&t.push(y.f.formatLatLng(e.reverse().join(","))))})),t}),[]);return Object.freeze(t)},enumerable:!1,configurable:!0}),e.prototype.initTransition=function(){var t;if(this.$el&&(null===(t=this.$el)||void 0===t?void 0:t.querySelector)){var e=this.$el.querySelector(".fake-input-box");e&&e.classList.contains("no-width")&&e.classList.remove("no-width")}},e.prototype.getGeoFenceConf=function(){return Z(this,void 0,void 0,(function(){var t,e,n,o;return tt(this,(function(r){switch(r.label){case 0:return t=(this.locationList||[]).map((function(t){return t.area_id})),[4,this.customAxios.$get("/v1/experiencesrv/area/strative_area_service/get_geom_by_id_list",{params:{area_id_list:t.join(",")}})];case 1:return e=r.sent(),n=e.result,e.success&&n&&n.geom_list&&(o=(n.geom_list||[]).reduce((function(t,e){var n;return((null===(n=null==e?void 0:e.geom)||void 0===n?void 0:n.coordinates)||[]).forEach((function(n){var o;return t.push({polygonList:"Polygon"===(null===(o=null==e?void 0:e.geom)||void 0===o?void 0:o.type)?[n]:n,polygonConfig:{strokeColor:"#08B371",fillColor:"#08B371"}})})),t}),[]),this.geoFenceConf=Object.freeze(o)),[2]}}))}))},e.prototype.initMarkerAndFence=function(){return Z(this,void 0,void 0,(function(){var t=this;return tt(this,(function(e){switch(e.label){case 0:return this.isScope?[4,this.getGeoFenceConf()]:[3,2];case 1:return e.sent(),[3,3];case 2:this.markerList=(this.locationList||[]).map((function(e){return t.formatMarker(e)})),e.label=3;case 3:return[2]}}))}))},e.prototype.initMap=function(){var t=this;this.$refs.mapRef.$getMapTool.then((function(e){return Z(t,void 0,void 0,(function(){var t,n,o;return tt(this,(function(r){return this.$map=e,"function"==typeof(null===(o=null===(n=this.$map)||void 0===n?void 0:n.map)||void 0===o?void 0:o.setOptions)&&(t=[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}],this.$map.map.setOptions({styles:t})),this.fitMapBounds(),[2]}))}))}))},e.prototype.fitMapBounds=function(){return Z(this,void 0,void 0,(function(){var t,e,n;return tt(this,(function(o){switch(o.label){case 0:return this.$map&&(t=this.isScope?et(et([],this.fencePointList,!0),this.markerList.map((function(t){return t.center})),!0):this.markerList.map((function(t){return t.center}))).length?[4,y.f.turfBbox(t,this.mapType)]:[3,2];case 1:e=o.sent(),n=this.$map.createBounds(e.sw,e.ne,{formatLngLat:!1}),this.$map.fitBounds(n,{padding:{top:this.markerList.length?80:20,left:20,bottom:160,right:20}}),o.label=2;case 2:return[2]}}))}))},e.prototype.formatMarker=function(data,t){void 0===t&&(t=!1);var e=data.location,n=data.icon;return{data:data,location:e,isTemporary:t,center:y.f.formatLatLng(e),icon:n||"",options:{anchor:"bottom"},tracker:{type:"module",spm:"ViewPickUpPoint",exposure:!1,query:{ext:JSON.stringify({Type:t?"customed":"fixed"})}}}},e.prototype.getBindTracker=function(t){return Ge(t)},e.prototype.markerClick=function(t){this.isClear=!1,this.currentMarker=t,this.flyTo(t);var data=this.markerList[t].data;this.currentSelectedLocation=data},e.prototype.flyTo=function(t){var e,marker=this.markerList[t];if(marker&&this.$map){var map=null===(e=this.$map)||void 0===e?void 0:e.map,n=marker.center;"google"===this.mapType?this.$map.flyTo(n):map.flyTo({center:n,speed:1.2,maxDuration:1e3})}},e.prototype.handleClear=function(){var t=this;this.searchSelectedLocation.location===this.currentSelectedLocation.location&&(this.isClear=!0,this.currentMarker=-1),this.keywords="",this.searchSelectedLocation=null,this.$nextTick((function(){t.markerList=t.markerList.filter((function(marker){return!marker.isTemporary})),t.fitMapBounds()}))},e.prototype.addMarker=function(data){this.markerList=this.markerList.filter((function(marker){return!marker.isTemporary}));var t=this.markerList.findIndex((function(t){return t.location===data.location}));if(-1===t){var e=this.formatMarker(data,!0);this.markerList.push(e),t=this.markerList.length-1}this.fitMapBounds(),-1!==t&&this.currentMarker!==t&&(this.currentMarker=t,this.flyTo(t))},e.prototype.showModal=function(){this.visible||(this.visible=!0)},e.prototype.handleSelected=function(t){this.visible=!1,this.isClear=!1,this.keywords=t.location_name,this.currentSelectedLocation=t,this.searchSelectedLocation=t,this.addMarker(t)},e.prototype.mounted=function(){return Z(this,void 0,void 0,(function(){var t=this;return tt(this,(function(e){switch(e.label){case 0:return[4,this.initMarkerAndFence()];case 1:return e.sent(),this.initMap(),this.$nextTick((function(){setTimeout((function(){t.initTransition()}),500)})),[2]}}))}))},J([yt({type:Object,default:function(){}})],e.prototype,"mapInfo",void 0),J([ft({default:function(){return""}})],e.prototype,"translateI18n",void 0),J([ft("customInhouseTrack")],e.prototype,"customInhouseTrack",void 0),J([yt({type:String,default:"mapbox"})],e.prototype,"mapType",void 0),J([ft({default:function(){return null}})],e.prototype,"customAxios",void 0),e=J([pt({components:{KlkMap:y.a,KlkMapMarker:y.d,KlkMapCircleButton:y.b,MapCard:ti,SearchGlassIcon:ei,SearchClearIcon:ii,FullScreenModal:oi,KeyWordsSearch:ai,KlkIcon:T.a,KlkMapGeoFence:y.c}})],e)}(o.default),"data-v-440c5165",!1,void 0,!1,void 0,void 0,void 0),ci=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.valid?n("div",{staticClass:"pick-up-info",attrs:{"data-spm-module":"PickMeetUpInformation?ext="+JSON.stringify({type:t.isScope?"pick_up_scope":"pick_up_fixed"})}},[n("h3",{staticClass:"pick-up-info-title"},[t._v(t._s(t.info.title))]),t._v(" "),n("p",{staticClass:"pick-up-info-tips"},[t._v(t._s(t.info.description))]),t._v(" "),n("div",{staticClass:"pick-up-info-text-list"},t._l(t.point_list,(function(text,e){return n("span",{key:e,staticClass:"pick-up-info-text-list-item"},[n("span",[t._v(t._s(text))])])})),0),t._v(" "),t.seeMore&&!t.isScope?n("div",{staticClass:"pick-up-info-see-more",on:{click:t.showMap}},[n("span",[t._v(t._s(t.seeMoreText))])]):t._e(),t._v(" "),n("div",{staticClass:"pick-up-info-btn",attrs:{"data-spm-module":"ViewPickUpPoint","data-spm-virtual-item":"__virtual"},on:{click:t.showMap}},[n("img",{staticClass:"pick-up-info-btn-img",attrs:{src:t.mapData.title_icon,alt:""}}),t._v(" "),n("span",{staticClass:"pick-up-info-btn-text"},[t._v(t._s(t.mapData.title))])])]):t._e()},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.limit=10,e}return G(e,t),Object.defineProperty(e.prototype,"valid",{get:function(){return!j()(this.info)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pick_up_type",{get:function(){return this.isScope?"pick_up_scope":"pick_up_fixed"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"point_list",{get:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.point_list)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seeMore",{get:function(){return Number(this.info.point_count)>this.limit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seeMoreText",{get:function(){var t=Number(this.info.point_count)-this.limit;return"".concat(this.translateI18n("see_more")," (").concat(t,"+)")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapData",{get:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.map_data)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isScope",{get:function(){var t;return 2===(null===(t=this.mapData)||void 0===t?void 0:t.pick_up_type)},enumerable:!1,configurable:!0}),e.prototype.showMap=function(){this.$emit("showMap")},J([ft("translateI18n")],e.prototype,"translateI18n",void 0),J([ft("currentMapType")],e.prototype,"currentMapType",void 0),J([yt({default:function(){}})],e.prototype,"info",void 0),e=J([pt],e)}(o.default),"data-v-d9373800",!1,void 0,!1,void 0,void 0,void 0),ui=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pick-up-mobile"},[n("PickUpInfo",{attrs:{info:t.info},on:{showMap:t.handleShowMap}}),t._v(" "),n("FullScreenModal",{staticClass:"pick-up-mobile-full-screen-modal",attrs:{visible:t.visible,"data-spm-page":t.dataPageSpm},on:{"update:visible":function(e){t.visible=e}}},[t.createdMap?n("Map",{attrs:{"map-info":t.mapInfo,"map-type":t.currentMapType||"google"},on:{close:function(e){t.visible=!1}}}):t._e()],1)],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.createdMap=!1,e.visible=!1,e}return G(e,t),Object.defineProperty(e.prototype,"mapInfo",{get:function(){return this.info.map_data||{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataPageSpm",{get:function(){return"PickUpMap?trg=manual&ext=".concat(encodeURIComponent(JSON.stringify({Source:"DetailPage",Type:1===this.mapInfo.pick_up_type?"pick_up_fixed":"pick_up_scope"})))},enumerable:!1,configurable:!0}),e.prototype.onVisibleChange=function(t){var e=this;t&&!Ct&&this.$nextTick((function(){var t=document.querySelector(".pick-up-mobile-full-screen-modal");e.customInhouseTrack("pageview",t,{force:!0})}))},e.prototype.handleShowMap=function(){this.visible=!0,this.createdMap=!0},J([yt({default:function(){}})],e.prototype,"info",void 0),J([ft("customInhouseTrack")],e.prototype,"customInhouseTrack",void 0),J([ft("currentMapType")],e.prototype,"currentMapType",void 0),J([gt("visible")],e.prototype,"onVisibleChange",null),e=J([pt({components:{Map:si,FullScreenModal:oi,PickUpInfo:ci}})],e)}(o.default),void 0,!1,void 0,!1,void 0,void 0,void 0),pi=_t({render:function(){var t=this.$createElement;return(this._self._c||t)(this.componentName,this._g(this._b({tag:"component"},"component",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),Object.defineProperty(e.prototype,"componentName",{get:function(){return this.isMobile?ui:Qe},enumerable:!1,configurable:!0}),J([ft("isMobile")],e.prototype,"isMobile",void 0),e=J([pt({components:{PickUpPointsDesktop:Qe,PickUpPointsMobile:ui}})],e)}(o.default),void 0,!1,void 0,!1,void 0,void 0,void 0),di={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 21",fill:"none"}},[e("path",{attrs:{d:"M11.054 6.921a1.053 1.053 0 11-2.105 0 1.053 1.053 0 012.105 0zM10.76 9.658a.758.758 0 10-1.516 0v5.053a.758.758 0 101.515 0V9.658z",fill:"#212121"}}),e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.001 18.5a8 8 0 100-16 8 8 0 000 16zm0-1.4a6.6 6.6 0 100-13.2 6.6 6.6 0 000 13.2z",fill:"#212121"}})])}},hi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.294 7.435a.8.8 0 010 1.13l-6.765 6.766a.8.8 0 01-1.132 0L2.633 8.566a.8.8 0 111.131-1.131l6.2 6.199 6.198-6.2a.8.8 0 011.132 0z"}})])}},fi={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{viewBox:"0 0 20 20"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.633 12.566a.8.8 0 010-1.132L9.397 4.67a.8.8 0 011.132 0l6.765 6.764a.8.8 0 01-1.132 1.132l-6.199-6.2-6.199 6.2a.8.8 0 01-1.131 0z"}})])}},vi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"itinerary-day"},[!t.isOneDay&&t.dayData.day_name?n("div",{staticClass:"itinerary-day-title",class:{collapsed:t.collapsed},on:{click:function(e){return t.changeCollapse(e)}}},[n("div",{staticClass:"itinerary-day-title-wrapper"},[t.dayData.day_icon?n("img",{staticClass:"itinerary-day-icon",attrs:{src:t.dayData.day_icon,alt:"icon"}}):t._e(),t._v(" "),n("span",[t._v(t._s(t.dayData.day_name))])]),t._v(" "),n("div",[t.hasPreSummaries?n("span",{staticClass:"itinerary-day-title-arrow"},[n("ArrowDownSvg",{directives:[{name:"show",rawName:"v-show",value:t.collapsed,expression:"collapsed"}]}),t._v(" "),n("ArrowUpSvg",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}]})],1):t._e()])]):t._e(),t._v(" "),t.showNav?n("div",{staticClass:"itinerary-day-nav",on:{click:function(e){t.collapsed=!t.collapsed}}},[n("CommaText",{staticClass:"itinerary-day-nav-text",attrs:{"text-data":t.dayData.pre_summaries}},[n("ArrowRightSvg",{staticStyle:{width:"16px",height:"16px"}})],1)],1):n("div",{staticClass:"itinerary-day-groups"},[t.dayData.text?n("div",{staticClass:"itinerary-day-header"},[n("img",{staticClass:"itinerary-day-header-icon",attrs:{src:t.dayData.icon}}),t._v(" "),n("div",[t._v(t._s(t.dayData.text))])]):t._e(),t._v(" "),t.isMobile?n("div",{staticClass:"itinerary-day-tips"},[t.dayData.tips.departure_tips?n("div",{staticClass:"itinerary-day-tips-text"},[t._v(t._s(t.dayData.tips.departure_tips))]):t._e(),t._v(" "),t.dayData.tips.departure_more?n("div",{staticClass:"itinerary-day-tips-text"},[t._v(t._s(t.dayData.tips.departure_more))]):t._e(),t._v(" "),t.dayData.tips.return_tips?n("div",{staticClass:"itinerary-day-tips-text"},[t._v(t._s(t.dayData.tips.return_tips))]):t._e()]):t._e(),t._v(" "),!t.dayData.pick_up_info||t.dayData.groups&&t.dayData.groups.length?t._e():n("PickUpInfo",{attrs:{info:t.pickUpInfo}}),t._v(" "),t._l(t.dayData.groups,(function(e,o){return n("div",{key:e.group_id+"-"+o,staticClass:"itinerary-day-block",attrs:{id:t.getId(e.group_id)}},[t.tipsList[o]&&t.tipsList[o].length>0&&!t.isMobile?n("div",{staticClass:"itinerary-day-tips desktop"},[n("IconTips",{staticClass:"itinerary-day-tips-icon"}),t._v(" "),n("div",{staticClass:"itinerary-day-tips-content"},t._l(t.tipsList[o],(function(text,i){return n("p",{key:i,staticClass:"itinerary-day-tips-text"},[t._v("\n            "+t._s(text||"")+"\n          ")])})),0)],1):t._e(),t._v(" "),t.dayData.pick_up_info&&0===o?n("PickUpInfo",{attrs:{info:t.pickUpInfo}}):t._e(),t._v(" "),n("ItineraryGroup",{class:{"no-line":t.isLast(o)},attrs:{"group-data":e,"tips-text":t.tipsList[o],showImageFn:t.showImageFn,hackCloseBtn:t.hackCloseBtn}})],1)}))],2)])},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.collapsed=!1,e}return G(e,t),e.prototype.getId=function(t){return this.isPickUp?"group_".concat(t):""},Object.defineProperty(e.prototype,"hasPreSummaries",{get:function(){var t,e;return!!(null===(e=null===(t=this.dayData)||void 0===t?void 0:t.pre_summaries)||void 0===e?void 0:e.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showNav",{get:function(){return!this.isOneDay&&this.hasPreSummaries&&this.collapsed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tipsList",{get:function(){for(var t=this.dayData||{},e=t.groups,n=t.tips,o=[],r=!1,c=!1,l=0,d=e||[];l<d.length;l++){var h=d[l];r||"itinerary_return"!==(null==h?void 0:h.group_key)?c||"itinerary_departure"!==(null==h?void 0:h.group_key)?o.push([]):(c=!0,o.push([(null==n?void 0:n.departure_tips)||"",(null==n?void 0:n.departure_more)||""].filter(Boolean))):(r=!0,o.push([(null==n?void 0:n.return_tips)||""].filter(Boolean)))}return o},enumerable:!1,configurable:!0}),e.prototype.isLast=function(t){var e,n;return t+1===(null===(n=null===(e=this.dayData)||void 0===e?void 0:e.groups)||void 0===n?void 0:n.length)},Object.defineProperty(e.prototype,"pickUpInfo",{get:function(){var t;return(null===(t=this.dayData)||void 0===t?void 0:t.pick_up_info)||{}},enumerable:!1,configurable:!0}),e.prototype.changeCollapse=function(t){this.collapsed=!this.collapsed,t&&t.stopPropagation()},J([yt()],e.prototype,"dayData",void 0),J([yt({default:!1})],e.prototype,"isOneDay",void 0),J([yt({default:!1})],e.prototype,"noDivider",void 0),J([yt()],e.prototype,"showImageFn",void 0),J([yt({default:!1})],e.prototype,"hackCloseBtn",void 0),J([ft("isPickUp")],e.prototype,"isPickUp",void 0),J([ft("isMobile")],e.prototype,"isMobile",void 0),e=J([pt({components:{CommaText:kt,ItineraryGroup:Ke,KlkDivider:c.a,ArrowRightSvg:wt,ArrowDownSvg:hi,ArrowUpSvg:fi,IconTips:di,PickUpInfo:pi}})],e)}(o.default),"data-v-5cfa535a",!1,void 0,!1,void 0,void 0,void 0),mi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"itinerary-footer"},t._l(t.footerData,(function(e,o){return n("p",{key:o,staticClass:"itinerary-footer-item"},[t._v("\n    "+t._s(e)+"\n  ")])})),0)},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),J([yt()],e.prototype,"footerData",void 0),e=J([pt({components:{KlkDivider:c.a}})],e)}(o.default),"data-v-527e34d4",!1,void 0,!1,void 0,void 0,void 0),yi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-wrap"},[t.info.image?n("img",t._b({staticClass:"image",attrs:{src:t.info.image}},"img",t.getBindTracker({type:"module",spm:"ItineraryMapCardImage",exposure:!1}),!1)):t._e(),t._v(" "),n("div",{staticClass:"info-wrap"},[n("div",{staticClass:"info-top"},[n("div",{staticClass:"info-top-left"},[n("div",{staticClass:"head ellipsis"},[t._v("\n          "+t._s(t.info.group_time)+"\n          "),t.info.group_time?n("span",{staticClass:"dot"}):t._e(),t._v("\n          "+t._s(t.info.group_name)+"\n        ")]),t._v(" "),t.info.title?n("div",{staticClass:"bold-head line-clamp"},[t._v(t._s(t.info.title))]):t._e(),t._v(" "),t._l(t.info.icons,(function(e,o){return n("div",{key:o,staticClass:"head"},[t._v(t._s(e.text))])}))],2)]),t._v(" "),t.info.address?n("div",t._b({staticClass:"sub-head",on:{click:t.copyAddress}},"div",t.getBindTracker({type:"module",spm:"ItineraryMapCardAddress",exposure:!1}),!1),[n("div",{staticClass:"address line-clamp"},[t._v(t._s(t.info.address))]),t._v(" "),n("div",{staticClass:"copy-wrap"},[n("CopyIconSvg",{staticStyle:{width:"16px",height:"16px"}})],1)]):t._e()])])},staticRenderFns:[]},void 0,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return G(e,t),e.prototype.copyAddress=function(){return Z(this,void 0,void 0,(function(){var text;return tt(this,(function(t){switch(t.label){case 0:return text=this.info.address,[4,xt(text)];case 1:return t.sent()&&O()(this.translateI18n("copy_success")),[2]}}))}))},e.prototype.getBindTracker=function(t){return Ge(t)},Object.defineProperty(e.prototype,"info",{get:function(){var t,e,n,o,r=this.data||{},title=r.title,c=r.icons,map=r.map,l=r.group_name,d=r.group_time,h=r.imgs,f=null!==(t=null==map?void 0:map.location)&&void 0!==t?t:"",address=null!==(e=null==map?void 0:map.address_desc)&&void 0!==e?e:"",image=null!==(o=null===(n=null==h?void 0:h[0])||void 0===n?void 0:n.src)&&void 0!==o?o:"";return{title:title,icons:Array.isArray(c)?c.slice(0,1):[],address:address,group_time:d,group_name:l,location:f,image:image&&Ot(image,"image/upload/",240,240,0)}},enumerable:!1,configurable:!0}),J([yt()],e.prototype,"data",void 0),J([ft({default:function(){return null}})],e.prototype,"translateI18n",void 0),e=J([pt({components:{CopyIconSvg:Je}})],e)}(o.default),"data-v-5ea50998",!1,void 0,!1,void 0,void 0,void 0),gi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("klk-map",t._b({ref:"map"},"klk-map",t.mapConfig,!1),[t._l(t.mapMarker,(function(marker,e){return n("klk-map-marker",t._b({key:e,class:{"marker-active":t.currentMarker===e},attrs:{center:marker.center,options:marker.options}},"klk-map-marker",t.getBindTracker(marker.tracker),!1),[n("img",{staticClass:"icon-img",class:{active:t.currentMarker===e},attrs:{src:marker.icon_url},on:{click:function(n){return t.markerClick(e)}}})])})),t._v(" "),n("div",{staticClass:"klk-scroll-snap-map",on:{touchmove:function(t){t.stopPropagation()}}},[n("klk-scroll-snap",{ref:"scrollSnap",on:{change:t.setMarkerIndex}},t._l(t.itineraryMap,(function(e,o){return n("MapCard",{key:o,style:t.cardStyle,attrs:{data:e}})})),1)],1),t._v(" "),n("KlkMapCircleButton",t._b({staticClass:"close-button",nativeOn:{click:function(e){return t.$emit("close")}}},"KlkMapCircleButton",t.getBindTracker({type:"module",spm:"ItineraryMapLayerClose",exposure:!1}),!1),[n("klk-icon",{attrs:{type:"icon_navigation_close_m",size:"20"}})],1),t._v(" "),n("KlkMapUserLocation",t._b({staticClass:"user-location",style:t.locationBottom},"KlkMapUserLocation",t.getBindTracker({type:"module",spm:"ItineraryMapFindMyPositionButton",exposure:!1}),!1))],2)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentMarker=0,e.scrollSnapHeight=0,e.stopChange=!1,e}return G(e,t),e.prototype.currentPoiChange=function(t){var e,n=this,o=null!==(e=null==t?void 0:t.attr_id)&&void 0!==e?e:0;if(t&&o){var r=(this.itineraryMap||[]).findIndex((function(t){return t.attr_id===o}));r>=0&&this.$nextTick((function(){n.markerClick(r)}))}},Object.defineProperty(e.prototype,"locationBottom",{get:function(){var t=this.scrollSnapHeight+12;return{bottom:"".concat(t,"px")}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cardStyle",{get:function(){var t=this.scrollSnapHeight-16,e=this.itineraryMap.length>1?{}:{width:"calc(100% - 40px)"};return Q({height:"".concat(t,"px")},e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapConfig",{get:function(){var t=this.mapType,e=this.itineraryMap[0].map.location.split(","),n=e[0],o=void 0===n?"":n,r=e[1];return{type:t,height:"100%",interactive:"greedy",zoom:16,center:"".concat(void 0===r?"":r,",").concat(o)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapMarker",{get:function(){return this.initMarker()},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.calcHeight(),this.initMap()},e.prototype.initMap=function(){var t=this;this.$refs.map.$getMapTool.then((function(e){return Z(t,void 0,void 0,(function(){var t,n,o,r,c,l;return tt(this,(function(d){switch(d.label){case 0:return this.$map=e,t=this.mapMarker.map((function(t){return t.center})),[4,y.f.turfBbox(t,this.mapType)];case 1:return n=d.sent(),o=e.createBounds(n.sw,n.ne,{formatLngLat:!1}),e.fitBounds(o,{padding:{top:80,left:40,bottom:this.scrollSnapHeight,right:40}}),"function"==typeof(null===(l=null===(c=this.$map)||void 0===c?void 0:c.map)||void 0===l?void 0:l.setOptions)&&(r=[{featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]}],this.$map.map.setOptions({styles:r})),[2]}}))}))}))},e.prototype.initMarker=function(){return(this.itineraryMap||[]).map((function(t){var e=t.map.location,n=t.group_key,o=t.group_icon||"",r={marker_type:n},c={type:"module",spm:"ItineraryMapMarkerClick",exposure:!1,query:{ext:JSON.stringify(r)}};return{center:y.f.formatLatLng(e),options:{anchor:"bottom"},tracker:c,icon_url:o}}))},e.prototype.getBindTracker=function(t){return Ge(t)},e.prototype.calcHeight=function(){var t=this.$refs.scrollSnap.$el;this.scrollSnapHeight=t.offsetHeight},e.prototype.getMarkerStyle=function(marker){var t;return{background:null!==(t=null==marker?void 0:marker.background)&&void 0!==t?t:"#fff"}},e.prototype.markerClick=function(t){this.stopChange=!0,this.$refs.scrollSnap.slideTo(t),this.currentMarker=t,this.flyTo(t)},e.prototype.setMarkerIndex=function(t){this.stopChange?this.stopChange=!1:(this.currentMarker=t,this.flyTo(t))},e.prototype.flyTo=function(t){var e,marker=this.mapMarker[t];if(marker&&this.$map){var map=null===(e=this.$map)||void 0===e?void 0:e.map,n=marker.center;"google"===this.mapType?this.$map.flyTo(n):map.flyTo({center:n,speed:1.2,maxDuration:1e3})}},J([yt({type:Object,default:function(){return[]}})],e.prototype,"itineraryMap",void 0),J([yt({type:String,default:"mapbox"})],e.prototype,"mapType",void 0),J([yt()],e.prototype,"currentPoi",void 0),J([gt("currentPoi",{deep:!0,immediate:!0})],e.prototype,"currentPoiChange",null),e=J([pt({components:{KlkMap:y.a,KlkMapMarker:y.d,KlkScrollSnap:Y,KlkMapUserLocation:y.e,KlkMapCircleButton:y.b,KlkIcon:T.a,MapCard:yi}})],e)}(o.default),"data-v-085f6fc9",!1,void 0,!1,void 0,void 0,void 0),bi=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map-wrapper"},[t.itineraryPOI.thumbnail_img&&t.itineraryPOI.thumbnail_text?n("div",t._b({staticClass:"map-container",on:{click:t.toggleMap}},"div",t.buttonTracker,!1),[n("div",{staticClass:"static-map"},[n("img",{staticClass:"static-map-img",attrs:{src:t.itineraryPOI.thumbnail_img}})]),t._v(" "),n("klk-button",{staticClass:"map-button",attrs:{size:"small",type:"secondary",icon:"icon_travel_location_fill",round:""}},[t._v("\n      "+t._s(t.itineraryPOI.thumbnail_text)+"\n    ")])],1):t._e(),t._v(" "),n("klk-bottom-sheet",{staticClass:"map-bottom-sheet",attrs:{visible:t.showMap,"can-pull-close":!1,height:"90%","z-index":2030,transfer:""},on:{"update:visible":function(e){t.showMap=e}}},[n("div",{staticClass:"map-wrap"},[t.createdMap?n("Map",{attrs:{"itinerary-map":t.itineraryMap,"current-poi":t.currentPoi,"map-type":t.mapType},on:{close:t.closeMap}}):t._e()],1)])],1)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showMap=!1,e.createdMap=!1,e}return G(e,t),Object.defineProperty(e.prototype,"itineraryPOI",{get:function(){var t,e;return null!==(e=null===(t=this.itineraryData)||void 0===t?void 0:t.pois)&&void 0!==e?e:{}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itineraryMap",{get:function(){var t,e;return null!==(e=null===(t=this.itineraryPOI)||void 0===t?void 0:t.poi_data)&&void 0!==e?e:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mapCenter",{get:function(){var t=this.itineraryMap[0].map.location.split(","),e=t[0],n=void 0===e?"":e,o=t[1];return"".concat(void 0===o?"":o,",").concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttonTracker",{get:function(){return Ge({type:"module",spm:"ItineraryMapPreview"})},enumerable:!1,configurable:!0}),e.prototype.currentPoiChange=function(t){t&&this.toggleMap()},e.prototype.closeMap=function(){this.toggleMap(),this.$emit("close")},e.prototype.staticMapHash=function(t){var e=0;if(0===t.length)return e;for(var i=0;i<t.length;i++){e=(e<<5)-e+t.charCodeAt(i),e&=e}return String(e)},e.prototype.toggleMap=function(){this.showMap=!this.showMap,this.createdMap=!0},J([yt()],e.prototype,"itineraryData",void 0),J([yt()],e.prototype,"currentPoi",void 0),J([yt()],e.prototype,"mapType",void 0),J([gt("currentPoi",{deep:!0,immediate:!0})],e.prototype,"currentPoiChange",null),e=J([pt({components:{Map:gi,KlkButton:m.a,KlkBottomSheet:E.a}})],e)}(o.default),"data-v-640bfe8a",!1,void 0,!1,void 0,void 0,void 0),_i=_t({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"exp-itinerary",class:{"is-large":"large"===t.currentSize}},[t.validateMap?n("ItineraryMap",{attrs:{"itinerary-data":t.itineraryData,"current-poi":t.currentPoi,platform:t.platform,"map-type":t.mapType},on:{close:function(e){t.currentPoi=null}}}):t._e(),t._v(" "),t.itineraryData.departure_more?n("div",{staticClass:"itinerary-top-tips"},[n("IconTipsSvg",{staticClass:"icon"}),t._v(" "),n("div",{staticClass:"text"},[t._v(t._s(t.itineraryData.departure_more))])],1):t._e(),t._v(" "),t._l(t.dayList,(function(e,o){return n("ItineraryDay",{key:e.day_name+"-"+o,attrs:{"day-data":e,"is-one-day":t.isOneDay,"no-divider":0===o,showImageFn:t.showImageFn,hackCloseBtn:t.hackCloseBtn}})})),t._v(" "),t.footerList&&t.footerList.length>0?n("ItineraryFooter",{attrs:{"footer-data":t.footerList}}):t._e(),t._v(" "),n("div",{attrs:{id:"TNA_ItineraryPhoto_page_spm","data-spm-page":t.pageSpm}},[t.allImages&&t.allImages.length>0?n("ImgPreviewMobile",{attrs:{images:t.allImages,index:t.currentIndex,visible:t.visible,"current-poi":t.currentImages},on:{"update:visible":function(e){t.visible=e},close:function(e){t.currentImages=null},swiperChange:t.swiperChange}},[n("template",{slot:"description"},[n("div",{staticClass:"merchant-image-description"},[t._v("\n          "+t._s(t.currentImages.text)+"\n        ")])])],2):t._e()],1)],2)},staticRenderFns:[]},void 0,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentPoi=null,e.visible=!1,e.currentIndex=0,e.currentImages={},e}return G(e,t),e.prototype.visibleChange=function(t){t&&"function"==typeof this.inhouseTrack&&this.inhouseTrack("pageview","#TNA_ItineraryPhoto_page_spm",{force:!0})},Object.defineProperty(e.prototype,"pageSpm",{get:function(){return"TNA_ItineraryPhoto?oid=package_".concat(this.packageId,"&trg=manual")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSimplified",{get:function(){return this.simplified},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobile",{get:function(){return"mobile"===this.platform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPrinting",{get:function(){return this.isPrint},enumerable:!1,configurable:!0}),e.prototype.handleTitleClick=function(data,t,e){var n,o,r;if(void 0===e&&(e=!1),t&&"function"==typeof this.grounpTitleClick&&this.grounpTitleClick(data),e){var c=(null!==(n=null==data?void 0:data.components)&&void 0!==n?n:[]).filter((function(t){return"poi"===t.type}))[0],l=(null!==(r=null===(o=null==c?void 0:c.data)||void 0===o?void 0:o.poi_data)&&void 0!==r?r:[])[0];this.handleShowMap(l)}},Object.defineProperty(e.prototype,"isPickUp",{get:function(){return"pick_up_meet_up"===this.componentType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customMap",{get:function(){return this.useItineraryMap},enumerable:!1,configurable:!0}),e.prototype.handleShowMap=function(map){this.currentPoi=map},e.prototype.handleEmit=function(t,data){this.$emit(t,data)},Object.defineProperty(e.prototype,"customCompObj",{get:function(){return this.customComp},enumerable:!1,configurable:!0}),e.prototype.customInhouseTrack=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.inhouseTrack.apply(this,t)},Object.defineProperty(e.prototype,"currentPlatform",{get:function(){return["mobile","desktop"].includes(this.platform)?this.platform:"mobile"},enumerable:!1,configurable:!0}),e.prototype.translateI18n=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=this.getTranslateFunc();return o.apply(void 0,et([t],e,!1))},Object.defineProperty(e.prototype,"customAxios",{get:function(){return this.getAxiosFunc()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"packageId",{get:function(){var t,e;return null!==(e=null===(t=this.itineraryData)||void 0===t?void 0:t.package_id)&&void 0!==e?e:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldDisableLazyload",{get:function(){return this.disableLazyload},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSize",{get:function(){return["small","large"].includes(this.size)?this.size:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentMapType",{get:function(){return this.mapType},enumerable:!1,configurable:!0}),e.prototype.showImagesViewer=function(t){this.currentIndex=this.allImages.findIndex((function(e){return e.attr_id===t.attr_id})),this.swiperChange(this.currentIndex),this.visible=!0},e.prototype.swiperChange=function(t){this.currentImages=this.allImages[t]||null},Object.defineProperty(e.prototype,"validateMap",{get:function(){var t,e,n,o=null!==(n=null===(e=null===(t=this.itineraryData)||void 0===t?void 0:t.pois)||void 0===e?void 0:e.poi_data)&&void 0!==n?n:[];return"mobile"===this.platform&&Array.isArray(o)&&o.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayList",{get:function(){var t;return(null===(t=this.itineraryData)||void 0===t?void 0:t.days)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footerList",{get:function(){var t;return(null===(t=this.itineraryData)||void 0===t?void 0:t.foot_info)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOneDay",{get:function(){return 1===this.dayList.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allImages",{get:function(){return this.getAllImages(this.dayList)},enumerable:!1,configurable:!0}),e.prototype.getAllImages=function(t){return void 0===t&&(t=[]),t.reduce((function(t,element){var e=(element.groups||[]).reduce((function(t,e){var n,o,r,c,l=e.components||[],d=l.find((function(t){return"texts"===t.type})),h=(null!==(o=null===(n=null==d?void 0:d.data)||void 0===n?void 0:n.texts)&&void 0!==o?o:[]).find((function(t){return"text"===t.type})),f=l.find((function(t){return"poi"===t.type})),v=(null!==(c=null===(r=null==f?void 0:f.data)||void 0===r?void 0:r.poi_data)&&void 0!==c?c:[]).reduce((function(t,e){var n,data=Q(Q({},e),{text:null!==(n=null==h?void 0:h.text)&&void 0!==n?n:""}),o=(e.imgs||[]).reduce((function(t,img){return"default"===img.type?t:et(et([],t,!0),[Q(Q({},img),data)],!1)}),[]);return et(et([],t,!0),o,!0)}),[]);return et(et([],t,!0),v,!0)}),[]);return et(et([],t,!0),e,!0)}),[])},J([yt({default:null})],e.prototype,"customComp",void 0),J([yt({default:"mobile"})],e.prototype,"platform",void 0),J([yt({default:""})],e.prototype,"size",void 0),J([yt({default:function(){return""}})],e.prototype,"getTranslateFunc",void 0),J([yt({default:function(){return""}})],e.prototype,"getAxiosFunc",void 0),J([yt({default:!1})],e.prototype,"disableLazyload",void 0),J([yt({type:Object,default:function(){return{}}})],e.prototype,"itineraryData",void 0),J([yt({default:!1})],e.prototype,"useItineraryMap",void 0),J([yt({type:String,default:"mapbox"})],e.prototype,"mapType",void 0),J([yt()],e.prototype,"showImageFn",void 0),J([yt({default:!1})],e.prototype,"hackCloseBtn",void 0),J([yt({type:String,default:""})],e.prototype,"componentType",void 0),J([yt()],e.prototype,"grounpTitleClick",void 0),J([yt({type:Boolean,default:!1})],e.prototype,"isPrint",void 0),J([yt({default:function(){return""}})],e.prototype,"inhouseTrack",void 0),J([yt({default:!1})],e.prototype,"simplified",void 0),J([gt("visible")],e.prototype,"visibleChange",null),J([vt("isSimplified")],e.prototype,"isSimplified",null),J([vt("isMobile")],e.prototype,"isMobile",null),J([vt("isPrinting")],e.prototype,"isPrinting",null),J([vt("handleTitleClick")],e.prototype,"handleTitleClick",null),J([vt("isPickUp")],e.prototype,"isPickUp",null),J([vt("customMap")],e.prototype,"customMap",null),J([vt("handleShowMap")],e.prototype,"handleShowMap",null),J([vt("handleEmit")],e.prototype,"handleEmit",null),J([vt("customCompObj")],e.prototype,"customCompObj",null),J([vt("customInhouseTrack")],e.prototype,"customInhouseTrack",null),J([vt("platform")],e.prototype,"currentPlatform",null),J([vt("translateI18n")],e.prototype,"translateI18n",null),J([vt("customAxios")],e.prototype,"customAxios",null),J([vt("packageId")],e.prototype,"packageId",null),J([vt("disableLazyload")],e.prototype,"shouldDisableLazyload",null),J([vt("componentSize")],e.prototype,"currentSize",null),J([vt("currentMapType")],e.prototype,"currentMapType",null),J([vt("showImagesViewer")],e.prototype,"showImagesViewer",null),e=J([pt({components:{ItineraryDay:vi,ItineraryFooter:mi,ItineraryMap:bi,ImgPreviewMobile:Ht,IconTipsSvg:di}})],e)}(o.default),"data-v-6232d9e0",!1,void 0,!1,void 0,void 0,void 0)},2803:function(t,e,n){},3626:function(t,e,n){}}]);