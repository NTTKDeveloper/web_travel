(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{115:function(e,t,n){"use strict";n(23),n(22),n(14),n(11),n(8),n(12);var r=n(4),o=n(0),c=(n(30),n(1)),l=n(381),d=n(218),_=n.n(d),f=n(130),v=n.n(f),m=n(268),h=n(18);"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual",window.addEventListener("beforeunload",(function(){window.history.scrollRestoration="auto"})),window.addEventListener("load",(function(){window.history.scrollRestoration="manual"})));var y=function(e,t,n){var r=!1,o=Object(h.e)(e);o.length<2&&o.every((function(e){return!1!==e.options.scrollToTop}))?r={x:0,y:0}:o.some((function(e){return e.options.scrollToTop}))&&(r={x:0,y:0}),n&&(r=n);var c=window.$klook;return e.path===t.path&&e.hash!==t.hash&&c.$nextTick((function(){return c.$emit("triggerScroll")})),new Promise((function(t){c.$once("triggerScroll",(function(){if(e.hash){var n=e.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(e){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}t(r)}))}))};c.default.use(m.a);var k=function(e){return e.then((function(e){return e.default||e}))},E=function(){return k(n.e(219).then(n.bind(null,4039)))},S=function(){return k(n.e(220).then(n.bind(null,4040)))},T=function(){return k(n.e(218).then(n.bind(null,4041)))},O=function(){return k(Promise.all([n.e(4),n.e(7),n.e(14),n.e(0),n.e(233)]).then(n.bind(null,4070)))},w=function(){return k(Promise.all([n.e(4),n.e(7),n.e(14),n.e(0),n.e(238)]).then(n.bind(null,4071)))},x=function(){return k(n.e(223).then(n.bind(null,4072)))},A=function(){return k(n.e(247).then(n.bind(null,4073)))},C=function(){return k(Promise.all([n.e(7),n.e(0),n.e(3),n.e(103),n.e(249)]).then(n.bind(null,4059)))},I=function(){return k(Promise.all([n.e(7),n.e(0),n.e(3),n.e(103),n.e(251)]).then(n.bind(null,4060)))},j=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(101),n.e(232)]).then(n.bind(null,4074)))},P=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(236)]).then(n.bind(null,4075)))},R=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(235)]).then(n.bind(null,4076)))},D=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(240)]).then(n.bind(null,4077)))},L=function(){return k(Promise.all([n.e(0),n.e(3),n.e(234)]).then(n.bind(null,4078)))},N=function(){return k(Promise.all([n.e(0),n.e(3),n.e(239)]).then(n.bind(null,4079)))},U=function(){return k(n.e(237).then(n.bind(null,4111)))},M=function(){return k(Promise.all([n.e(1),n.e(2),n.e(8),n.e(12),n.e(221)]).then(n.bind(null,4046)))},H=function(){return k(Promise.all([n.e(1),n.e(2),n.e(8),n.e(12),n.e(226)]).then(n.bind(null,4110)))},G=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(48),n.e(224)]).then(n.bind(null,4080)))},$=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(48),n.e(225)]).then(n.bind(null,4081)))},B=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(7),n.e(230)]).then(n.bind(null,4063)))},F=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(7),n.e(231)]).then(n.bind(null,4061)))},K=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(7),n.e(228)]).then(n.bind(null,4082)))},V=function(){return k(Promise.all([n.e(1),n.e(2),n.e(4),n.e(7),n.e(229)]).then(n.bind(null,4083)))},Y=function(){return k(n.e(252).then(n.bind(null,4112)))},W=function(){return k(n.e(227).then(n.bind(null,4054)))},z=function(){return k(Promise.all([n.e(1),n.e(104),n.e(102),n.e(241)]).then(n.bind(null,4053)))},Q=function(){return k(Promise.all([n.e(1),n.e(105),n.e(102),n.e(242)]).then(n.bind(null,4052)))},J=function(){return k(Promise.all([n.e(1),n.e(4),n.e(10),n.e(104),n.e(243)]).then(n.bind(null,4049)))},X=function(){return k(Promise.all([n.e(1),n.e(4),n.e(10),n.e(105),n.e(244)]).then(n.bind(null,4047)))},Z=function(){return k(Promise.all([n.e(0),n.e(245)]).then(n.bind(null,4055)))},ee=function(){return k(Promise.all([n.e(1),n.e(2),n.e(0),n.e(8),n.e(246)]).then(n.bind(null,4056)))},te=function(){return k(Promise.all([n.e(1),n.e(2),n.e(8),n.e(12),n.e(222)]).then(n.bind(null,4057)))},ne=function(){return k(Promise.all([n.e(4),n.e(106),n.e(0),n.e(3),n.e(248)]).then(n.bind(null,4048)))},re=function(){return k(Promise.all([n.e(4),n.e(106),n.e(0),n.e(3),n.e(250)]).then(n.bind(null,4050)))},ie=function(){return k(Promise.all([n.e(4),n.e(7),n.e(14),n.e(0),n.e(212)]).then(n.bind(null,4084)))},ae=function(){return k(Promise.all([n.e(4),n.e(7),n.e(14),n.e(0),n.e(213)]).then(n.bind(null,4085)))},oe=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(101),n.e(214)]).then(n.bind(null,4086)))},ce=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(215)]).then(n.bind(null,4087)))},se=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(216)]).then(n.bind(null,4088)))},ue=function(){return k(Promise.all([n.e(0),n.e(3),n.e(11),n.e(16),n.e(217)]).then(n.bind(null,4089)))};function le(e){return de.apply(this,arguments)}function de(){return(de=Object(r.a)(regeneratorRuntime.mark((function e(t){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={mode:"history",base:"/",fallback:!1,linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:y,routes:[{path:"/404/",name:"Error404",component:E,pathToRegexpOptions:{strict:!0}},{path:"/401/",name:"Error401",component:E,pathToRegexpOptions:{strict:!0}},{path:"/500/",name:"Error500",component:S,pathToRegexpOptions:{strict:!0}},{path:"/apiHealthCheck/",name:"apiHealthCheck",component:T,pathToRegexpOptions:{strict:!0}},{path:"/experiences/locredirect/:frontendId(\\d+)/",name:"ExperienceRedirect",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"redirect"}},{path:"/experiences-ttd/app-redirect/",name:"ExperienceTtdAppRedirect",components:{desktop:x,mobile:x},pathToRegexpOptions:{strict:!0}},{path:"/experiences/voucher-new-app-only/redeem/",name:"ExperienceVoucherAppRedeem",components:{desktop:E,mobile:A},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"VoucherRedeem"}},{path:"/experiences/",name:"ExperienceAroundTheWorld",components:{desktop:C,mobile:I},pathToRegexpOptions:{strict:!0},meta:{type:"world-l0",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesWorld",auth:!1}},{path:"/experiences/mcate/:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceAroundTheWorldCategory",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"world-l1",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesWorld"}},{path:"/experiences/cate/:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceAroundTheWorldTag",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"world-l2",trackedPageName:"Experience_SubVertical",gaPageName:""}},{path:"/experiences/coureg/:countryId(\\d+):seo(-[^/]*)?/",name:"ExperienceCountry",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"country-l0",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesCountry"}},{path:"/experiences/coureg-mcate/:countryId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceCountryCategory",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"country-l1",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesCountry"}},{path:"/experiences/coureg-cate/:countryId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceCountryTag",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"country-l2",trackedPageName:"Experience_SubVertical",gaPageName:"ExperiencesCountry"}},{path:"/experiences/city/:cityId(\\d+):seo(-[^/]*)?/",name:"ExperienceCity",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"city-l0",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesCity"}},{path:"/experiences/city-mcate/:cityId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceCityCategory",components:{desktop:O,mobile:w},pathToRegexpOptions:{strict:!0},meta:{type:"city-l1",gaPageName:"Experience_Vertical",trackedPageName:"ExperiencesCity"}},{path:"/experiences/city-cate/:cityId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/",name:"ExperienceCityTag",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"city-l2",trackedPageName:"Experience_SubVertical",gaPageName:""}},{path:"/experiences/search/",name:"ExperienceSearch",components:{desktop:R,mobile:D},pathToRegexpOptions:{strict:!0},meta:{type:"search",trackedPageName:"ExperiencesSearch",gaPageName:""}},{path:"/experiences/nearby/",name:"ExperienceNearby",components:{desktop:L,mobile:N},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"ExperiencesNearBy",gaPageName:"Experience_Nearby"}},{path:"/experiences/mcate/:frontendId(\\d+):seo(-[^/]*)?/activity/",name:"ExperienceCategoryActivityWorld",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"category-activity",trackedPageName:"Experience_SubVertical",gaPageName:"Experience_category_activity"}},{path:"/experiences/coureg-mcate/:countryId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/activity/",name:"ExperienceCategoryActivityCountry",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"category-activity",trackedPageName:"Experience_SubVertical",gaPageName:"Experience_category_activity"}},{path:"/experiences/city-mcate/:cityId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/activity/",name:"ExperienceCategoryActivityCity",components:{desktop:j,mobile:P},pathToRegexpOptions:{strict:!0},meta:{type:"category-activity",trackedPageName:"Experience_SubVertical",gaPageName:"Experience_category_activity"}},{path:"/experiences/city-mcate/:cityId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/activities/",name:"ExperienceCategoryActivityCity2",components:{desktop:j,mobile:U},pathToRegexpOptions:{strict:!0},meta:{type:"category-activity",trackedPageName:"Experience_SubVertical",gaPageName:"Experience_category_activity"}},{path:"/experiences/city-cate/:cityId(\\d+)-:frontendId(\\d+):seo(-[^/]*)?/activities/",name:"ExperienceCityTag2",components:{desktop:j,mobile:U},pathToRegexpOptions:{strict:!0},meta:{type:"city-l2",trackedPageName:"Experience_SubVertical",gaPageName:""}},{path:"/:preview(preview)?/experiences/activity/:activityPath/",name:"ExperienceActivityHome",components:{desktop:E,mobile:M},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"ExperiencesActivityPage",trackedPageName:"Activity",auth:!1}},{path:"/:nuxt_page(nuxt_page)?/experiences/tobook/new/:activityId/",name:"ExperienceActivityBookOptions",components:{desktop:E,mobile:H},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"BookingPage",trackedPageName:"BookingOptions",auth:!1}},{path:"/experiences/booking-details/",name:"ExperienceBookingDetails",components:{desktop:G,mobile:$},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"BookingDetail"}},{path:"/experiences/explore/:slug?/:themeId/",name:"ExperiencesExplorePage",components:{desktop:B,mobile:F},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"TNA_Explore",trackedPageName:"TNA_Explore",auth:!1}},{path:"/:preview(preview)?/activity/:activityPath/",name:"ActivityHome",components:{desktop:K,mobile:V},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"ActivityPage",trackedPageName:"Activity",auth:!1}},{path:"/tobook/new/:activityId/",name:"ActivityBookOptions",components:{desktop:E,mobile:Y},pathToRegexpOptions:{strict:!0},meta:{gaPageName:"BookingPage"}},{path:"/experiences/booking-select/",name:"ExperienceBookingSelect",components:{desktop:W,mobile:E},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"Reservation"}},{path:"/experiences/manage-booking/",name:"ExperienceManageBooking",components:{desktop:z,mobile:Q},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"ManageBooking"}},{path:"/experiences/pay/",name:"ExperiencePay",components:{desktop:J,mobile:X},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"TTD_Payment"}},{path:"/shoppingcart/",name:"ExperienceShoppingCart",components:{desktop:Z,mobile:ee},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"ShoppingCart"}},{path:"/experiences/voucher/redeem/",name:"ExperienceVoucherRedeem",components:{desktop:E,mobile:A},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"VoucherRedeem"}},{path:"/experiences/admin_preview/:activityPath/",name:"ExperienceAdminPreview",components:{desktop:te,mobile:te},pathToRegexpOptions:{strict:!0},meta:{auth:!1}},{path:"/experiences/list/:seoLink?/:id?/",name:"TourActivityList",components:{desktop:ne,mobile:re},pathToRegexpOptions:{strict:!0},meta:{trackedPageName:"TNA_ActivityList?trg=manual",gaPageName:"TNA_Activity_List",auth:!1}},{path:"/attractions/",name:"AttractionsVerticalHome",components:{desktop:ie,mobile:ae},pathToRegexpOptions:{strict:!0},meta:{type:"world-l0",gaPageName:"Attraction_Vertical",trackedPageName:"Attraction_Vertical",auth:!1}},{path:"/attractions/:country/g:countryId(\\d+)/",name:"AttractionsVerticalCountry",components:{desktop:oe,mobile:ce},pathToRegexpOptions:{strict:!0},meta:{type:"country-l0",gaPageName:"Attraction_ActivityList",trackedPageName:"Attraction_ActivityList",auth:!1}},{path:"/attractions/:city/c:cityId(\\d+)/",name:"AttractionsVerticalCity",components:{desktop:oe,mobile:ce},pathToRegexpOptions:{strict:!0},meta:{type:"city-l0",gaPageName:"Attraction_ActivityList",trackedPageName:"Attraction_ActivityList",auth:!1}},{path:"/attractions/:category/cate:frontendId(\\d+)/",name:"AttractionsVerticalCategory",components:{desktop:oe,mobile:ce},pathToRegexpOptions:{strict:!0},meta:{type:"world-l2",trackedPageName:"Attraction_ActivityList",gaPageName:"Attraction_ActivityList",auth:!1}},{path:"/attractions/:country-:category/g:countryId(\\d+)-cate:frontendId(\\d+)/",name:"AttractionsVerticalCategoryCountry",components:{desktop:oe,mobile:ce},pathToRegexpOptions:{strict:!0},meta:{type:"country-l2",trackedPageName:"Attraction_ActivityList",gaPageName:"Attraction_ActivityList",auth:!1}},{path:"/attractions/:city-:category/c:cityId(\\d+)-cate:frontendId(\\d+)/",name:"AttractionsVerticalCategoryCity",components:{desktop:oe,mobile:ce},pathToRegexpOptions:{strict:!0},meta:{type:"city-l2",trackedPageName:"Attraction_ActivityList",gaPageName:"Attraction_ActivityList",auth:!1}},{path:"/attractions/search/",name:"AttractionsSearch",components:{desktop:se,mobile:ue},pathToRegexpOptions:{strict:!0},meta:{type:"search",trackedPageName:"AttractionsSearch",gaPageName:"",auth:!1}}]},e.prev=1,o=n(663),c=o.createRouter,e.next=5,c(t,r);case 5:r=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:return e.abrupt("return",new m.a(r));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var pe,_e={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(e,t){var n=t.parent,data=t.data,r=t.props;data.nuxtChild=!0;for(var o=n,c=n.$klook.nuxt.transitions,l=n.$klook.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var _=c[d]||l,f={};fe.forEach((function(e){void 0!==_[e]&&(f[e]=_[e])}));var v={};ge.forEach((function(e){"function"==typeof _[e]&&(v[e]=_[e].bind(o))}));var m=v.beforeEnter;if(v.beforeEnter=function(e){if(window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")})),m)return m.call(o,e)},!1===_.css){var h=v.leave;(!h||h.length<2)&&(v.leave=function(e,t){h&&h.call(o,e),o.$nextTick(t)})}var y=e("routerView",data);return r.keepAlive&&(y=e("keep-alive",{props:r.keepAliveProps},[y])),e("transition",{props:f,on:v},[y])}},fe=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],ge=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],ve={name:"Error",layout:"errors",components:{KlookErrorPanel:n(383).a},props:{error:{type:Object,default:null}},computed:{statusCode:function(){return this.error&&this.error.statusCode||500}},methods:{btnRefreshFn:function(e){var t=+new Date,n=void 0!==arguments?arguments:null,r=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var r=+new Date-t;e=__in_house.get_spm_info(e,{duration:r,args:n})}catch(e){console.warn("Get spm info error",e)}return e};return e||(window.location.href=r(this.$href("/"))),this.$t("74486",{number:e})}}},me=(n(664),n(43)),he=Object(me.a)(ve,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"page-error"},[t("Klook-error-panel",{attrs:{status:this.statusCode,title:this.$t("47988"),content:this.$t("74485"),"btn-refresh-fn":this.btnRefreshFn}})],1)}),[],!1,null,"4e4a0898",null).exports,ye=(n(52),n(53),n(28),n(25)),be={name:"Nuxt",components:{NuxtChild:_e,NuxtError:he},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(e){this.displayingNuxtError&&(this.errorFromNuxtError=e,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(h.b)(this.$route.matched[0].path)(this.$route.params);var e=Object(ye.a)(this.$route.matched,1)[0];if(!e)return this.$route.path;var t=e.components.default;if(t&&t.options){var n=t.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(e.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(e){var t=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return t.errorFromNuxtError=!1})),e("div",{},[e("h2","An error occured while showing the error page"),e("p","Unfortunately an error occured and while showing the error page another error occured"),e("p","Error details: ".concat(this.errorFromNuxtError.toString())),e("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return t.displayingNuxtError=!1})),e(he,{props:{error:this.nuxt.err}})):e("NuxtChild",{key:this.routerViewKey,props:this.$props})}},ke=(n(45),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var e=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return e.startTimer()}),this.throttle):this.startTimer(),this},set:function(e){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(e))),this},get:function(){return this.percent},increase:function(e){return this.percent=Math.min(100,Math.floor(this.percent+e)),this},decrease:function(e){return this.percent=Math.max(0,Math.floor(this.percent-e)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var e=this;return this.clear(),setTimeout((function(){e.show=!1,e.$nextTick((function(){e.percent=0,e.reversed=!1}))}),500),this},fail:function(){return this.canSucceed=!1,this},startTimer:function(){var e=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){e.skipTimerCount>0?e.skipTimerCount--:(e.reversed?e.decrease(e._cut):e.increase(e._cut),e.continuous&&(e.percent>=100?(e.skipTimerCount=1,e.reversed=!e.reversed):e.percent<=0&&(e.skipTimerCount=1,e.reversed=!e.reversed)))}),100)}},render:function(e){var t=e(!1);return this.show&&(t=e("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),t}}),Ee=(n(665),Object(me.a)(ke,void 0,void 0,!1,null,null,null).exports),Se=(n(666),n(667),n(668),n(669),{"_activity-booking-options":function(){return Promise.all([n.e(18),n.e(20),n.e(202)]).then(n.bind(null,4090)).then((function(e){return e.default||e}))},_blank:function(){return n.e(203).then(n.bind(null,4091)).then((function(e){return e.default||e}))},"_booking-options":function(){return n.e(204).then(n.bind(null,4092)).then((function(e){return e.default||e}))},_checkout:function(){return n.e(205).then(n.bind(null,4093)).then((function(e){return e.default||e}))},_default:function(){return n.e(206).then(n.bind(null,4094)).then((function(e){return e.default||e}))},_errors:function(){return n.e(207).then(n.bind(null,4095)).then((function(e){return e.default||e}))},_plain:function(){return n.e(208).then(n.bind(null,4096)).then((function(e){return e.default||e}))},"_white-label":function(){return n.e(209).then(n.bind(null,4097)).then((function(e){return e.default||e}))}}),Te={},Oe={head:{title:"Klook Travel",meta:[{charset:"utf-8"},{hid:"keywords",name:"keywords",content:"klook, travel"},{hid:"description",name:"description",content:"Klook Travel"}],link:[],style:[],script:[{src:"https://www.googletagmanager.com/gtm.js?id=GTM-5NWTPH",async:!0},{type:"text/javascript",src:"https://cdn.klook.com/s/dist_web/common/1.12.18/klk_common.js"},{pbody:!0,type:"text/javascript",innerHTML:"(typeof klk_common !== 'undefined')&&klk_common.detectSpm&&klk_common.detectSpm()"},{body:!0,type:"text/javascript",innerHTML:"(typeof klk_common !== 'undefined')&&klk_common.detectSpm&&klk_common.detectSpm();"}],noscript:[{hid:"gtm-noscript",innerHTML:'<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5NWTPH" height="0" width="0" style="display:none;visibility:hidden"></iframe>',pbody:!0}]},render:function(e,t){var n=e("NuxtLoading",{ref:"loading"});this.nuxt.err&&he.layout&&this.setLayout("function"==typeof he.layout?he.layout(this.context):he.layout);var r=e(this.layout||"nuxt"),o=e("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),c=e("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(e){window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")}))}}},[o]);return e("div",{domProps:{id:"__klook"}},[n,c])},data:function(){return{isOnline:!0,layout:null,layoutName:""}},beforeCreate:function(){c.default.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){c.default.prototype.$klook=this,window.$klook=window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){this.$loading=this.$refs.loading},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:(pe=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=Object(h.f)(this.$route)).length){e.next=3;break}return e.abrupt("return");case 3:return this.$loading.start(),n=t.map((function(e){var p=[];return e.$options.fetch&&p.push(Object(h.l)(e.$options.fetch,r.context)),e.$options.asyncData&&p.push(Object(h.l)(e.$options.asyncData,r.context).then((function(t){for(var n in t)c.default.set(e.$data,n,t[n])}))),Promise.all(p)})),e.prev=5,e.next=8,Promise.all(n);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),this.$loading.fail(),Object(h.i)(e.t0),this.error(e.t0);case 15:this.$loading.finish();case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(){return pe.apply(this,arguments)}),errorChanged:function(){this.nuxt.err&&this.$loading&&(this.$loading.fail&&this.$loading.fail(),this.$loading.finish&&this.$loading.finish())},setLayout:function(e){e&&Te["_"+e]||(e="default"),this.layoutName=e;var t="_"+e;return this.layout=Te[t],this.layout},loadLayout:function(e){var t=this,n=!e,r=!(Se["_"+e]||Te["_"+e]),o="_"+(n||r?"default":e);return Te[o]?Promise.resolve(Te[o]):Se[o]().then((function(e){return Te[o]=e,delete Se[o],Te[o]})).catch((function(e){if(t.$klook)return t.$klook.error({statusCode:500,message:e.message})}))}},components:{NuxtLoading:Ee}},we=(n(61),n(20),n(37),n(97));c.default.use(we.a);var xe=["state","getters","actions","mutations"],Ae={};(Ae=function(e,t){if((e=e.default||e).commit)throw new Error("[nuxt] ".concat(t," should export a method that returns a Vuex instance."));return"function"!=typeof e&&(e=Object.assign({},e)),Ie(e,t)}(n(670),"store/index.ts")).modules=Ae.modules||{},je(n(687),"auth.ts"),je(n(266),"experience/index.ts"),je(n(702),"common/area.ts"),je(n(703),"common/header-search.ts"),je(n(704),"common/kepler.ts"),je(n(705),"experience/order-settlement.ts"),je(n(417),"experience/pkgs-cache-observable.js"),je(n(706),"traveller/booking-list.ts"),je(n(822),"traveller/chat.ts"),je(n(707),"traveller/faq.ts"),je(n(708),"traveller/gift-card.ts"),je(n(820),"traveller/home-page.ts"),je(n(709),"traveller/klookpreferred.ts"),je(n(710),"traveller/poi.ts"),je(n(711),"traveller/search-result.ts"),je(n(712),"traveller/theme.ts"),je(n(713),"traveller/activity/actions.ts"),je(n(746),"traveller/activity/getters.ts"),je(n(747),"traveller/activity/mutations.ts"),je(n(748),"traveller/activity/state.ts"),je(n(2),"traveller/activity/types.ts");var Ce=Ae instanceof Function?Ae:function(){return new we.a.Store(Object.assign({strict:!1},Ae))};function Ie(e,t){if(e.state&&"function"!=typeof e.state){console.warn("'state' should be a method that returns an object in ".concat(t));var n=Object.assign({},e.state);e=Object.assign({},e,{state:function(){return n}})}return e}function je(e,t){e=e.default||e;var n=t.replace(/\.(js|mjs|ts)$/,"").split("/"),r=n[n.length-1],o="store/".concat(t);if(e="state"===r?function(e,t){if("function"!=typeof e){console.warn("".concat(t," should export a method that returns an object"));var n=Object.assign({},e);return function(){return n}}return Ie(e,t)}(e,o):Ie(e,o),xe.includes(r)){var c=r;Re(Pe(Ae,n,{isProperty:!0}),e,c)}else{"index"===r&&(n.pop(),r=n[n.length-1]);var l=Pe(Ae,n),d=!0,_=!1,f=void 0;try{for(var v,m=xe[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var h=v.value;Re(l,e[h],h)}}catch(e){_=!0,f=e}finally{try{d||null==m.return||m.return()}finally{if(_)throw f}}!1===e.namespaced&&delete l.namespaced}}function Pe(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).isProperty,r=void 0!==n&&n;if(!t.length||r&&1===t.length)return e;var o=t.shift();return e.modules[o]=e.modules[o]||{},e.modules[o].namespaced=!0,e.modules[o].modules=e.modules[o].modules||{},Pe(e.modules[o],t,{isProperty:r})}function Re(e,t,n){t&&("state"===n?e.state=t||e.state:e[n]=Object.assign({},e[n],t))}var De=n(156),Le=function(e,t,n){return n.meta.some((function(meta){return meta[e]===t}))};De.a.auth=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.app,r=t.route,o=t.store,c=t.redirect,!Le("auth",!1,r)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o.dispatch("auth/canVerify");case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,o.dispatch("auth/verify");case 10:l=e.sent,n.user=l,Le("auth",!0,r)&&(l||(d=encodeURIComponent(r.fullPath),c("".concat(n.$href("/signin"),"/?signin_jump=").concat(d))));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();n(133),n(73);var Ne=n(98),Ue=n.n(Ne),Me=n(387),He=n.n(Me),Ge="c2ca8b423fd75a10792debf44cd6b51a",$e="mp_"+Ge+"_mixpanel";var Be=function(){var e=function(e){var t=null;try{t=localStorage.getItem(e)}catch(e){}return t}($e);try{e=JSON.parse(e)}catch(e){}return e&&e.distinct_id}();function Fe(e,t){var n=window.__KLOOK__.state,r=n.klook,o=n.auth.user,c={Language:r.language,Platform:"mobile"===r.platform?"Mobile":"Web",Domain:window.location.host||document.domain,"Login Status":!1};o&&(c["Login Status"]=!0,c["User ID"]=o.globalId,c.Email=o.emailHash,c["Registration Date"]=o.createTime,o.countryCode&&(c["Backend User Country"]=o.countryCode));var l=r.affiliateConf.aid_extra_info||{},d=r.affiliateConf.wid,_=l.aff_pid,f=l.aff_sid,v=l.aff_adid,m=e.$cookies.get("cid_mixpanel");d&&(c["Affiliate ID"]=d,c["Affiliate PID"]=_,c["Affiliate SID"]=f,c["Affiliate ADID"]=v,c.utm_medium="affiliate-alwayson",c.utm_source=r.affiliateConf.affiliate_type,c.utm_campaign=r.affiliateConf.wid,c.utm_term=r.affiliateConf.aid_extra_info&&r.affiliateConf.aid_extra_info.aff_pid),m&&(c["Campaign Page ID"]=m),t&&Object.assign(c,t),Ue.a.register(c)}Ue.a.init(Ge,{track_pageview:!1,persistence:"localStorage",loaded:function(e){!function(e){var t=Be;if(window.__KLOOK__&&window.__KLOOK__.state&&window.__KLOOK__.state.klook.platformMp){var n=decodeURIComponent((new RegExp("[?|&]"+"mp_tracking"+"=([^&;]+?)(&|#|;|$)").exec(o||location.search)||[void 0,""])[1].replace(/\+/g,"%20"))||null,r={};try{r=JSON.parse(n).super}catch(e){}if(r.distinctId){t=r.distinctId;try{window.sessionStorage.setItem("MP_DISCINCT_ID",r.distinctId)}catch(e){}}else try{t=window.sessionStorage.getItem("MP_DISCINCT_ID")}catch(e){}}var o;t||(c=He.a.parse(document.cookie),t=c&&c.kepler_id||window.BaseData&&window.BaseData.keplerId);var c;t&&e.identify(t)}(e)}}),c.default.prototype.$sendMixpanel=function(e){Fe(this,e.sprops),Ue.a.track(e.name,e.props)};var Ke=["click","mousedown","mouseup","mouseenter","mouseleave"];c.default.directive("mixpanel",{bind:function(e,t,n){var r=t.arg,o=t.modifiers,c=t.value,l=n.context;if(Ke.includes(r))if(c){t._callback=function(e){o.prevent&&e.preventDefault(),o.stop&&e.stopPropagation(),l.$sendMixpanel(c)},e.addEventListener(r,t._callback,{once:!!o.once})}else console.warn("You must binding a value to the directive");else console.warn("[mixpanel directive] Unsupport event:",r)},unbind:function(e,t){var n=t.arg,r=t._callback;"function"==typeof r&&e.removeEventListener(n,r)}});var qe=function(e){e.app.router.afterEach((function(){setTimeout((function(){Fe(e.app),Ue.a.track("Page View")}),0)}))};n(70);function Ve(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ye(){window.dataLayer.push({event:"gtm.js","gtm.start":Date.now()})}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=window.__KLOOK__.state.klook,n=window.__KLOOK__.state.auth.user,r=window.dataLayer.find((function(e){return e.Language&&e.Currency})),c=n?{BackendUserCountry:n.countryCode,Gender:n.title,UserEmailMD5:n.emailHash,UserCreateTime:n.createTime,userId:n.globalId}:{};if(r)Object.assign(r,c,e);else{var l=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ve(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ve(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({Currency:t.currency,IPLocationCity:void 0,IPLocationCountry:t.ipCountry,Language:t.backendLanguage,Page:void 0},c,{},e);window.dataLayer.push(l)}}function ze(data){window.dataLayer&&data&&("virtualPageView"===data.event?We({Page:data.pageName}):We(),window.dataLayer.push(data))}c.default.prototype.$sendGTM=ze,c.default.prototype.$sendGTMCustomEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&"string"==typeof e){var n=e.split("|"),r=Object(ye.a)(n,4);ze({event:"trackEventCustom",eventNonInteractive:t,eventCategory:r[0],eventAction:r[1],eventLabel:r[2],eventValue:r[3]})}};var Qe=["click","mousedown","mouseup","mouseenter","mouseleave"];c.default.directive("gtm",{bind:function(e,t,n){var r=t.arg,o=t.modifiers,c=t.value,l=n.context;if(Qe.includes(r))if(c){t._callback=function(e){o.prevent&&e.preventDefault(),o.stop&&e.stopPropagation(),l.$sendGTMCustomEvent(c)},e.addEventListener(r,t._callback,{once:!!o.once})}else console.warn("You must binding a value to the directive");else console.warn("[gtm directive] Unsupport event:",r)},unbind:function(e,t){var n=t.arg,r=t._callback;"function"==typeof r&&e.removeEventListener(n,r)}});var Je=function(e,t){window.dataLayer=window.dataLayer||[],t("fireGtm",Ye),t("sendGTM",ze)},Xe=n(388),Ze=n.n(Xe),et=function(e,t){var n=e.req,r=e.res,o=!0;t("cookies",Ze()(n,r,o))},tt=n(415);function nt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function it(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?nt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):nt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var at=function(e,t){var n,r;t("clientReport",new tt.a({url:"https://log.klook.com/v3/frontlogsrv/log/web",platform:e.store.state.klook.platform,extraMsg:it({},(null===(n=e.store.state.klook)||void 0===n?void 0:n.pageTemplate)?{page_template:null===(r=e.store.state.klook)||void 0===r?void 0:r.pageTemplate}:{})}))},ot=n(389),ct=n.n(ot),st=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ct.a({cookies:t.app.$cookies}),e.next=3,r.ready();case 3:n("traffic",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=(n(27),n(160),n(270)),lt=n(282),pt=n(290),_t=n(216);c.default.use(ut.a);var map=new Map;function ft(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(r.a)(regeneratorRuntime.mark((function e(t){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="locale-".concat(t,".json"),o=null,e.prev=2,e.next=5,n(763)("./".concat(r));case 5:c=e.sent,o=c.default||c,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),console.error("Load locale error:",e.t0),e.abrupt("return",o);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var vt=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c,l,d,_,f,v,m,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.app,l=t.store,d=t.route,_=_t.a.fallbackLocale,f=_,v=_t.a.testMessages,m=(null===(r=d.fullPath)||void 0===r?void 0:r.includes("cmstextid=1"))||!1,f=l.state.klook.language||_,map.get(f)){e.next=15;break}return e.next=10,ft(f);case 10:return h=e.sent,map.set(f,new ut.a({isDebugMode:m,locale:f,messages:h?Object(o.a)({},f,h):v,interpolation:{prefix:"{",postfix:"}",linkKeyWord:"MULTILANG_URL_PLACEHOLDER"}})),y=map.get(f),e.next=15,Promise.all([Object(lt.a)(y),Object(pt.a)(y)]);case 15:c.i18n=map.get(f),c.i18n.options.isDebugMode=m,n("i18n",c.i18n);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mt=n(13),ht=n(74),yt=n(5),bt=n(95),kt=n.n(bt),Et=n(79),St=n.n(Et);n(72);var Tt=n(169),Ot=n(3),wt=n(16);function xt(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var At=function(e,t){var n=e.app,c=e.store,l=e.req,d=kt.a.create({baseURL:"/",timeout:15e3,withCredentials:!1,headers:{Version:"6.0",Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"}});d.CancelToken=kt.a.CancelToken,d.isCancel=kt.a.isCancel,function(e){for(var t=function(){var t=r[n];e["$"+t]=function(){return this[t].apply(this,arguments).then((function(e){return e&&e.data}))}},n=0,r=["request","delete","get","head","options","post","put","patch"];n<r.length;n++)t()}(d),d.interceptors.request.use(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var o,_,f,v,m,h,y,k,E,S,T,O,w,x,A,C,I,j,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P=function(){return(P=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.$cookies.get("CSRF-Token-Valid")&&n.$cookies.get("CSRF-Token")){e.next=4;break}return e.next=4,d.get("/v1/gatewaysrv/csrftoken");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},j=function(){return P.apply(this,arguments)},f=t.headers,v=t.noCache,m=void 0===v||v,h=t.CSRF,y=void 0!==h&&h,k=c.state,E=k.klook,S=k.common.kepler,T=S.tintedList||"",O=E.utilConfig.is_guest_checkout,w=S.keplerId||"",f["Accept-Language"]=E.backendLanguage||"",f.Currency=E.currency||"",f.Token=n.$cookies.get("_pt")||"",f._pt=n.$cookies.get("device_id_new")||w||"",f["X-Klook-Kepler-Id"]=w,f["X-Klook-Tint"]=T||"",f["X-Klook-Page-Open-Id"]=E.pageId||"",f["X-Klook-Host"]=E.host||"",f["X-Klook-Affiliate-Aid"]=St()(E.affiliateConf,"wid",""),f["X-Klook-Affiliate-Pid"]=St()(E.affiliateConf,"aid_extra_info.aff_pid",""),x=n.$i18n.options.isDebugMode?"text":"",A=null===(o=l)||void 0===o?void 0:o.trafficChannel,C=n.$traffic.useState({type:n.$traffic.constant.TrafficChannel}),(A=null===(_=C.channel)||void 0===_?void 0:_.channel)&&(f["X-Klook-Traffic-Channel"]=A),x&&(f["X-Klook-Debug-Mode"]=x),E.residenceId&&(f["X-Klook-User-Residence"]="".concat(E.residenceId,"_").concat(E.residenceCode)),f["X-Klook-Market"]=E.market||"global",m&&(f["Cache-Control"]="no-cache"),!y){e.next=32;break}if(I=n.$cookies.get("CSRF-Token")||""){e.next=31;break}return e.next=30,j();case 30:I=n.$cookies.get("CSRF-Token")||"";case 31:f["X-CSRF-Token"]=I;case 32:return f["X-Platform"]=f["X-Platform"]||E.platform||"","production",O&&Ot.b.includes(t.url||"")&&(t.baseURL="/xos_gc"),t.startTime=Date.now(),t.fullURL=(t.baseURL||"").replace(/\/$/,"")+t.url,t.requestId=Object(wt.gb)(),Object(Tt.b)(t),e.abrupt("return",t);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(t){var data=t.data,r=t.config;t.status,t.request;if(Object(Tt.a)(r),"object"===Object(yt.a)(data)&&!data.success&&(data.error=data.error||{code:"",message:n.$i18n.t("client_server_failure")},r.throwError)){var c=data.error,code=c.code,l=c.message,d=Object(ht.a)(c,["code","message"]),_=new Error(l);return Promise.reject(Object.assign(_,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?xt(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):xt(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},d,{code:code,data:data,config:r,errorType:"service"})))}return e.app.$clientReport&&e.app.$clientReport.reportRequestSuccess({pageName:Object.assign.apply(Object,[{}].concat(Object(mt.a)(e.route.meta))).trackedPageName},r,t),t}),(function(t){if(!d.isCancel(t)){t.message;var r=t.config,o=t.response;t.request;if(Object(Tt.a)(r),o){var data=o.data,c=o.status;t.errorType="network",t.code=data.error&&data.error.code||String(c),t.message=data.error&&data.error.message||n.$i18n.t("client_server_failure")}else t.code="990001",t.errorType="client",t.message=n.$i18n.t("client_network_failure");e.app.$clientReport&&e.app.$clientReport.reportRequestError({pageName:Object.assign.apply(Object,[{}].concat(Object(mt.a)(e.route.meta))).trackedPageName},r,o,t)}return Promise.reject(t)})),t("axios",d)},Ct=n(164);c.default.prototype.$tokensObj=Ct.tokens;var It=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.store.dispatch("auth/getProfile",{ctx:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=n(163),Pt={client_id:""};function Rt(){var e=navigator.userAgent.toLocaleLowerCase(),t=/mobile/.test(e)&&(/iphone|ipad/.test(e)||/android/.test(e)),n="";if(null!=e.match(/msie/)||null!=e.match(/trident/))n="IE";else if(null!=e.match(/firefox/))n="firefox";else if(null!=e.match(/ucbrowser/))n="UC";else if(null!=e.match(/opera/)||null!=e.match(/opr/))n="opera";else if(null!=e.match(/bidubrowser/))n="baidu";else if(null!=e.match(/metasr/))n="sougou";else if(null!=e.match(/tencenttraveler/)||null!=e.match(/qqbrowse/))n="QQ";else if(null!=e.match(/maxthon/))n="maxthon";else if(null!=e.match(/chrome/)){n=function(option,e){var t=navigator.mimeTypes;for(var n in t)if(t[n][option]===e)return!0;return!1}("type","application/vnd.chromium.remoting-viewer")?"360":"chrome"}else n=/version/.test(e)&&/safari/.test(e)?"Safari":"others";return n=t?"Mobile"+n:n}function Dt(e){var t,n,r,o,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=e.store,_=d.state.auth||{},f=d.state.klook||{},v=function(e){var t,n,r,o,c,l,d,_,f,v,m,h,y,k="",E="";if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])E=(null===(f=document.querySelector("[data-spm-page]"))||void 0===f?void 0:f.getAttribute("data-spm-page"))||"";else{var S=null===(_=null===(d=null===(l=null===(c=null===(r=null===(n=null===(t=e.app)||void 0===t?void 0:t.router)||void 0===n?void 0:n.app)||void 0===r?void 0:(o=r).$meta)||void 0===c?void 0:c.call(o))||void 0===l?void 0:l.refresh())||void 0===d?void 0:d.metaInfo)||void 0===_?void 0:_.bodyAttrs;if(S){var T=S["data-spm-page"];E=Array.isArray(T)?E[0]||"":T||""}}var O=E.split("?");if(!(k=O[0]||"")){var w=e.route.meta;k=(null===(v=w)||void 0===v?void 0:v.trackedPageName)||(null===(h=null===(m=w)||void 0===m?void 0:m[0])||void 0===h?void 0:h.trackedPageName)||""}return{oid:(null===(y=Object(jt.parse)(O[1]))||void 0===y?void 0:y.oid)||"",spm:k}}(e,l),m=v.spm,h=v.oid,y=(null===(n=null===(t=e.app)||void 0===t?void 0:t.$cookies)||void 0===n?void 0:n.get("user_id"))||(null===(r=_)||void 0===r?void 0:r.globalId)||"",k={site_name:location.host,language:f.language,currency:f.currency,backend_country:(null===(o=_.user)||void 0===o?void 0:o.countryCode)||"",ip_country_code:f.ipCountry,platform:f.platform,user_agent:navigator.userAgent,browser:Rt(),page_object_id:h,uid:y,spm:m};c=k,window.dataLayer=window.dataLayer||[],window.dataLayer.push(c)}function Lt(e){return new Promise((function(t){e?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("get","G-V8S4KC8ZXR",e,t):t("")}))}var Nt=function(e){return"client_id"===e&&Pt.client_id?Promise.resolve(Pt.client_id):Lt(e).then((function(t){return"client_id"===e&&t&&(Pt.client_id=t),t}))},Ut=function(e,t){var n=!0;t("getGaData",Nt),Dt(e,n),e.app.$fireGtm(),e.app.router.afterEach((function(t){n?n=!1:setTimeout((function(){Dt(e),t&&!1===(t.meta||{}).autoGATrack||e.app.$sendGTM({event:"virtualPageView",pageType:"PageView",pageUrl:t.fullPath,pageName:t.meta.gaPageName||void 0})}),0)}))},Mt=n(78),Ht=n(7),Gt=n.n(Ht),$t=n(205),Bt=n.n($t),Ft=n(31),Kt=n(46),qt=n(39),Vt=n(35),Yt=n(40),Wt=n(414),zt=function(e){function t(e,n,r){var o;return Object(Ft.a)(this,t),(o=Object(qt.a)(this,Object(Vt.a)(t).call(this,n))).status=e,o.message=n,o.ctx=r,o}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"send",value:function(e){var t=this.ctx.$store.state.klook.platform;e&&e instanceof Function?e.call(this,this.message):"desktop"===t?this.ctx.$alert(this.message,void 0,{okLabel:this.ctx.$t("global.tips.okTxt")}):this.ctx.$message.errorTip(this.message)}}]),t}(Object(Wt.a)(Error)),Qt=function(e){function t(e,n){var r;return Object(Ft.a)(this,t),(r=Object(qt.a)(this,Object(Vt.a)(t).call(this,e.status||500,e.message,n))).app=n,r}return Object(Yt.a)(t,e),t}(zt);function Jt(e){var t,n=(new Date).toISOString(),r=e.level.toUpperCase();(t=console)[e.level].apply(t,["[".concat(n,"] ").concat(r)].concat(Object(mt.a)(e.args)))}function Xt(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jt({level:e,args:n})}}var Zt={trace:Xt("trace"),debug:Xt("debug"),info:Xt("info"),warn:Xt("warn"),error:Xt("error"),fatal:Xt("error")},en=n(85),tn=n(120),nn=Object(tn.a)();Gt.a.extend(Bt.a),c.default.filter("currencyToSymbol",(function(e){return en.b[e]})),c.default.filter("formatThousands",(function(e){return Object(wt.x)(e)})),c.default.filter("percent",(function(e,t){return Object(wt.db)(e,t)})),c.default.filter("imageFormat",(function(e,t,n){return Object(wt.O)(e,t,n)}));var rn=function(e,t){var n=e.app,o=(e.req,e.store);e.route;var c={interval:5e3,size:15};t("logquery",new Mt.default({url:"https://log.klook.com/v2/frontlogsrv/log/web",headers:{"X-Platform":o.state.klook.platform},queue:c})),t("logger",Zt),t("href",(function(e,t,n){var r=o.state.klook.host,c=Object(wt.bb)(e)||{},l=c.protocol,d=void 0===l?"":l,_=c.host,f=void 0===_?"":_;return d&&f?f!==r?e.replace(f,r):e:(t||this.$i18n&&(t=this.$i18n.locale),Object(wt.N)(e,t,n))})),t("expection",{__default:function(e,t){return new zt(e.status,e.message,t)},systemError:function(e){return new Qt({message:e.$t("12298"),status:500},e)}}),t("getAllCountryCode",function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(t="".concat(o.state.klook.language,"_AllCountries"),!(r=nn.getItem(t))){e.next=6;break}return e.abrupt("return",r);case 6:return e.prev=6,e.next=9,n.$axios.$get(Ot.a.getAllCountries);case 9:return c=e.sent,(l=c.result).forEach((function(e){e.value=e.country_number,e.countryCode=e.name,e.country=e.country_code})),nn.setItem(t,l,86400),e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(6),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(){return e.apply(this,arguments)}}()),t("getOneLinkPrefix",wt.I)},an=(n(47),n(99),n(9)),on=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},cn=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"created",value:function(){var e="";try{e=n(764)("./".concat(this.spriteName,".svg"))}catch(e){return}var t=this.$root;t._svgSprites||(t._svgSprites=new Set),t._svgSprites.has(e)||(t._svgSprites.add(e),kt.a.get(e,{noCache:!1}).then((function(e){var t=document.createElement("div");t.innerHTML=e.data,document.body.insertBefore(t.firstChild,document.body.childNodes[0])})))}},{key:"colorClass",get:function(){var e=this.color,style=this.attrStyle;if(e&&!style)return"klook-symbol-".concat(e)}},{key:"attrWidth",get:function(){return this.width?this.width:this.size}},{key:"attrHeight",get:function(){return this.height?this.height:this.size}},{key:"attrStyle",get:function(){var e=this.color;if(e&&/#|rgba?/.test(e))return{color:e}}},{key:"spriteName",get:function(){return this.name.includes("#")?this.name.split("#")[0]:"default"}},{key:"iconName",get:function(){return this.name.includes("#")?this.scoped?"#".concat(this.name.replace("#","-")):"#".concat(this.name.split("#")[1]):"#".concat(this.name)}}]),t}(an.Vue);on([Object(an.Prop)({required:!0})],cn.prototype,"name",void 0),on([Object(an.Prop)({default:!0})],cn.prototype,"scoped",void 0),on([Object(an.Prop)({type:[String,Number]})],cn.prototype,"width",void 0),on([Object(an.Prop)({type:[String,Number]})],cn.prototype,"height",void 0),on([Object(an.Prop)({type:[String,Number]})],cn.prototype,"size",void 0),on([Object(an.Prop)({type:String})],cn.prototype,"color",void 0);var sn=cn=on([an.Component],cn),un=(n(786),Object(me.a)(sn,(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:["svg-icon",this.colorClass],style:this.attrStyle,attrs:{width:this.attrWidth,height:this.attrHeight}},[t("use",{attrs:{href:this.iconName,"xlink:href":this.iconName}})])}),[],!1,null,null,null).exports),ln=n(21),dn=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},pn=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"handleBtnYesClick",value:function(){this.confirmCallback(!0),this.close()}},{key:"handleBtnNoClick",value:function(){this.confirmCallback(!1),this.close()}}]),t}(ln.Vue),_n=pn=dn([ln.Component],pn),fn=(n(787),Object(me.a)(_n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"},{name:"no-scroll",rawName:"v-no-scroll",value:e.visible,expression:"visible"}],staticClass:"klk-customer-message"},[n("div",{staticClass:"klk-customer-message_masker"}),e._v(" "),n("div",{staticClass:"klk-customer-message_box"},[e.title?n("div",{staticClass:"klk-customer-message_header"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("div",{staticClass:"klk-customer-message_body"},[e._v("\n      "+e._s(e.content)+"\n    ")]),e._v(" "),n("div",{staticClass:"klk-customer-message_footer"},[e.btnNo?n("a",{staticClass:"klk-customer-message_btn-no",attrs:{href:"javascript:;"},on:{click:e.handleBtnNoClick}},[e._v(e._s(e.btnNo))]):e._e(),e._v(" "),n("a",{staticClass:"klk-customer-message_btn-yes",class:{"klk-message_btn-yes--alert":e.btnNo&&""===e.btnNo},attrs:{href:"javascript:;"},on:{click:e.handleBtnYesClick}},[e._v(e._s(e.btnYes))])])])])}),[],!1,null,null,null).exports),gn=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},vn=function(e){function t(){var e;return Object(Ft.a)(this,t),(e=Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))).visible=!1,e.delay=3e3,e}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"change",value:function(e){var t=this;e&&setTimeout((function(){t.visible=!1,setTimeout((function(){t.close()}),1e3)}),this.delay)}},{key:"hide",value:function(){this.visible=!1}}]),t}(ln.Vue);gn([Object(ln.Watch)("visible")],vn.prototype,"change",null);var mn=vn=gn([ln.Component],vn),hn=(n(788),Object(me.a)(mn,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-tip-wrap--module-error-tip j-error-tip-wrap"},[t("transition",{attrs:{name:"slide-down"}},[this.visible?t("div",{staticClass:"error-tip",on:{click:this.hide}},[this._v("\n      "+this._s(this.content)+"\n    ")]):this._e()])],1)}),[],!1,null,null,null).exports);function yn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var bn={visible:!1,delay:3e3},kn=null;function En(e,t){if(e.prototype.$isServer)return null;if(!document.getElementsByClassName("j-error-tip-wrap").length){kn||((kn=e.extend(hn)).prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()});var n=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?yn(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):yn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},bn,{},t),r=new kn({el:document.createElement("div"),data:n});return document.body.appendChild(r.$el),e.nextTick((function(){r.visible=!0})),r}}var Sn=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},Tn=function(e){function t(){var e;return Object(Ft.a)(this,t),(e=Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))).visible=!1,e.delay=3e3,e}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"change",value:function(e){var t=this;e&&setTimeout((function(){t.visible=!1,setTimeout((function(){t.close()}),1e3)}),this.delay)}},{key:"hide",value:function(){this.visible=!1}}]),t}(ln.Vue);Sn([Object(ln.Watch)("visible")],Tn.prototype,"change",null);var On=Tn=Sn([ln.Component],Tn),wn=(n(789),Object(me.a)(On,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"message-fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"klook-message-tips--module-message j-klook-message-tips"},[this._v("\n    "+this._s(this.content)+"\n  ")])])}),[],!1,null,null,null).exports);function xn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var An={visible:!1,delay:3e3},Cn=null;function In(e,t){if(e.prototype.$isServer)return null;var n=document.getElementsByClassName("j-klook-message-tips");n.length&&n[0].parentNode.removeChild(n[0]),Cn||((Cn=e.extend(wn)).prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()});var r=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?xn(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):xn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},An,{},t),c=new Cn({el:document.createElement("div"),data:r});return document.body.appendChild(c.$el),e.nextTick((function(){c.visible=!0})),c}function jn(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Pn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?jn(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):jn(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Rn,Dn={install:function(e){var t=[];if(!e.prototype.$message){var n=function(){},r={visible:!1,title:"",content:"",btnYes:"",btnNo:"",confirmCallback:n},o=e.extend(fn);o.prototype.close=function(){this.visible=!1,this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$destroy()};var c=function(n){if(e.prototype.$isServer)return null;var c=Pn({},r,{},n),l=new o({el:document.createElement("div"),data:c});return document.body.appendChild(l.$el),e.nextTick((function(){l.visible=!0,t.push(l)})),l};Object.defineProperty(e.prototype,"$message",{get:function(){return{alert:l.bind(this),confirm:d.bind(this),prompt:_.bind(this),errorTip:f.bind(this),messageTip:v.bind(this),closeAll:m.bind(this)}}})}function l(e){var t=Pn({confirmCallback:arguments.length>1&&void 0!==arguments[1]?arguments[1]:n},e);return c(t)}function d(e){var t=Pn({confirmCallback:arguments.length>1&&void 0!==arguments[1]?arguments[1]:n},e);return c(t)}function _(){}function f(t){return En(e,t)}function v(t){return In(e,t)}function m(){t.forEach((function(e){return e.close()}))}}},Ln=Object(ln.Component)(Rn=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),t}(ln.Vue))||Rn,Nn=(n(790),Object(me.a)(Ln,(function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"top"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"cp_transition_tip"},[this._v(this._s(this.message))])])}),[],!1,null,null,null).exports);function Un(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Mn(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Un(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Un(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Hn={install:function(e){if(!e.prototype.$mobileWarnTip){var t={message:"something wrong happened? Check this message out!",time:5e3,visible:!1},n=e.extend(Nn);e.prototype.$mobileWarnTip=function(r){return function(r){if(e.prototype.$isServer)return null;var o=Mn({},t,{},r),c=new n({el:document.createElement("div"),data:o});return document.body.appendChild(c.$el),e.nextTick((function(){c.visible=!0,setTimeout((function(){c.visible=!1,c.$el&&c.$el.parentNode&&c.$el.parentNode.removeChild(c.$el),c.$destroy()}),c.time)})),c}(Mn({},r))}}}},Gn=function(){c.default.component("SvgIcon",un),c.default.use(Dn),c.default.use(Hn)};function $n(){"fixed"!==document.body.style.position&&(this.fixScrollY=window.pageYOffset,document.body.style.position="fixed",document.body.style.top=-this.fixScrollY+"px")}function Bn(){document.body.style.position="static",document.body.scrollTop=this.fixScrollY,document.documentElement.scrollTop=this.fixScrollY}var Fn={bind:function(e,t,n){var r=t.value;!1!==n.context.releaseBody&&r&&$n.apply(n.context)},update:function(e,t,n){var r=t.value,o=t.oldValue;!1!==n.context.releaseBody&&r!==o&&(r?$n.apply(n.context):Bn.apply(n.context))},unbind:function(e,t,n){!1!==n.context.releaseBody&&Bn.apply(n.context)}},Kn=(n(117),n(207)),qn=n.n(Kn),Vn=n(278),Yn=n.n(Vn);var Wn="provide",zn=["inject","custom"];function Qn(e){return e.$parent||e.context.$parent}function Jn(e,t,n){var r=Xn(t).type,o="spm".concat(Yn()(r));if(!e.dataset[o]){var c=Zn(t,n);c&&e.setAttribute(c.name,c.track)}}function Xn(e){var t=e.arg,n=null==t?void 0:t.split(":");if(n&&n.length){var r=Object(ye.a)(n,2),o=r[0],c=r[1];return{type:o,name:void 0===c?"":c}}}function Zn(e,t){var n=e.value,r=Xn(e);if(r){var o=r.type,c=r.name;if(n||c){var l="data-spm-".concat(o);if(!n)return{name:l,track:c};if("string"==typeof n)return{name:l,track:c+"?"+n};var d=n,_=d.inject,f=d.custom;if(c||_){if(_){var v=function(e,t){for(var n=Qn(e);n;){var r,o,c=null===(r=n.$vnode)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.directives;if(c&&c.length){var l=function(){var e="v-track:".concat(Wn,":").concat(t),n=c.find((function(t){return t.rawName.startsWith(e)}));if(n)return{v:n.value}}();if("object"===Object(yt.a)(l))return l.v}n=Qn(n)}}(t,_);if(!(null==v?void 0:v.name)&&!c)return;if(v){var m=v.name,h=Object(ht.a)(v,["name"]);n=f?f(v):Object.assign({},h,n),c="".concat(m,":").concat(c||"")}}return{name:l,track:Object.keys(n).reduce((function(e,t){var r=n[t];if(null==r)return e;if(zn.includes(t))return e;if("ext"===t)try{Object.keys(r,(function(e){var t=r[e];t.startsWith("http")&&(r[e]=encodeURIComponent(t))})),r=JSON.stringify(r)}catch(t){return e}var mark=e.includes("?")?"&":"?";return"".concat(e).concat(mark).concat(t,"=").concat(r)}),c)}}}}}var er={bind:function(e,t,n){var r;(null==t?void 0:null===(r=t.value)||void 0===r?void 0:r.inject)||Jn(e,t,n)},inserted:function(e,t,n){var r;(null==t?void 0:null===(r=t.value)||void 0===r?void 0:r.inject)&&Jn(e,t,n)},update:function(e,t,n){var r=t.value,o=t.oldValue;qn()(r,o)||n.context.$inhouse.updateBinding(e,r)}};c.default.directive("no-scroll",Fn),c.default.directive("track",er);var nr=n(267),rr=n.n(nr),ir=n(407),ar=n.n(ir),or=n(406),cr=n.n(or),sr=n(280),ur=n.n(sr),lr=n(372),dr=n.n(lr),pr=n(405),_r=n.n(pr),fr=n(404),gr=n.n(fr),vr=n(403),mr=n.n(vr),yr=n(402),kr=n.n(yr),Er=n(401),Sr=n.n(Er),Tr=n(293),Or=n.n(Tr),wr=n(371),xr=n.n(wr),Ar=n(303),Cr=n.n(Ar),Ir=n(400),jr=n.n(Ir),Pr=n(399),Rr=n.n(Pr),Dr=n(296),Lr=n.n(Dr),Nr=n(302),Ur=n.n(Nr),Mr=n(398),Hr=n.n(Mr),Gr=n(100),$r=n.n(Gr),Br=n(397),Fr=n.n(Br),Kr=n(165),qr=n.n(Kr),Vr=n(220),Yr=n.n(Vr),progress=n(396),Wr=n.n(progress),zr=n(395),Qr=n.n(zr),Jr=n(394),Xr=n.n(Jr),Zr=n(393),ei=n.n(Zr),ti=n(287),ni=n.n(ti),ri=n(369),ii=n.n(ri),ai=n(161),oi=n.n(ai),ci=n(291),si=n.n(ci),ui=n(170),di=n.n(ui),pi=n(392),_i=n.n(pi),input=n(101),fi=n.n(input),gi=n(391),vi=n.n(gi),mi=n(102),hi=n.n(mi),yi=n(202),bi=n.n(yi),ki=n(292),Ei=n.n(ki),Si=n(265),Ti=n.n(Si),Oi=n(80),wi=n.n(Oi),xi=n(301),Ai=n.n(xi),Ci=n(283),Ii=n.n(Ci),ji=n(390),Pi=n.n(ji),Ri=n(300),Di=n.n(Ri);function Li(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ni(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Li(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Li(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ui={install:function(e){function dialog(content,title,t){return"object"===Object(yt.a)(title)&&(t=title,title=void 0),t=t||{},new Promise((function(n){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(e),document.body.removeChild(o.$el),o.$destroy(),o=null},o=new e({render:function(e){return e("klk-modal",{props:Ni({},t,{scrollable:!0,open:!0,overlayClosable:!0,title:title}),on:{"on-confirm":function(){return r(!0)},"on-cancel":r,close:r,"on-close":r}},["function"==typeof content?content(e):content])}}).$mount();document.body.appendChild(o.$el)}))}["alert","confirm"].forEach((function(e,t){dialog[e]=function(content,title){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"object"===Object(yt.a)(title)&&(e=title,title=void 0),e=e||{},this(content,title,Ni({titleAlign:"center",buttonAlign:"center",showCancelButton:Boolean(t)},e))}})),e.prototype.$dialog=dialog}},Mi=function(e){return Hi.apply(this,arguments)};function Hi(){return(Hi=Object(r.a)(regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store.state.klook.language,e.next=3,n(484)("./".concat(r));case 3:o=e.sent,Di.a.use(o),c.default.use(Pi.a),c.default.use(Ii.a),c.default.use(Ai.a),c.default.use(wi.a),c.default.use(Ti.a),c.default.use(Ei.a),c.default.use(bi.a),c.default.use(hi.a),c.default.use(vi.a),c.default.use(fi.a),c.default.use(_i.a),c.default.use(di.a),c.default.use(si.a),c.default.use(oi.a),c.default.use(ii.a),c.default.use(ni.a),c.default.use(ei.a),c.default.use(Xr.a),c.default.use(Qr.a),c.default.use(Wr.a),c.default.use(Yr.a),c.default.use(qr.a),c.default.use(Fr.a),c.default.use($r.a),c.default.use(Hr.a),c.default.use(Ur.a),c.default.use(Lr.a),c.default.use(Rr.a),c.default.use(jr.a),c.default.use(Cr.a),c.default.use(xr.a),c.default.use(fi.a),c.default.use(Or.a),c.default.use(Sr.a),c.default.use(kr.a),c.default.use(mr.a),c.default.use(Ti.a),c.default.use(gr.a),c.default.use(_r.a),c.default.use(dr.a),c.default.use(ur.a),c.default.use(cr.a),c.default.use(ar.a),c.default.use(Ui),c.default.use(rr.a);case 50:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(275);var Gi=n(408);function $i(e,path,t){var n=this.$i18n.locale,r=path.replace("/".concat(n),""),o=this.$store.state.klook.supportLanguages,c="https://".concat(this.$store.state.klook.host)||!1;return{link:Object(Gi.generateCanonicalAndHreflangTag)({domain:c,path:r,include_lang:o,current_lang:n,params:t,indexable:e})}}c.default.prototype.$setMeta=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],meta={};return e.name&&(meta.hid=e.name,meta.name=e.name),e.property&&(meta.hid=e.property,meta.property=e.property),e.content&&(meta.content=t?this.$t(e.content):e.content),meta},c.default.prototype.$title=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.$t(e):e;return e?"ja"===this.$i18n.locale?t:"".concat(t).concat(this.$t("global.seo.titlesite")):this.$t("global.seo.title")},c.default.prototype.$keywords=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"keywords",content:e},t)},c.default.prototype.$description=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"description",content:e},t)},c.default.prototype.$robots=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.$setMeta({name:"robots",content:e},t)},c.default.prototype.$canonical=function(e){var t=e.indexable,path=e.path,n=e.whitelist;return $i.call(this,t,path||this.$route.fullPath,n||[]).link},c.default.prototype.$ldjson=function(e){return{type:"application/ld+json",json:e}},c.default.prototype.$seoHeadTags=$i;var Bi=n(279),Fi=n.n(Bi);function Ki(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function qi(data){var e=Object.keys(data).reduce((function(e,t){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ki(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ki(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e,Object(o.a)({},t,Fi.a.inHTMLData(data[t])))}),{});try{return JSON.stringify(e)}catch(e){return"{}"}}c.default.prototype.$insetDataLayer=function(data){return"[object Object]"!==Object.prototype.toString.call(data)?{}:{innerHTML:"\n       var dataLayer = dataLayer || []\n       dataLayer.push(".concat(qi(data),")\n    ")}};n(135);var Vi=n(155),Yi=n(208),Wi=n.n(Yi),zi=n(409),Qi=n.n(zi);function Ji(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(r.a)(regeneratorRuntime.mark((function e(t){var o,c,l,d,_,f,v,m,h,y,k,E,S,T,O,w,x,A,C,I,j,P,R=this,D=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=+new Date,c=void 0!==D?D:null,l=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-o;e=__in_house.get_spm_info(e,{duration:t,args:c})}catch(e){console.warn("Get spm info error",e)}return e},e.next=5;break;case 5:if(m=t.purpose,h=t.success,y=t.cancel,k=t.fallback,!(null===(_=null===(d=this.$store)||void 0===d?void 0:d.getters)||void 0===_?void 0:_.whiteLabelConfig)){e.next=10;break}return e.next=9,this.$store.getters.whiteLabelConfig.sdk.login({redirectUrl:window.location.href});case 9:return e.abrupt("return");case 10:if(!(null===(v=null===(f=this.$store)||void 0===f?void 0:f.getters)||void 0===v?void 0:v.isGuestCheckout)){e.next=21;break}if(!k){e.next=17;break}return e.next=14,k();case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=!0;case 18:return((E=e.t0)||"boolean"!=typeof E)&&(window.location.href=l(l(this.$href("/login")))),e.abrupt("return");case 21:return S=!0,e.prev=22,e.next=25,n.e(49).then(n.bind(null,3493));case 25:return T=e.sent,O=T.loginWithSDK,w=this.$store.state.klook,x=w.platform,A=w.isKlookApp,C=w.language,I=w.currency,j=w.market,e.next=30,O({market:j,platform:x,isKlookApp:A,language:C,currency:I,purpose:m,bizName:"ThingToDo",success:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.$store.dispatch("auth/getProfile");case 2:if(e.t0=h,!e.t0){e.next=6;break}return e.next=6,h();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),cancel:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=y,!e.t0){e.next=4;break}return e.next=4,y();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 30:S=e.sent,e.next=37;break;case 33:e.prev=33,e.t1=e.catch(22),S=!1,console.error(" SDK(@klook/klook-traveller-login) : ".concat(e.t1));case 37:if(S){e.next=47;break}if(!k){e.next=44;break}return e.next=41,k();case 41:e.t2=e.sent,e.next=45;break;case 44:e.t2=!0;case 45:((P=e.t2)||"boolean"!=typeof P)&&(window.location.href=l(l(this.$href("/signin"))));case 47:case"end":return e.stop()}}),e,this,[[22,33]])})))).apply(this,arguments)}var Zi=n(64),ea=n(159);function ta(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function na(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ta(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ta(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function ra(e){var t,n,r=null===(t=e)||void 0===t?void 0:t.user_id,o=null===(n=e)||void 0===n?void 0:n.origin_kepler_id;return na({},r?{userId:r}:{},{},o?{originKeplerId:o}:{})}function ia(){var e={};return(null===this||void 0===this?void 0:this.activityId)&&(e.activityId=this.activityId),(null===this||void 0===this?void 0:this.packageId)&&(e.packageId=this.packageId),(null===this||void 0===this?void 0:this.shoppingCartGuid)&&(e.shoppingCartGuid=this.shoppingCartGuid),(null===this||void 0===this?void 0:this.subCategoryId)&&(e.subCategoryId=this.subCategoryId),e}var aa=function(e){var t,n,o,l,d,_,f,v,m,h,y,k,E=e.app,S=e.store,T=S.state.auth,O=S.state.klook,w=S.state.common.kepler,x="";Wi.a.init({service:"experiencenodeweb",_debug:!!localStorage.getItem("__apem_debug"),platform:O.platform,plugins:[new Qi.a],logger:{options:{url:"https://log.klook.com/v2/frontlogsrv/log/web"}},report:{ipCountry:O.ipCountry,language:O.language,currency:O.currency}}),c.default.prototype.$apem=Wi.a,c.default.prototype.$businessLog=(y=Wi.a,k=new Map,function(e){var t,n=e.tag,r=null!=(t=k.get(n))?t:y.createLogger(n);k.has(n)||k.set(n,r),delete e.tag,r(na({},e,{},ia.apply(this)))}),c.default.prototype.$loginSDK=Ji,Object(wt.F)()&&document.referrer.includes("/promo/")&&(x=E.$cookies.get("cid_mixpanel")),c.default.prototype.$inhouse=Vi.a,E.$clientReport&&E.$clientReport.reportPerformance({pageName:Object.assign.apply(Object,[{}].concat(Object(mt.a)(e.route.meta))).trackedPageName||e.route.name});var A,C=e.app.$getGaData;Vi.a.setConfig({url:"https://log.klook.com/v2/frontlogsrv/log/web",beacon:{url:"https://log.klook.com/v3/frontlogsrv/log/web"},eventCommon:ra((null===(t=window.BaseData)||void 0===t?void 0:t.expExtra)||{}),data:(A=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("client_id");case 2:return e.t0=e.sent,e.next=5,C("session_id");case 5:return e.t1=e.sent,e.abrupt("return",{clientId:e.t0,sessionId:e.t1});case 7:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)})}),E.router.beforeEach(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.matched||!n.matched.length){e.next=5;break}if(o=S.state.klook.supportLanguages,qn()(Object(Zi.e)(S.state.klook.websiteConfig.website),o)){e.next=5;break}return e.next=5,S.dispatch("syncSupportLanguages",Object(Zi.e)(S.state.klook.websiteConfig.website));case 5:r();case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var I=E.$traffic;E.router.beforeEach((function(e,t,n){I.useAction({type:I.constant.TrafficCommon,action:"routerChange"}),I.useAction({type:I.constant.TrafficCommon,action:"processTrafficQuery",payload:[{query:e.query,from:t}]}),n()})),E.router.afterEach((function(e,t){var n,r,o,c=(null===(n=I.useState({type:I.constant.TrafficAll}).trafficCommon)||void 0===n?void 0:n.marketing)||{};x&&(c.campaignId=String(x)),setTimeout((function(){for(var t,n,r,o=[],l=0,d=Object.values(w.experimentsGroup);l<d.length;l++){var _=d[l];o.push({experimentId:_.id,groupId:_.group.id})}var f=Ue.a.get_distinct_id(),v=function(e,t){if(t.platformMp){var n={project:t.platformMp};try{n=Object.assign(n,JSON.parse(e.mp_tracking).super)}catch(e){}return n.distinctId?Object(ea.d)("MP_DISCINCT_ID",n.distinctId):n.distinctId=Object(ea.b)("MP_DISCINCT_ID"),n}return Object(ea.a)("MP_DISCINCT_ID"),{}}(e.query,O);v.distinctId&&(f=v.distinctId,delete v.distinctId),O.utilConfig.whiteLabelUtilConfig&&(v.partner_id=O.utilConfig.whiteLabelUtilConfig.partner_id,v.platform_id="WhitelabelPlatform");var m=E.$cookies.get("kepler_id")||(null===(t=window.BaseData)||void 0===t?void 0:t.keplerId);!f&&m&&(Ue.a.identify(m),f=m),Vi.a.init({url:"https://log.klook.com/v2/frontlogsrv/log/web",isDebugMode:!1,autoPageView:!1,eventCommon:ra((null===(n=w)||void 0===n?void 0:n.expExtra)||{}),serverTime:null===(r=window.BaseData)||void 0===r?void 0:r.serverTime,props:{userId:T.user&&T.user.globalId,pageId:O.pageId,distinctId:f,deviceId:m||"",keplerId:m||"",experiments:o,siteName:window.location.host,siteLanguage:O.language,siteCurrency:O.currency,platform:O.platform,marketing:c},sprops:na({$assumed_residency:O.residenceCode},v)})}),0),"none"!==(null===(r=e.query)||void 0===r?void 0:r.pv)&&"none"!==(null===(o=t.query)||void 0===o?void 0:o.pv)&&setTimeout((function(){Vi.a.track("pageview","all")}),500)})),S.commit("common/kepler/SET_KEPLER_ID",(null===(n=window.BaseData)||void 0===n?void 0:n.keplerId)||""),S.commit("common/kepler/SET_EXPERIMENTS_HIT_LIST",(null===(o=window.BaseData)||void 0===o?void 0:o.experimentList)||{}),S.commit("common/kepler/SET_TINTED_LIST",(null===(l=window.BaseData)||void 0===l?void 0:l.tintedList)||[]),S.commit("common/kepler/SET_EXP_EXTRA",(null===(d=window.BaseData)||void 0===d?void 0:d.expExtra)||{}),S.commit("SET_CLIENT_INIT_DATA",{ip:(null===(_=window.BaseData)||void 0===_?void 0:_.ip)||"",isIOS:(null===(f=window.BaseData)||void 0===f?void 0:f.isIOS)||"",pageId:(null===(v=window.BaseData)||void 0===v?void 0:v.pageId)||"",residenceCode:null===(m=window.BaseData)||void 0===m?void 0:m.residenceCode,residenceId:null===(h=window.BaseData)||void 0===h?void 0:h.residenceId})},oa=n(410),ca=n.n(oa);c.default.component("infinite-loading",ca.a);var sa=n(376),ua=n.n(sa);c.default.use(ua.a);var la=n(219);function da(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function pa(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?da(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):da(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function _a(){var e=document.referrer.match(/\/activity\/(\d+)/);return e?e[1]:"NA"}var base=["Activity ID","Destination City ID","Country ID","Category ID"],fa=[].concat(base,["Event Type","Page Name"]),ga={"Activity Page":[].concat(base,["Vertical Type","Entrance Path","Landing Page"]),"Activity Page Imp":[].concat(base,["Pre Activity Page ID","Operation Tag","Landing Page","Event Type","Added To Wishlist","Notification Status"]),SelectOption_Clicked:[].concat(base,["Event Type","Page Name"]),Date_Selected:[].concat(base,["Entry Point","Event Type","Page Name"]),Attribute_Selected:[].concat(base,["Option Type ID","Event Type","Page Name"]),AddToCart_Clicked:fa,BookNow_Clicked:fa,"Booking Options Page":[].concat(base,["Entry Point","Event Type","Landing Page"]),Quantity_Selected:[].concat(base,["Entry Point","Event Type","Page Name"]),AddToCart_Confirmed:fa,BookNow_Confirmed:fa};var va=function(e){return function(data){var t=function(e){var t=e.store.state.traveller.activity,n=e.query.type,r=e.route.name,o=t.templateId,c=!document.referrer||!document.referrer.includes("klook."),l=document.referrer&&document.referrer.includes("/things_to_do"),d=la.e[o]||"NA",_={"Activity ID":t.activityId,"Destination City ID":t.cityId,"Country ID":t.countryId,"Category ID":o,"Pre Activity Page ID":_a(),"Landing Page":c,"Notification Status":t.reopen&&t.reopen.need_remind?"On":"Off","Added To Wishlist":t.favorite},f=t.cardTags,v=void 0===f?{}:f;_["Operation Tag"]=Object(la.c)(v);var m="ActivityHome"===r,h=m?"Activity Page":"Booking Options Page",y="book"===n?"book_now":"add_to_cart",k=m?{"Entry Point":"activity_page","Page Name":"Activity Page"}:{"Entry Point":y,"Page Name":"Booking Options Page"},E={"Activity Page":pa({},_)};return c&&(E={"Activity Page":pa({},_,{"Vertical Type":d,"Entrance Path":"External"})}),l&&(E={"Activity Page":pa({},_,{"Landing Page":!1,"Entrance Path":"Homepage Pre Activity Search Layer Clicked".concat(e.query["ttd-popular-activity"]?"(Popular Activity)":""),"Vertical Type":d})}),pa({},E,{"Activity Page Imp":pa({},_,{"Event Type":"Page"}),SelectOption_Clicked:pa({},_,{"Event Type":"Action","Page Name":"Activity Page"}),Date_Selected:pa({},_,{"Event Type":"Action"},k),Attribute_Selected:pa({},_,{"Event Type":"Action","Page Name":h}),AddToCart_Clicked:pa({},_,{"Event Type":"Action","Page Name":"Activity Page"}),BookNow_Clicked:pa({},_,{"Event Type":"Action","Page Name":"Activity Page"}),"Booking Options Page":pa({},_,{"Event Type":"Page","Entry Point":y}),Quantity_Selected:pa({},_,{"Event Type":"Action","Page Name":"Booking Options Page","Entry Point":y}),AddToCart_Confirmed:pa({},_,{"Event Type":"Action","Page Name":"Booking Options Page"}),BookNow_Confirmed:pa({},_,{"Event Type":"Action","Page Name":"Booking Options Page"})})}(e.ctx),n="string"==typeof data?{name:data}:data,r=n.name,c=n.props,l=void 0===c?{}:c,d=n.sprops,_=void 0===d?{}:d,f=t[r];if(f){var v=f.name?f.name:r,m=ga[v];if(m){var h=m.reduce((function(e,t){var n=l[t];return null==n&&null==(n=f[t])&&(console.log("--- mixpanel ---","".concat(v," need ").concat(t)),n="NA"),pa({},e,Object(o.a)({},t,n))}),{});e.tracker.$sendMixpanel({name:v,props:h,sprops:_})}}}},ma=function(e){var t=new c.default(e.app),n={ctx:e,tracker:t};t.$on("activity.sendMixpanel",va(n)),t.$on("home.sendMixpanel",function(e){return function(t){var n=t.sectionName,r=t.dataName,data=t.data,o="Homepage_".concat(n,"_").concat(r);e.tracker.$sendMixpanel({name:"Activity Page",props:{"Entrance Path":o,"Activity ID":data.activity_id||"NA","Landing Page":!1,"Destination City ID":data.city_id||"NA",Activity:data.title||"NA"}})}}(n)),c.default.prototype.$tracker=t},ha=n(411),ya=function(e){var t=e.store.state.klook,n=t.platform,r=t.retina;return c.default.use(ha.a,{observer:!0,adapter:{loaded:function(e){var t,n,r,o,c,l,d,_=e.el,f=e.bindType,v=_.getAttribute("ratio"),m=(null===(t=_.dataset)||void 0===t?void 0:t.gradient)||"";if(v){var h=(null===(o=null===(n=_)||void 0===n?void 0:(r=n).querySelector)||void 0===o?void 0:o.call(r,".v-lazy-logo"))||(null===(d=null===(c=_.parentElement)||void 0===c?void 0:(l=c).querySelector)||void 0===d?void 0:d.call(l,".v-lazy-logo"));h&&(h.style.display="none")}m&&"background-image"===f&&(_.style[f]="".concat(m,",").concat(_.style[f]))}},error:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAADUExURenp6VcjxIwAAAAKSURBVAjXY2AAAAACAAHiIbwzAAAAAElFTkSuQmCC",filter:{webp:function(e,t){var o,c=(null===(o=e.el.dataset)||void 0===o?void 0:o.imgType)||"",l="mobile"===n&&r,d=Object(wt.O)(e.src,c,l);if(t.supportWebp){/res\.klook\.com/.test(d)&&(e.src=d.replace(/\.\w+$/,".webp"))}}}}),Promise.resolve()},ba=n(412);function ka(){return(ka=Object(r.a)(regeneratorRuntime.mark((function e(data){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(305).then(n.bind(null,4042));case 2:return t=e.sent,e.next=5,t.default(data);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.default.use(ba.a);var Ea=function(e){return ka.apply(this,arguments)},Sa=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=t.store,l=t.query,!(null===(n=c.state.klook.utilConfig)||void 0===n?void 0:n.whiteLabelUtilConfig)){e.next=9;break}return Object(wt.K)("dev_domain",l),d=c.state.klook.host,_=null===(o=null===(r=t)||void 0===r?void 0:r.store)||void 0===o?void 0:o.$logquery,e.next=7,Ea({loggerQuery:_,nodeEnv:"production",host:d||"",platform:c.state.klook.platform,language:c.state.klook.language,currency:c.state.klook.currency,ctx:t});case 7:f=e.sent,c.state.klook.utilConfig.whiteLabelUtilConfig.sdk=f;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ta=n(413),Oa=function(e){Object(Ta.initRiskDeepKnow)({isPrdEnv:!0,platform:e.store.state.klook.platform})},wa=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},xa=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),t}(ln.Vue);wa([Object(ln.Prop)({default:function(){return!0}})],xa.prototype,"isOffScreen",void 0);var Aa=xa=wa([ln.Component],xa),Ca=Object(me.a)(Aa,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"off-screen"},[this.isOffScreen?t("ClientOnly",[this._t("default"),this._v(" "),t("template",{slot:"placeholder"},[this._t("placeholder")],2)],2):this._t("default")],2)}),[],!1,null,null,null).exports,Ia=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},ja=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),Object(Kt.a)(t,[{key:"styles",get:function(){var e={};return this.width&&(e.width=this.width),this.height&&(e.height="".concat(this.height,"px")),this.gap&&(e.marginBottom="".concat(this.gap,"px")),e}}]),t}(ln.Vue);Ia([Object(ln.Prop)()],ja.prototype,"width",void 0),Ia([Object(ln.Prop)()],ja.prototype,"gap",void 0),Ia([Object(ln.Prop)({default:14,type:[Number,String]})],ja.prototype,"height",void 0);var Pa=ja=Ia([ln.Component],ja),Ra=(n(818),Object(me.a)(Pa,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"skeleton",style:this.styles})}),[],!1,null,"34a71f82",null).exports),Da=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},La=function(e){function t(){return Object(Ft.a)(this,t),Object(qt.a)(this,Object(Vt.a)(t).apply(this,arguments))}return Object(Yt.a)(t,e),t}(ln.Vue),Na=La=Da([Object(ln.Component)({components:{Skeleton:Ra}})],La),Ua=(n(819),Object(me.a)(Na,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"placeholder"},[t("Skeleton",{attrs:{gap:"12",width:"80%"}}),this._v(" "),t("Skeleton",{attrs:{gap:"12",width:"80%"}}),this._v(" "),t("Skeleton",{attrs:{gap:"12"}}),this._v(" "),t("Skeleton",{attrs:{gap:"16",height:"174"}})],1)}),[],!1,null,"5b494c87",null).exports);function Ma(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ha(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Ma(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Ma(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var Ga=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(yt.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},$a=function(e){return function(t){var n=function(n){function r(){return Object(Ft.a)(this,r),Object(qt.a)(this,Object(Vt.a)(r).apply(this,arguments))}return Object(Yt.a)(r,n),Object(Kt.a)(r,[{key:"render",value:function(){var t=arguments[0];return t(e,{attrs:{isOffScreen:this.offScreen},props:Ha({},this.$attrs)},[this.$slots.default,t("template",{slot:"placeholder"},[this.$slots.placeholder||t(Ua)])])}},{key:"offScreen",get:function(){return!t&&this.isOffScreen}}]),r}(ln.Vue);return Ga([Object(ln.Prop)()],n.prototype,"isOffScreen",void 0),n=Ga([ln.Component],n)}}(Ca),Ba=function(e){var t=e.store.state.klook.isBot,component=$a(t);c.default.component("off-screen",component)};function Fa(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function Ka(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Fa(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Fa(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n.d(t,"b",(function(){return Va})),n.d(t,"a",(function(){return he})),c.default.component(_.a.name,_.a),c.default.component(v.a.name,Ka({},v.a,{render:function(e,t){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(e,t)}})),c.default.component(_e.name,_e),c.default.component("NChild",_e),c.default.component(be.name,be),c.default.use(l.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var qa={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function Va(e){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,d,_,path,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:return n=e.sent,(r=Ce(t)).$router=n,o=r.registerModule,r.registerModule=function(path,e,t){return o.call(r,path,e,Object.assign({preserveState:!0},t))},l=Ka({store:r,router:n,nuxt:{defaultTransition:qa,transitions:[qa],setTransitions:function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){return e=e?"string"==typeof e?Object.assign({},qa,{name:e}):Object.assign({},qa,e):qa})),this.$options.nuxt.transitions=e,e},err:null,dateErr:null,error:function(e){e=e||null,l.context._errored=Boolean(e),e=e?Object(h.k)(e):null;var n=this.nuxt||this.$options.nuxt;return n.dateErr=Date.now(),n.err=e,t&&(t.nuxt.error=e),e}}},Oe),r.app=l,d=t?t.next:function(e){return l.router.push(e)},t?_=n.resolve(t.url).route:(path=Object(h.d)(n.options.base),_=n.resolve(path).route),e.next=13,Object(h.o)(l,{store:r,route:_,next:d,error:l.nuxt.error.bind(l),payload:t?t.payload:void 0,req:t?t.req:void 0,res:t?t.res:void 0,beforeRenderFns:t?t.beforeRenderFns:void 0,ssrContext:t});case 13:f=function(e,t){if(!e)throw new Error("inject(key, value) has no key provided");if(void 0===t)throw new Error("inject(key, value) has no value provided");l[e="$"+e]=t,r[e]=l[e];var n="__klook_"+e+"_installed__";c.default[n]||(c.default[n]=!0,c.default.use((function(){c.default.prototype.hasOwnProperty(e)||Object.defineProperty(c.default.prototype,e,{get:function(){return this.$root.$options[e]}})})))},window.__KLOOK__&&window.__KLOOK__.state&&r.replaceState(window.__KLOOK__.state),e.next=18;break;case 18:if("function"!=typeof qe){e.next=21;break}return e.next=21,qe(l.context,f);case 21:if("function"!=typeof Je){e.next=24;break}return e.next=24,Je(l.context,f);case 24:e.next=27;break;case 27:if("function"!=typeof et){e.next=30;break}return e.next=30,et(l.context,f);case 30:if("function"!=typeof at){e.next=33;break}return e.next=33,at(l.context,f);case 33:if("function"!=typeof st){e.next=36;break}return e.next=36,st(l.context,f);case 36:if("function"!=typeof vt){e.next=39;break}return e.next=39,vt(l.context,f);case 39:if("function"!=typeof At){e.next=42;break}return e.next=42,At(l.context,f);case 42:e.next=45;break;case 45:if("function"!=typeof It){e.next=48;break}return e.next=48,It(l.context,f);case 48:if("function"!=typeof Ut){e.next=51;break}return e.next=51,Ut(l.context,f);case 51:if("function"!=typeof rn){e.next=54;break}return e.next=54,rn(l.context,f);case 54:if("function"!=typeof Gn){e.next=57;break}return e.next=57,Gn(l.context,f);case 57:e.next=60;break;case 60:if("function"!=typeof Mi){e.next=63;break}return e.next=63,Mi(l.context,f);case 63:e.next=66;break;case 66:e.next=69;break;case 69:if("function"!=typeof aa){e.next=72;break}return e.next=72,aa(l.context,f);case 72:e.next=75;break;case 75:e.next=78;break;case 78:if("function"!=typeof ma){e.next=81;break}return e.next=81,ma(l.context,f);case 81:if("function"!=typeof ya){e.next=84;break}return e.next=84,ya(l.context,f);case 84:e.next=87;break;case 87:if("function"!=typeof Sa){e.next=90;break}return e.next=90,Sa(l.context,f);case 90:if("function"!=typeof Oa){e.next=93;break}return e.next=93,Oa(l.context,f);case 93:if("function"!=typeof Ba){e.next=96;break}return e.next=96,Ba(l.context,f);case 96:e.next=99;break;case 99:return e.abrupt("return",{store:r,app:l,router:n});case 100:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},120:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=!1;function o(){if(r)return r;try{return window.localStorage.setItem("test","4"),window.localStorage.removeItem("test"),r=!0,!0}catch(e){return r=!1,!1}}t.a=function(){return{setItem:function(e,t,n){o()&&window.localStorage.setItem(e,JSON.stringify({localData:t,expires:(new Date).getTime()+n}))},getItem:function(e){if(o())try{var data=JSON.parse(window.localStorage.getItem(e)),t=(new Date).getTime();if(data){if(!(t>data.expires))return data.localData;window.localStorage.removeItem(e)}}catch(e){}},removeItem:function(e){o()&&window.localStorage.removeItem(e)}}}},134:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return k}));n(61),n(14),n(12),n(47),n(11),n(8),n(135),n(117),n(37);var r=n(25),o=(n(20),n(27),n(28),n(71)),c=n.n(o),l=n(10),d=n.n(l);function _(e){var t={},n=e.id||"",o=function(e,t){return e.replace(t,"")};if(n)if(n.includes("-")){var c=n.split("-"),l=Object(r.a)(c,2),pre=l[0],d=l[1];t.frontendId=o(d,"cate"),pre.startsWith("c")?t.cityId=o(pre,"c"):t.countryId=o(pre,"g")}else n.startsWith("cate")?t.frontendId=o(n,"cate"):n.startsWith("c")?t.cityId=o(n,"c"):t.countryId=o(n,"g");return t}function f(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(!/^[0-9]+$/.test(r))return!1}return!0}function v(e){var t=(e||{}).l1_front_id;return void 0===t||!!/^[0-9]+$/.test(t)}function m(e){if(d()(e))return{};var t=c()(e);return!t.frontend_id_list&&t.standby_frontend_id_list&&(t.frontend_id_list=t.standby_frontend_id_list,delete t.standby_frontend_id_list),["size","start","page","country_id","city_id","not_cal_destination"].forEach((function(n){e[n]&&(t[n]=Number(e[n]))})),t}function h(e){var t=Object.keys(e),n=[];t.forEach((function(t){"history_destinations"!==t&&n.push("".concat(t,"=").concat(e[t]))}));var r="?"+n.join("&");window.history.replaceState(null,"",r)}function y(e){if(""===e)return[];var t=[],n=e.split("__"),o=!0,c=!1,l=void 0;try{for(var d,_=(n||[])[Symbol.iterator]();!(o=(d=_.next()).done);o=!0){var f=d.value.split("_"),v=Object(r.a)(f,2),m=v[0],h=v[1],y={timestamp:Number(h),destination_id:Number(m.slice(1))};y.destination_type=m.startsWith("g")?1:0,t.push(y)}}catch(e){c=!0,l=e}finally{try{o||null==_.return||_.return()}finally{if(c)throw l}}return t}function k(e,t,n){var o="";if((t||n)&&(n&&(o="c".concat(n,"_").concat((new Date).getTime())),t&&(o="g".concat(t,"_").concat((new Date).getTime())),e)){for(var c=e.split("__")||[],l=!1,i=0;i<c.length;i++){var d=c[i].split("_"),_=Object(r.a)(d,1)[0],f=o.split("_");if(_===Object(r.a)(f,1)[0]){var v="".concat(_,"_").concat((new Date).getTime());c.splice(i,1,v),l=!0;break}}l?o=c.join("__"):c.length>9?(c.pop(),o+="__".concat(c.join("__"))):o+="__".concat(c.join("__"))}return o}},154:function(e,t,n){"use strict";n.r(t),n.d(t,"types",(function(){return r})),n.d(t,"platform",(function(){return o})),n.d(t,"CMSGenericItemCacheKey",(function(){return c}));var r={TYPE_GENERAL:999,TYPE_THEME_SEASONAL:111,TYPE_HOME_BANNER:101,TYPE_HOME_DESTINATION:102,TYPE_HOME_ACTIVITIES:103,TYPE_ACTIVITY_HELP_CONTENT:104,TYPE_ACTIVITY_HELP_CONTENT_MAP:1041,TYPE_BRAND:105,TYPE_CAMPAIGN:1051,TYPE_CITY_THEME:121,TYPE_CITY_TEMPLATE_THEME:122,TYPE_FAQ:401,TYPE_IN_THE_NEWS:402,TYPE_NEWS_ROOM:414,TYPE_JOIN_US:403,TYPE_CITY_ARTICLES:123,TYPE_CONTENT_ARTICLE:1231,TYPE_ACTIVITY_SEO_LINK:501,TYPE_WEB_CONFIG:502,TYPE_KLOOK_NOTICE:405,TYPE_KLOOK_TERMS:406,TYPE_HOME_BANNER_AD:106,TYPE_CITY_BANNER_AD:126,TYPE_KLOOK_VN_POLICY:413,TYPE_KLOOK_PLATFORM_NOTICE:407,TYPE__EUROPE_LAND:437,TYPE_CHINA_LAND:447},o={ALL:15,ANDROID:1,IOS:2,APP:3,MOBILE:4,WEB:8},c="CMS_GENERIC_ITEM_CACHE"},156:function(e,t,n){"use strict";var r={};r.experienceRedirect=n(549),r.experienceRedirect=r.experienceRedirect.default||r.experienceRedirect,r.iframeSupport=n(550),r.iframeSupport=r.iframeSupport.default||r.iframeSupport,r.jsessionid=n(551),r.jsessionid=r.jsessionid.default||r.jsessionid,r["need-login-white-label"]=n(632),r["need-login-white-label"]=r["need-login-white-label"].default||r["need-login-white-label"],r.needLogin=n(633),r.needLogin=r.needLogin.default||r.needLogin,r.previewRedirect=n(821),r.previewRedirect=r.previewRedirect.default||r.previewRedirect,t.a=r},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d}));n(52),n(53),n(8);var r=n(120);function o(e){if(Object(r.b)())return sessionStorage.getItem(e)}function c(e){var data=o(e);try{return JSON.parse(data)}catch(e){return data}}function l(e){Object(r.b)()&&sessionStorage.removeItem(e)}function d(e,t){Object(r.b)()&&("[object Object]"===Object.prototype.toString.call(t)?sessionStorage.setItem(e,JSON.stringify(t)):sessionStorage.setItem(e,t))}},16:function(e,t,n){"use strict";n.d(t,"d",(function(){return M})),n.d(t,"hb",(function(){return H})),n.d(t,"N",(function(){return G})),n.d(t,"gb",(function(){return $})),n.d(t,"ob",(function(){return B})),n.d(t,"x",(function(){return F})),n.d(t,"Z",(function(){return K})),n.d(t,"K",(function(){return V})),n.d(t,"h",(function(){return Y})),n.d(t,"a",(function(){return W})),n.d(t,"p",(function(){return z})),n.d(t,"eb",(function(){return Q})),n.d(t,"ab",(function(){return J})),n.d(t,"cb",(function(){return X})),n.d(t,"X",(function(){return Z})),n.d(t,"V",(function(){return ee})),n.d(t,"y",(function(){return te})),n.d(t,"db",(function(){return ne})),n.d(t,"w",(function(){return re})),n.d(t,"e",(function(){return ie})),n.d(t,"L",(function(){return ae})),n.d(t,"lb",(function(){return oe})),n.d(t,"U",(function(){return ce})),n.d(t,"o",(function(){return se})),n.d(t,"m",(function(){return ue})),n.d(t,"F",(function(){return le})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return pe})),n.d(t,"O",(function(){return fe})),n.d(t,"A",(function(){return ve})),n.d(t,"pb",(function(){return me})),n.d(t,"D",(function(){return ye})),n.d(t,"E",(function(){return be})),n.d(t,"ib",(function(){return ke})),n.d(t,"bb",(function(){return Ee})),n.d(t,"J",(function(){return Se})),n.d(t,"f",(function(){return Te})),n.d(t,"u",(function(){return Oe})),n.d(t,"n",(function(){return we})),n.d(t,"j",(function(){return xe})),n.d(t,"nb",(function(){return Ae})),n.d(t,"W",(function(){return Ce})),n.d(t,"Y",(function(){return Ie})),n.d(t,"fb",(function(){return je})),n.d(t,"I",(function(){return Pe})),n.d(t,"H",(function(){return Re})),n.d(t,"P",(function(){return De})),n.d(t,"t",(function(){return Me})),n.d(t,"k",(function(){return He})),n.d(t,"v",(function(){return Ge})),n.d(t,"kb",(function(){return $e})),n.d(t,"C",(function(){return Be})),n.d(t,"M",(function(){return Fe})),n.d(t,"T",(function(){return qe})),n.d(t,"S",(function(){return Ve})),n.d(t,"mb",(function(){return Ye})),n.d(t,"B",(function(){return We})),n.d(t,"z",(function(){return ze})),n.d(t,"l",(function(){return Qe})),n.d(t,"G",(function(){return Je})),n.d(t,"i",(function(){return Xe})),n.d(t,"jb",(function(){return Ze})),n.d(t,"q",(function(){return tt})),n.d(t,"s",(function(){return nt})),n.d(t,"g",(function(){return ct})),n.d(t,"R",(function(){return st})),n.d(t,"Q",(function(){return ut})),n.d(t,"r",(function(){return lt}));n(22),n(12),n(23),n(72),n(61),n(14);var r=n(4),o=(n(47),n(133),n(5)),c=(n(45),n(86),n(31)),l=n(46),d=n(25),_=(n(11),n(274),n(30),n(20),n(27),n(52),n(53),n(8),n(117),n(28),n(73),n(0)),f=(n(37),n(378)),v=n.n(f),m=n(182),h=n.n(m),y=n(7),k=n.n(y),E=n(116),S=n.n(E),T=n(379),O=n.n(T),w=n(10),x=n.n(w),A=n(157),C=n.n(A),I=n(79),j=n.n(I),P=n(163),R=(n(380),n(85)),D=n(271),L=n(3);function N(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}k.a.extend(S.a),k.a.extend(O.a);var M=function(e,t){(function(e,t){return new RegExp("\\b"+t+"\\b").test(e.getAttribute("class")||"")})(e,t)||e.setAttribute("class","".concat(e.getAttribute("class")," ").concat(t))},H=function(e,t){var n=new RegExp("\\b"+t+"\\b"),r=e.getAttribute("class")||"";e.setAttribute("class",r.replace(n,""))};function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="";return t&&"en"!==t&&e&&!e.startsWith("/"+t)&&(r="/".concat(t)),n+r+e}function $(){return h()().slice(0,8)}function B(e,t){return e.replace(/:([a-z]+)/gi,(function(n,r){if(!t[r])throw new Error("url parameter not find: ".concat(e));return t[r]}))}function F(e){var t=(e||"0").toString(),n="";if(t.includes(".")){var r=t.split(".");n="".concat(r[0].toString().replace(/(?=(?!(\b))(\d{3})+$)/g,","),".").concat(r[1])}else n=t.replace(/(?=(?!(\b))(\d{3})+$)/g,",");return n}function K(e){var t;return e>=1e4?t="10k+":e>=1e3&&e<1e4?t=Math.floor(e/1e3*Math.pow(10,1))/Math.pow(10,1)+"k":e<1e3&&(t=e),t}function V(e,t){if(!t||!e)return"";var n=t[e]||"";return Array.isArray(n)&&n.length?n[0]:n}function Y(e){return window.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){var s="0x"+t;return String.fromCharCode(s)})))}[{name:"camel2under",reg:/([a-z][A-Z])/g,transform:function(e,t){return t[0]+"_"+t[1].toLowerCase()}},{name:"under2camel",reg:/(_[a-z])/g,transform:function(e,t){return t[1].toUpperCase()}}].reduce((function(e,t){var n=t.name,r=t.reg,o=t.transform;return Object.assign(e,Object(_.a)({},n,(function e(data){switch(Object.prototype.toString.call(data).slice(8,-1)){case"Array":data.forEach(e);break;case"Object":Object.entries(data).forEach((function(t){var n=Object(d.a)(t,2),c=n[0],l=n[1];e(l),r.test(c)&&(data[c.replace(r,o)]=l,delete data[c])}))}return data})))}),{});var W=function(){function e(t,n,r){Object(c.a)(this,e),this.el=[],this.io=new window.IntersectionObserver(n,r),t&&this.getEl(t)}return Object(l.a)(e,[{key:"getEl",value:function(e){this.el&&this.el.length&&this.unobserve();var t=[];e.length?("string"==typeof e&&(e=document.querySelectorAll(e)||[]),t=Array.from(e)):e&&(t=[e]),(this.el=t).length&&this.observe()}},{key:"observe",value:function(e){var t=this;e?this.el.includes(e)||(this.el.push(e),this.io.observe(e)):this.el.forEach((function(e){return t.io.observe(e)}))}},{key:"unobserve",value:function(e){var t=this;if("number"!=typeof e)this.el.forEach((function(e){return t.io.unobserve(e)})),this.el=[];else{var n=this.el.splice(e,1),r=Object(d.a)(n,1)[0];this.io.unobserve(r)}}},{key:"disconnect",value:function(){this.unobserve(),this.io.disconnect()}}]),e}(),z=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[e,t];if(2===r.length&&r.every((function(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)}))){var o=r.map((function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())})),c=Object(d.a)(o,2),l=c[0],_=c[1],f=l-_;return n&&(f=Math.abs(f)),Math.floor(f/864e5)}return 0},Q=Object.assign((function(data){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];switch(Object.prototype.toString.call(data).slice(8,-1)){case"Object":return Q.obj2str.apply(Q,[data].concat(t));case"String":return Q.str2obj.apply(Q,[data].concat(t));default:return data}}),{str2obj:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.slice(e.indexOf("?")+1).split("&").reduce((function(e,r){var o=r.split("="),c=Object(d.a)(o,2),l=c[0],_=c[1];return t&&/^-?\d+(\.\d+)?$/.test(_)&&(_=+_),e[l]&&n?Array.isArray(e[l])?e[l].push(_):e[l]=[e[l],_]:e[l]=_,e}),{})},obj2str:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="",c=function(t){var c=e[t];c||"number"==typeof c||(c=""),r+="&"+(n&&"object"===Object(o.a)(c)?Array.isArray(c)?c.map((function(e){return Q.obj2str(Object(_.a)({},t,e),!1,!0)})).join("&"):Q.obj2str(c,!1,!0):"".concat(t,"=").concat(c.toString()))};for(var l in e)c(l);return r.replace(/^&/,t?"?":"")}});function J(e,t){if(!t){if(1!==arguments.length||"object"!==("undefined"==typeof window?"undefined":Object(o.a)(window)))return"";t=window.location.search}var n=new RegExp("[?|&]*"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[],r=Object(d.a)(n,2)[1],c=void 0===r?"":r;return c&&decodeURIComponent(c.replace(/\+/g,"%20"))}function X(){var e=window.location.search,t={};if(e.includes("?"))for(var n=e.split("?")[1].split("&"),i=0;i<n.length;i++)t[decodeURIComponent(n[i].split("=")[0])]=decodeURIComponent(n[i].split("=")[1]);return t}function Z(e){return new Promise((function(t){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.src=e;var n=!1;script.onload=script.onreadystatechange=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,t(),script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script))},head.insertBefore(script,head.firstChild)}))}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(Sogou web spider)|(bingbot)|(Googlebot)|(Baiduspider)|(AdsBot)|(TweetmemeBot)|(Slackbot)|(James BOT)|(Applebot)|(Facebot)|(YandexMobileBot)|(AhrefsBot)|(contxbot)|(Livechat OpenGraph Robot)|(Mail.RU_Bot)|(archive.org_bot)|(MojeekBot)|(Discordbot)|(startmebot)/i.test(e)}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=e.toString();if(n.includes(","))return n;if(n.includes(".")){var r=n.split(".");return"".concat(r[0].replace(/(?=(?!(\b))(\d{3})+$)/g,t),".").concat(r[1])}return n.replace(/(?=(?!(\b))(\d{3})+$)/g,t)}function ne(e,t){return 0===t?0:Math.round(e/t*100)}function re(e){if(!e)return"0";var t=e.toString();if(t.includes(".")){var n=t.split(".");return"".concat(te(n[0]),".").concat(n[1])}return te(t)}function ie(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"+":"";return(e=Number(e))<1e3?e+"":e<1e6?Math.floor(e/1e3)+"K"+t:e<1e9?Math.floor(e/1e6)+"M"+t:Math.floor(e/1e9)+"B"+t}function ae(e){for(var t=[],n=e.length,i=1;i<Math.pow(2,n);i++){for(var r=[],o=0;o<n;o++)i>>o&1&&r.push(e[o]);t.push(r)}return t}function oe(e,t,n){if(t>=n)return e({1:"review_not_recommended",2:"review_unsatisfactory",3:"review_average",4:"review_good",5:"review_highly_recommended"}[t/20])}function ce(link){return link.includes("klook.")}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HKD",r=R.a["".concat(t,"HKD")]||1,o=R.a["".concat(n,"HKD")]||1;return Number(e)*r/o}function ue(text,e){var input=document.createElement("input");document.body.appendChild(input),input.setAttribute("value",text),input.select(),document.execCommand("copy")&&(document.execCommand("copy"),e()),document.body.removeChild(input)}function le(){return/https?:\/\/(.*.klook.(io|com)|localhost:3004)/.exec(document.referrer)?document.referrer:""}function de(e,t){var n,r;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}var o=Math.pow(10,Math.max(n,r));return(_e(e,o)+_e(t,o))/o}function pe(e,t){var n,r,o;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(_e(e,o=Math.pow(10,Math.max(n,r)))-_e(t,o))/o}function _e(e,t){var n=0,r=e.toString(),o=t.toString();try{n+=r.split(".")[1].length}catch(e){}try{n+=o.split(".")[1].length}catch(e){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=e,option=D.g[t];if(option){var c=U({},option);if(n){var l=c.w,d=c.h;l&&(c.w=2*l),d&&(c.h=2*d)}var _=c,f=_.w&&_.w>0?",w_".concat(_.w):"",v=_.h&&_.h>0?",h_".concat(_.h):"",m=f&&v?"c_fill".concat(f).concat(v):"",h=_.blur&&_.blur>0?"e_blur:".concat(_.blur):"",y=_.quality&&_.quality>0?"q_".concat(_.quality):"q_auto";r||(y="fl_lossy.progressive,".concat(y));var k=_.customize&&""!==_.customize?_.customize:"",mark=_.waterMark?"w_80,x_15,y_15,g_south_west,l_Klook_water_br_trans_yhcmh3":"";m&&(o=o.replace(/\/[^/]*c_fill*[^/]*\//,"/")),h&&(o=o.replace(/\/[^/]*e_blur:(\d*)*[^/]*\//,"/")),y&&(o=o.replace(/\/[^/]*fl_lossy\.progressive*[^/]*\//,"/")),/\/[^/]*_water*[^/]*\//.test(o)&&(mark="/");var E=[m,y,h,mark,k].filter((function(e){return""!==e})).join("/"),S="image/upload/".concat(E,"/");o=o.replace("image/upload/",S)}return o}var ge=function(e){return!x()(e.klook.affiliateConf)},ve=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return ge(e)?j()(e.klook.affiliateConf,t,n):n},me=function(e,t){if(ge(e)){var n=ve(e,"partner_web_config.vertical_menu_types",!1);n&&(t=he(t,(function(e){return e.partner_extra_info&&e.partner_extra_info.category&&n.includes(e.partner_extra_info.category)})))}return t},he=function e(t,n){if(!t||!t.length)return[];function r(e){if(n(e))return!0;if(e.sub_menu&&e.sub_menu.items&&e.sub_menu.items.length){var t=!0,r=!1,o=void 0;try{for(var c,l=e.sub_menu.items[Symbol.iterator]();!(t=(c=l.next()).done);t=!0){var d=c.value;if(n(d))return!0}}catch(e){r=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw o}}}return!1}var o=[],c=!0,l=!1,d=void 0;try{for(var _,f=t[Symbol.iterator]();!(c=(_=f.next()).done);c=!0){var v=_.value;r(v)&&(o.push(v),v.sub_menu&&(v.sub_menu.items=e(v.sub_menu.items,n)))}}catch(e){l=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw d}}return o},ye=function(e){var t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var r=e.getDate();return r<10&&(r="0"+r),t+"-"+n+"-"+r},be=function(e,t,n){return"HKD"===t?e:(e*n[t+"HKD"]).toFixed(1)},ke=function(e){var t=/https?:\/\/(www.)?klook.com+/gi,n=/blog/.test(e);return t.test(e)&&!n&&(e=e.replace(t,"")),e};function Ee(link){if(link)try{return v.a.parse(link)}catch(e){}}function Se(e){var t=Ee(e);if(!t)return e;var n=t.protocol,r=t.host;if(n&&r){var o=new RegExp("".concat(n,"//").concat(r));return e.replace(o,"")}return e}function Te(p){return new Promise((function(e){p.then((function(t){e([null,t])})).catch((function(t){e([t,null])}))}))}function Oe(e,t){var n=e.toString().split("."),r=0;return n.length>1&&(r=n[1].length),(e*(parseInt(t)>1?parseInt(t):1)).toFixed(r)}var we=function(e){return new Promise((function(t){var n=document.createElement("textarea");n.value=e,n.style.position="absolute",n.style.left="-9999px",n.readOnly=!0,n.contentEditable="true",document.body.appendChild(n),function(e,t,n){if(navigator.userAgent.match(/ipad|iPod|iphone/i)){var r=document.createRange();r.selectNodeContents(e);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),e.setSelectionRange(t,n)}else e.select()}(n,0,e.length),document.execCommand("copy")?(document.body.removeChild(n),t(!0)):t(!1)}))};function xe(e,t){if(!e)return function(){return!1};var n=e[t];return n?function(e){var t;return(null===(t=n.group)||void 0===t?void 0:t.name)===e}:function(){return!1}}var Ae=function(e,element,t){element&&element.setAttribute(e,"".concat(t||""))};var Ce=function(e){return"skytone"===ve(e,"partner_name")},Ie=function(e){if(!e.includes("klook"))return null;var t=e.match(/\/(city|coureg|country)\/(\d+)-.+/);return t?{type:"city"===t[1]?"city":"country",id:t[2]}:null},je=function(e){return Object(P.stringify)(e)};function Pe(e){var t=e.linkId,n=e.marketId;return"".concat("/","v1/usrcsrv/or?i_=").concat(t,"&m_=").concat(n)}var Re=function(e){var t="";return ge(e)&&(t=j()(e.klook.affiliateConf,"aid_extra_info.payment_info.merchantId","")),t};function De(){return Le.apply(this,arguments)}function Le(){return(Le=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.navigator.userAgent.toLowerCase(),n=t.includes("iphone")||t.includes("ipad"),r=n&&t.match(/cpu iphone os (\d+)_(\d+)/i),o=r&&r.length&&r[1]+r[2]>"111",!(n&&window.ApplePaySession&&o)){e.next=17;break}return e.prev=5,e.next=8,Ne();case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),console.log(e.t0.message),e.abrupt("return",!1);case 15:e.next=18;break;case 17:return e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function Ne(){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,r,o,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:"applepay_ntt_data",n=!0,e.t0=t,e.next="applepay_ntt_data"===e.t0?5:"applepay_adyen"===e.t0?7:8;break;case 5:return r=n?"merchant.com.ntt.klooktravel":"merchant.com.ntt.klooktravel.sandbox",e.abrupt("break",8);case 7:r=n?"merchant.com.adyen.klooktravel":"merchant.com.klooktravel.test";case 8:return e.next=10,window.ApplePaySession.canMakePaymentsWithActiveCard(r);case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e,t){var n=e.$children,r=null;if(n.length){var o=!0,c=!1,l=void 0;try{for(var d,_=n[Symbol.iterator]();!(o=(d=_.next()).done);o=!0){var f=d.value;if(f.$options.name===t){r=f;break}if(r=Me(f,t))break}}catch(e){c=!0,l=e}finally{try{o||null==_.return||_.return()}finally{if(c)throw l}}}return r}var He=function(e,t){var n=t||/(flickket\.com$)/,r=e||(window&&window.location?window.location.host:"");return"flickket"===J("platform_env")||n.test(r)},Ge=function(e,t){var n=R.b[e]||"",r=F(t)||"";return"".concat(n," ").concat(r)},$e=function(e,t){var n,r,o,c=+new Date,l=void 0!==arguments?arguments:null,d=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-c;e=__in_house.get_spm_info(e,{duration:t,args:l})}catch(e){console.warn("Get spm info error",e)}return e};(null===(o=null===(r=null===(n=e)||void 0===n?void 0:n.klook)||void 0===r?void 0:r.utilConfig)||void 0===o?void 0:o.whiteLabelUtilConfig)?window.location.href=d(e.$router.resolve(t).href):e.$router.push(t)},Be=function(e,t){var n;if(e)return(null===(n=e)||void 0===n?void 0:n.currentStyle)?e.currentStyle[t]:getComputedStyle(e,null)[t]},Fe=function(e,t){var n=parseInt("0x"+e.slice(1,3)),r=parseInt("0x"+e.slice(3,5)),o=parseInt("0x"+e.slice(5,7));return"rgba(".concat(n,", ").concat(r,", ").concat(o,", ").concat(t,")")},Ke=function(e){for(var t,n,r=null===(t=e)||void 0===t?void 0:t.offsetTop,o=null===(n=e)||void 0===n?void 0:n.offsetParent;null!==o;)r+=o.offsetTop,o=o.offsetParent;return r},qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=Ke(e),o=document.documentElement.scrollTop,c=r-o;return c<=n+t},Ve=function(e){var t;if(!window||!document||!(null===(t=e)||void 0===t?void 0:t.getBoundingClientRect))return!1;var n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=e.getBoundingClientRect(),c=o.top,l=o.right,d=o.bottom,_=o.left;return c>=0&&_>=0&&d<=n&&l<=r},Ye=function(e){if(e){var t=""+e;return{package_id:Number(t.substring(10)),start_time:k()(Number(t.substring(0,10)+"000")).utc().format("YYYY-MM-DD HH:mm:ss")}}},We=function(e,t,n){var r,o=(n||{}).wifiSimParams;return{booking_package_list:[U({sku_list:null===(r=t)||void 0===r?void 0:r.map((function(e){return{sku_id:e.sku_id,count:e.count}}))},Ye(e),{},o||{})]}},ze=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return(null===(t=e)||void 0===t?void 0:t.reduce((function(e,t){return e+=t[n]}),0))||0},Qe=function(data,e){var t;if("function"!=typeof(null===(t=data)||void 0===t?void 0:t.tipsFn))return!1;var n=data||{},r=n.$t,o=n.tipsFn,c=n.pkgDate,l=n.pkgTime,d=n.pkgUnitCount,_=n.pkgMinPax,f={showMessage:!1,defResult:!1,tipsMap:{pkgDate:r("activity.booking.options.select.date"),pkgTime:r("activity.booking.options.select.time"),pkgUnitCount:r("activity.booking.options.select.quantity"),pkgMinPax:r("activity.error.price_min",[_])}},v=C()({},f,e||{}),m=v.defResult,h=v.tipsMap,y=v.showMessage;return c?l?d?d<Number(_)?(y&&o(h.pkgMinPax),m):{data:data,options:e,opt:v}:(y&&o(h.pkgUnitCount),m):(y&&o(h.pkgTime),m):(y&&o(h.pkgDate),m)},Je=function(e){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e||"";return t&&"en"!==t?"/"+t+"/"+path:"/"+path},Xe=function e(t,n){var r;return!(!t||"BODY"===(null===(r=t)||void 0===r?void 0:r.nodeName))&&(t.id===n||e(t.parentElement,n))};function Ze(e,t,n){return e.includes("c_fill")?e:e.replace("image/upload/","image/upload/q_85/c_fill,w_".concat(t,",h_").concat(n,"/"))}var et=function(e){var t=e||{},n=t.city_id,r=t.country_id,o=t.category_id,c=n?Number(n):0,l=r?Number(r):0,d=o?Number(o):0;return c<=0&&l<=0?d>0?"Experiences Category Global Page":"Experiences Vertical Page":l>0?d>0?"Experiences Country Cate Page":"Experiences Country Page":c>0?d>0?"Experiences City Cate Page":"Experiences City Page":""},tt=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.prev=1,e.next=4,n.$get(L.a.getInternalLink,{timeout:8e3,params:{country_id:(null===(r=t)||void 0===r?void 0:r.country_id)||void 0,city_id:(null===(o=t)||void 0===o?void 0:o.city_id)||void 0,search_type:et(t)}});case 4:c=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();function nt(e,t){return it.apply(this,arguments)}function it(){return(it=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,_,f,v,m,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={redirect_url:"",redirect_query:{}},e.next=3,n.$get(L.a.getSeoPreInfo,{timeout:8e3,params:{frontend_id:t.frontendId,city_id:t.cityId,country_id:t.countryId,source_url:t.path,l1_frontend_id:t.l1_front_id}});case 3:return o=e.sent,c=o.success,l=o.result,c&&l&&(_=l.redirect_url,f=_.split("?"),v=Object(d.a)(f,2),m=v[0],h=v[1],y=void 0===h?"":h,r.redirect_url=m,y&&(r.redirect_query=at(y))),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){var t,n={};if(!e)return n;var r=e.split("&")||[];return(null===(t=r)||void 0===t?void 0:t.length)&&r.forEach((function(e){var t=e.split("="),r=Object(d.a)(t,2),o=r[0],c=r[1];n[o]=c})),n}var ot=function(e,g,b){e/=255,g/=255,b/=255;var t=Math.max(e,g,b),n=Math.min(e,g,b),r=0,s=0,o=(t+n)/2;if(t===n)r=s=0;else{var c=t-n;switch(s=o>.5?c/(2-t-n):c/(t+n),t){case e:r=(g-b)/c+(g<b?6:0);break;case g:r=(b-e)/c+2;break;case b:r=(e-g)/c+4}r/=6}return[r,s,o]},ct=function(e){var t=function(e){return[parseInt("0x"+e.slice(1,3)),parseInt("0x"+e.slice(3,5)),parseInt("0x"+e.slice(5,7))]}(e),n=Object(d.a)(t,3),r=n[0],o=n[1],c=n[2];return{HSL:ot(r,o,c),fontColor:ot(r,o,c)[2]>.6?"#000000":"#ffffff"}};function st(path){return/.*\/experiences\/list\/$/.test(path)}function ut(path){return/.*\/experiences\/$/.test(path)}function lt(e,t){return pt.apply(this,arguments)}function pt(){return(pt=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,_,f,v,m,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={redirect_url:"",redirect_query:{}},e.next=3,n.$get(L.a.getAttractionsLandingPagePreInfo,{timeout:8e3,params:{frontend_id:t.frontendId,city_id:t.cityId,country_id:t.countryId,source_url:t.path}});case 3:return o=e.sent,c=o.success,l=o.result,c&&l&&(_=decodeURIComponent(l.redirect_url),f=_.split("?"),v=Object(d.a)(f,2),m=v[0],h=v[1],y=void 0===h?"":h,r.redirect_query=at(y),r.redirect_url=m),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},169:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return m}));n(22),n(14),n(11),n(12);var r=n(0),o=n(74),c=(n(52),n(53),n(8),n(1));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _=new c.default;function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){if(e.loading){var t=e.loading;if(f(t)){var n=t.el,r=Object(o.a)(t,["el"]);if(n){var l="string"==typeof n?document.querySelector(n):n;if(l){var component=new(c.default.component("klk-loading"))({el:document.createElement("div"),propsData:d({showOverlay:!0,overlayColor:"rgba(255, 255, 255, .7)"},r)}).$mount();l.appendChild(component.$el),l._$loading=component.$el}}else _.$showLoading(r)}else _.$showLoading({overlayColor:"rgba(255, 255, 255, .7)"})}}function m(e){if(e&&e.loading){var t=e.loading;if(f(t)){var n=t.el;if(n){var r="string"==typeof n?document.querySelector(n):n;r&&r._$loading&&(r.removeChild(r._$loading),delete r._$loading)}else _.$hideLoading()}else _.$hideLoading()}}},18:function(e,t,n){"use strict";n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"h",(function(){return T})),n.d(t,"o",(function(){return w})),n.d(t,"j",(function(){return A})),n.d(t,"l",(function(){return C})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return j})),n.d(t,"g",(function(){return P})),n.d(t,"k",(function(){return R}));n(22),n(14);var r=n(25),o=(n(37),n(117),n(253),n(5)),c=(n(52),n(53),n(73),n(133),n(28),n(23),n(4)),l=(n(45),n(11),n(8),n(12),n(30),n(0)),d=n(1);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function v(e){d.default.config.errorHandler&&d.default.config.errorHandler(e)}function m(e,t){if(t||!e.options.__hasNuxtData){var n=e.options._originDataFn||e.options.data||function(){return{}};e.options._originDataFn=n,e.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(t=this.$ssrContext.asyncData[e.cid]),f({},data,{},t)},e.options.__hasNuxtData=!0,e._Ctor&&e._Ctor.options&&(e._Ctor.options.data=e.options.data)}}function h(e){return e.options&&e._Ctor===e?e:(e.options?(e._Ctor=e,e.extendOptions=e.options):(e=d.default.extend(e))._Ctor=e,!e.options.name&&e.options.__file&&(e.options.name=e.options.__file),e)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],e.matched.map((function(e,r){return Object.keys(e[n]).map((function(o){return t&&t.push(r),e[n][o]}))})))}function k(e){return y(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],"instances")}function E(e,t){return Array.prototype.concat.apply([],e.matched.map((function(e,n){return Object.keys(e.components).reduce((function(r,o){return e.components[o]?r.push(t(e.components[o],e.instances[o],e,o,n)):delete e.components[o],r}),[])})))}function S(e,t){return Promise.all(E(e,function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(n,r,o,c){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof n||n.options){e.next=4;break}return e.next=3,n();case 3:n=e.sent;case 4:return o.components[c]=n=h(n),e.abrupt("return","function"==typeof t?t(n,r,o,c):n);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}()))}function T(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S(t);case 4:return e.abrupt("return",f({},t,{meta:y(t).map((function(e,n){return f({},e.options.meta,{},(t.matched[n]||{}).meta)}))}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return x.apply(this,arguments)}function x(){return(x=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context||(t.context={isStatic:!1,isDev:!1,isHMR:!1,app:t,store:t.store,payload:n.payload,error:n.error,base:"/",env:{BASE_LINK:"",API_URL:"http://elb-apiv2.klook.io",API_URL_BROWSER:"/",LOGQUERY_URL_NATS:"nats://nlb-nats.klook.io:6222",LOGQUERY_URL:"https://log.klook.com/v2/frontlogsrv/log/web",LOGQUERY_URL_V3:"https://log.klook.com/v3/frontlogsrv/log/web",SLACK_ALERT_URL:"https://hooks.slack.com/services/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",GTM_ID:"GTM-5NWTPH",GA4_ID:"G-V8S4KC8ZXR",MIXPANEL_ID:"c2ca8b423fd75a10792debf44cd6b51a",WHITELABEL_GTM_ID:"GTM-5LZNQKB",APP_ENV:"production"}},n.req&&(t.context.req=n.req),n.res&&(t.context.res=n.res),n.ssrContext&&(t.context.ssrContext=n.ssrContext),t.context.redirect=function(e,path,n){var r=+new Date,c=void 0!==arguments?arguments:null,l=function(e){if("undefined"!=typeof __in_house&&__in_house.get_spm_info)try{var t=+new Date-r;e=__in_house.get_spm_info(e,{duration:t,args:c})}catch(e){console.warn("Get spm info error",e)}return e};if(e){t.context._redirected=!0;var d=Object(o.a)(path);if("number"==typeof e||"undefined"!==d&&"object"!==d||(n=path||{},path=e,d=Object(o.a)(path),e=302),"object"===d&&(path=t.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=M(path,n),window.location.replace(l(l(path))),new Error("ERR_REDIRECT");t.context.next({path:path,query:n,status:e})}},t.context.nuxtState=window.__KLOOK__),e.next=3,Promise.all([T(n.route),T(n.from)]);case 3:c=e.sent,l=Object(r.a)(c,2),d=l[0],_=l[1],n.route&&(t.context.route=d),n.from&&(t.context.from=_),t.context.next=n.next,t.context._redirected=!1,t.context._errored=!1,t.context.isHMR=!1,t.context.params=t.context.route.params||{},t.context.query=t.context.route.query||{};case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return!e.length||t._redirected||t._errored?Promise.resolve():C(e[0],t).then((function(){return A(e.slice(1),t)}))}function C(e,t){var n;return(n=2===e.length?new Promise((function(n){e(t,(function(e,data){e&&t.error(e),n(data=data||{})}))})):e(t))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function I(base,e){var path=decodeURI(window.location.pathname);return"hash"===e?window.location.hash.replace(/^#\//,""):(base&&0===path.indexOf(base)&&(path=path.slice(base.length)),(path||"/")+window.location.search+window.location.hash)}function j(e,t){return function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===Object(o.a)(e[i])&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(n,r){for(var path="",data=n||{},o=(r||{}).pretty?L:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!=typeof l){var d=data[l.name||"pathMatch"],_=void 0;if(null==d){if(l.optional){l.partial&&(path+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Array.isArray(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(_=o(d[f]),!t[c].test(_))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(_)+"`");path+=(0===f?l.prefix:l.delimiter)+_}}else{if(_=l.asterisk?L(d,!0):o(d),!t[c].test(_))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+_+'"');path+=l.prefix+_}}else path+=l}return path}}(function(e,t){var n,r=[],o=0,c=0,path="",l=t&&t.delimiter||"/";for(;null!=(n=D.exec(e));){var d=n[0],_=n[1],f=n.index;if(path+=e.slice(c,f),c=f+d.length,_)path+=_[1];else{var v=e[c],m=n[2],h=n[3],y=n[4],k=n[5],E=n[6],S=n[7];path&&(r.push(path),path="");var T=null!=m&&null!=v&&v!==m,O="+"===E||"*"===E,w="?"===E||"*"===E,x=n[2]||l,pattern=y||k;r.push({name:h||o++,prefix:m||"",delimiter:x,optional:w,repeat:O,partial:T,asterisk:Boolean(S),pattern:pattern?U(pattern):S?".*":"[^"+N(x)+"]+?"})}}c<e.length&&(path+=e.substr(c));path&&r.push(path);return r}(e,t))}function P(e,t){var n={},r=f({},e,{},t);for(var o in r)String(e[o])!==String(t[o])&&(n[o]=!0);return n}function R(e){var t;if(e.message||"string"==typeof e)t=e.message||e;else try{t=JSON.stringify(e,null,2)}catch(n){t="[".concat(e.constructor.name,"]")}return f({},e,{message:t,statusCode:e.statusCode||e.status||e.response&&e.response.status||500})}window.onKlookReadyCbs=[],window.onKlookReady=function(e){window.onKlookReadyCbs.push(e)};var D=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function L(e,t){var n=t?/[?#]/g:/[/?#]/g;return encodeURI(e).replace(n,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function N(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function U(e){return e.replace(/([=!:$/()])/g,"\\$1")}function M(e,t){var n,o=e.indexOf("://");-1!==o?(n=e.substring(0,o),e=e.substring(o+3)):e.startsWith("//")&&(e=e.substring(2));var c,l=e.split("/"),d=(n?n+"://":"//")+l.shift(),path=l.filter(Boolean).join("/");if(2===(l=path.split("#")).length){var _=l,f=Object(r.a)(_,2);path=f[0],c=f[1]}return d+=path?"/"+path:"",t&&"{}"!==JSON.stringify(t)&&(d+=(2===e.split("?").length?"&":"?")+function(e){return Object.keys(e).sort().map((function(t){var n=e[t];return null==n?"":Array.isArray(n)?n.slice().map((function(e){return[t,"=",e].join("")})).join("&"):t+"="+n})).filter(Boolean).join("&")}(t)),d+=c?"#"+c:""}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));n(20),n(27);var r={attractionsAndShows:1,tourAndSightseeing:2,activitiesAndExperiences:3,bestFoodAndMustEats:4,transportAndTravelService:5,ttd:[1,2,3,5,6],fnb:4,wifi:7,sim:8,ysim:9,gift:10,europerail:11,chinarail:12,transfer:13,hotelVoucher:14,carRental:15,hotel:16,jrptp:17,twbus:18,ptp:[11,12,17,18].concat(function(e,t,n){for(var r=[],o=e;o<t+1;o++)n.includes(o)||r.push(o);return r}(21,44,[33]))};function o(e){return e===r.fnb}function c(e){return e===r.wifi}function l(e){return e===r.sim}function d(e){return e===r.ysim}function _(e){return e===r.europerail}function f(e){return e===r.transfer}function v(e){return e===r.carRental}function m(e){return e===r.chinarail}function h(e){return+e===r.hotelVoucher}function y(e){return+e===r.hotel}function k(e,t){var n=!1;switch(e){case"wifi":n=c(t.activity_template_id);break;case"sim":n=l(t.activity_template_id);break;case"europerail":n=_(t.activity_template_id);break;case"chinarail":n=m(t.activity_template_id);break;case"transfer":n=f(t.activity_template_id);break;case"ysim_top_up":n=d(t.activity_template_id)&&"ysim_top_up"===t.activity_type;break;case"ysim_buy":n=d(t.activity_template_id)&&"ysim_buy"===t.activity_type;break;case"hotel_voucher":n=h(t.activity_template_id);break;case"hotel":n=y(t.activity_template_id);break;case"special_ui":n=_(t.activity_template_id)||m(t.activity_template_id)||y(t.activity_template_id);break;case"fnb":n=o(t.activity_template_id);break;case"car_rental":n=v(t.activity_template_id);break;default:n=!1}return n}},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},2:function(e,t,n){"use strict";n.r(t),n.d(t,"SET_PKGS_ADDON_SKU",(function(){return r})),n.d(t,"SET_PKGS_ADDON_SCHEDULES_AND_UNITS",(function(){return o})),n.d(t,"SET_PKGS_BASIC_INFO",(function(){return c})),n.d(t,"SET_COMMON_LOADING_STATE",(function(){return l})),n.d(t,"SET_TAG_FILTER_LIST",(function(){return d})),n.d(t,"SET_TAG_FILTER_VALUE",(function(){return _})),n.d(t,"SET_PRE_SETTLEMENT_API_DATA",(function(){return f})),n.d(t,"GET_ACTIVITY_DETAIL",(function(){return v})),n.d(t,"GET_REVIEW_IMAGES_INFO",(function(){return m})),n.d(t,"GET_PACKAGE_SCHEDULE",(function(){return h})),n.d(t,"SET_PACKAGE_SELECTED_DATE",(function(){return y})),n.d(t,"SET_PACKAGE_ID",(function(){return k})),n.d(t,"SET_CACHED_PACKAGE_ID",(function(){return E})),n.d(t,"RESET_CACHED_PACKAGE_ID",(function(){return S})),n.d(t,"RESET_CACHED_PACKAGE",(function(){return T})),n.d(t,"SET_CACHED_SHOULD_RESET_DATE",(function(){return O})),n.d(t,"GET_PACKAGE_DETAIL",(function(){return w})),n.d(t,"CLEAR_PACKAGE",(function(){return x})),n.d(t,"CLEAR_PACKAGE_OPTIONS",(function(){return A})),n.d(t,"SET_PACKAGE_UNITS",(function(){return C})),n.d(t,"SET_PACKAGE_TIME",(function(){return I})),n.d(t,"CHANGE_UNIT_COUNT",(function(){return j})),n.d(t,"SET_PACKAGE_SCHEDULE",(function(){return P})),n.d(t,"SET_ATTRIBUTES",(function(){return R})),n.d(t,"SET_INITIAL_DATA",(function(){return D})),n.d(t,"SET_PACKAGE_UNITMAP",(function(){return L})),n.d(t,"RESET_BOOKING_OPTIONS",(function(){return N})),n.d(t,"SET_PRESALE_PACKAGES",(function(){return U})),n.d(t,"SET_ACTIVITY_INSTANT",(function(){return M})),n.d(t,"SET_ACTIVITY_REVIEWS",(function(){return H})),n.d(t,"SET_REVIEWS_LIKED",(function(){return G})),n.d(t,"CLEAR_REVIEW_LIST",(function(){return $})),n.d(t,"TRIGGER_REVIEW_LIST_VISIBLE",(function(){return B})),n.d(t,"GET_ACTIVITY_FAQ",(function(){return F})),n.d(t,"ACTIVITY_FAQ_VISIBLE",(function(){return K})),n.d(t,"SET_REOPEN_MODAL_VISIBLE",(function(){return V})),n.d(t,"SET_REOPEN_REMIND",(function(){return Y})),n.d(t,"SET_REOPEN_REMIND_SUCCESSS",(function(){return W})),n.d(t,"GET_PRICE_PACKAGE_SCHEDULE",(function(){return z})),n.d(t,"SET_PRICE_PACKAGE_SCHEDULE",(function(){return Q})),n.d(t,"SHOW_DATE_PICKER",(function(){return J})),n.d(t,"KEEP_SOURCE_ACTIVITY_DETAIL",(function(){return X})),n.d(t,"KEEP_SOURCE_PACKAGE_DETAIL",(function(){return Z})),n.d(t,"SAVE_ACTIVITY_TRANSLATE",(function(){return ee})),n.d(t,"SAVE_PACKAGE_TRANSLATE",(function(){return te})),n.d(t,"CHANGE_TRANSLATE_STATUS",(function(){return ne})),n.d(t,"CMS_AND_PREVIEW",(function(){return re})),n.d(t,"CLEAR_ALL_CLICK",(function(){return ie})),n.d(t,"SET_MODIFICATION_SHOPPING_CART",(function(){return ae})),n.d(t,"SET_ROUTE_NAME",(function(){return oe})),n.d(t,"CHANGE_SCHEDULE_MODE",(function(){return ce})),n.d(t,"GET_PROMOTION_DETAIL",(function(){return se})),n.d(t,"CLEAR_PROMOTION_DETAIL",(function(){return ue})),n.d(t,"BATCH_SET_UNITS_COUNT",(function(){return le})),n.d(t,"SET_UNITS_COUNT_TO_ONE",(function(){return de})),n.d(t,"SET_PRICE_PACKAGE_SCHEDULE_STATE",(function(){return pe})),n.d(t,"SET_EXPERIENCES_ABTEST",(function(){return _e})),n.d(t,"SET_ACTIVITY_INFO",(function(){return fe})),n.d(t,"GET_ACTIVITY_CARDS",(function(){return ge})),n.d(t,"SET_ACTIVITY_PREINFO",(function(){return ve})),n.d(t,"SET_ACTIVITY_DETAIL",(function(){return me})),n.d(t,"SET_USER_AGENT",(function(){return he})),n.d(t,"SET_PREVIEW_EXPIRED",(function(){return ye}));var r="SET_PKGS_ADDON_SKU",o="SET_PKGS_ADDON_SCHEDULES_AND_UNITS",c="SET_PKGS_BASIC_INFO",l="SET_COMMON_LOADING_STATE",d="SET_TAG_FILTER_LIST",_="SET_TAG_FILTER_VALUE",f="SET_PRE_SETTLEMENT_API_DATA",v="GET_ACTIVITY_DETAIL",m="GET_REVIEW_IMAGES_INFO",h="GET_PACKAGE_SCHEDULE",y="SET_PACKAGE_SELECTED_DATE",k="SET_PACKAGE_ID",E="SET_CACHED_PACKAGE_ID",S="RESET_CACHED_PACKAGE_ID",T="RESET_CACHED_PACKAGE",O="SET_CACHED_SHOULD_RESET_DATE",w="GET_PACKAGE_DETAIL",x="CLEAR_PACKAGE",A="CLEAR_PACKAGE_OPTIONS",C="SET_PACKAGE_UNITS",I="SET_PACKAGE_TIME",j="CHANGE_UNIT_COUNT",P="SET_PACKAGE_SCHEDULE",R="SET_ATTRIBUTES",D="SET_INITIAL_DATA",L="SET_PACKAGE_UNITMAP",N="RESET_BOOKING_OPTIONS",U="SET_PRESALE_PACKAGES",M="SET_ACTIVITY_INSTANT",H="SET_ACTIVITY_REVIEWS",G="SET_REVIEWS_LIKED",$="CLEAR_REVIEW_LIST",B="TRIGGER_REVIEW_LIST_VISIBLE",F="GET_ACTIVITY_FAQ",K="ACTIVITY_FAQ_VISIBLE",V="SET_REOPEN_MODAL_VISIBLE",Y="SET_REOPEN_REMIND",W="SET_REOPEN_REMIND_SUCCESSS",z="GET_PRICE_PACKAGE_SCHEDULE",Q="SET_PRICE_PACKAGE_SCHEDULE",J="SHOW_DATE_PICKER",X="KEEP_SOURCE_ACTIVITY_DETAIL",Z="KEEP_SOURCE_PACKAGE_DETAIL",ee="SAVE_ACTIVITY_TRANSLATE",te="SAVE_PACKAGE_TRANSLATE",ne="CHANGE_TRANSLATE_STATUS",re="CMS_AND_PREVIEW",ie="CLEAR_ALL_CLICK",ae="SET_MODIFICATION_SHOPPING_CART",oe="SET_ROUTE_NAME",ce="CHANGE_SCHEDULE_MODE",se="GET_PROMOTION_DETAIL",ue="CLEAR_PROMOTION_DETAIL",le="BATCH_SET_UNITS_COUNT",de="SET_UNITS_COUNT_TO_ONE",pe="SET_PRICE_PACKAGE_SCHEDULE_STATE",_e="SET_EXPERIENCES_ABTEST",fe="SET_ACTIVITY_INFO",ge="GET_ACTIVITY_CARDS",ve="SET_ACTIVITY_PREINFO",me="SET_ACTIVITY_DETAIL",he="SET_USER_AGENT",ye="SET_PREVIEW_EXPIRED"},200:function(e,t,n){},201:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},210:function(e,t,n){"use strict";n(8),n(61),n(14),n(11),n(20),n(27);var r=n(1),o=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},c=window.cancelIdleCallback||function(e){clearTimeout(e)},l=window.IntersectionObserver&&new window.IntersectionObserver((function(e){e.forEach((function(e){var t=e.intersectionRatio,link=e.target;t<=0||link.__prefetch()}))}));t.a={name:"NuxtLink",extends:r.default.component("RouterLink"),props:{prefetch:{type:Boolean,default:!1},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=o(this.observe,{timeout:2e3}))},beforeDestroy:function(){c(this.handleId),this.__observed&&(l.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){l&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),l.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){return this.getPrefetchComponents().length>0},canPrefetch:function(){var e=navigator.connection;return!(this.$klook.isOffline||e&&((e.effectiveType||"").includes("2g")||e.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(e){return e.components.default})).filter((function(e){return"function"==typeof e&&!e.options&&!e.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){l.unobserve(this.$el);var e=this.getPrefetchComponents(),t=!0,n=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var d=o.value,_=d();_ instanceof Promise&&_.catch((function(){})),d.__prefetched=!0}}catch(e){n=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}}}}},211:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return T}));n(52),n(53),n(25),n(37),n(28),n(20),n(27),n(11),n(8),n(12);var r=n(7),o=n.n(r),c=(n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(432),n(299)),l=n.n(c),d=n(64);n.d(t,"f",(function(){return d.f})),o.a.extend(l.a);var _={"h:mma":["en","en-AU","en-CA","en-GB","en-HK","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US"],"h:mm A":["zh-CN","zh-TW","zh-HK"],"A h:mm":["ko"],"HH:mm":["th","vi","id","ja","ms-MY"]};function f(e){return d.f[e]||e}function v(e){for(var t=Object.keys(_),n=0;n<t.length;n+=1){var r=t[n];if(_[r].includes(e))return r}return""}function m(e){var t={1:["en","en-AU","en-CA","en-GB","en-HK","en-IN","en-MY","en-NZ","en-PH","en-SG","en-US","ms-MY"],2:["zh-CN","zh-TW","zh-HK"],3:["ko"],4:["th","vi","id","ja","de","it","fr","ru","es"]},n=1;for(var r in t)t[r].includes(e)&&(n=r);return n}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=(arguments.length>5?arguments[5]:void 0)||{},d=l.isMeridiem,_=l.isOldType,h=e;o.a.locale(_?n:f(n)),"string"==typeof h&&(h=new Date(h.replace(/-/g,"/")));var y=t("global.standard.date.format");return 2===r&&(h.getHours()>0||h.getMinutes()>0)&&(y+=_?function(e){var t;switch(m(e)){case"1":t=" h:mma";break;case"2":t=" h:mm A";break;case"3":t=" A h:mm";break;case"4":t=" HH:mm"}return t}(n):" HH:mm"),3===r&&(y=t("global.standard.date.format_hide_year")),4===r&&(y=v(n)),5===r&&(y+=" ".concat(v(n))),6===r&&(y=t("global.standard.date.format")),c&&/d+/.test(c)&&(y+=c),d&&function(e,t){"3"===m(e)&&o.a.updateLocale(e,{meridiem:function(e){return t(e<12?"14311":"15935")}})}(n,t),6===r&&(h.getHours()>=0||h.getMinutes()>=0)&&(y+=" HH:mm"),o()(h).format(y)}function y(e,t,n,r){return h(e.replace(/([-+Z][01][0-9]:[0-5][0-9]|[Zz])/,"").split("T").join(" "),t,n,2,"",r)}function k(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{isMeridiem:!1,isOldType:!1};if(!Object.keys(t||{}).length)return e;var c="en"===r||"en-US"===r;for(var l in c||(o.isOldType=!1),t)e=e.replace(l,y(t[l],n,r,o));return e}function E(e,t,n){e=o()(e).format("YYYY-MM-DD hh:mm:ss").toString();var r=o()().diff(o()(e),"day");return 0===r?t("today"):1===r?t("75802"):r<7?t("75392",{num:r}):o()().format("YYYY")===o()(e).format("YYYY")?h(e,t,n,3):h(e,t,n)}function S(e){return e<=0?"00":e>=100?String(e):"00".concat(e).substr(-2)}function T(e){var t=o()(),n=o()(e),r=n.diff(t,"hour"),c=n.diff(t,"minute")%60,l=n.diff(t,"second")%60;return S(r)+":"+S(c)+":"+S(l)}},212:function(e,t,n){"use strict";n(22),n(14),n(11),n(12);var r=n(0);n(8);function o(e){var t=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,n=e||{},r=n.scrollEl,o=n.lockLocation;if(r){var c,l,d=Math.max((null==r?void 0:r.scrollHeight)||(null===(c=document.querySelector(r))||void 0===c?void 0:c.scrollHeight),(null==r?void 0:r.offsetHeight)||(null===(l=document.querySelector(r))||void 0===l?void 0:l.offsetHeight));if("number"==typeof d){var _=t-(o||0);return d>_?d-_:0}}var body=document.body,html=document.documentElement,f=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight);return f>t?f-t:0}function c(e){var t,n=0;if(e&&"number"==typeof(n=(null==e?void 0:e.scrollTop)||(null===(t=document.querySelector(e))||void 0===t?void 0:t.scrollTop)))return n;return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop}function l(){return document.documentElement.clientHeight}function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return S}));var f=o,v=l,m=c,h=function(e,t){if(e){var n=c(null==t?void 0:t.scrollEl);return parseInt(e.getBoundingClientRect().top+n)}return 0},y=function(e,t){var n,r=e.scrollY,d=void 0===r?0:r,_=e.lockType,f=void 0===_?"free":_,v=e.duration,m=void 0===v?200:v,h=e.callback,y=e.lockLocation,k=void 0===y?0:y,E=(t||{}).scrollEl,S=document.querySelector(E),T=c(S),O=o(t),w={top:0,middle:l()/2,bottom:l(),free:k},x=1e3*((d=O<=(d=d<0?0:d-w[f])?O:d)-T)/60/m;n=requestAnimationFrame((function e(){var r=c(S);if(x>0&&r+x>d||x<0&&r+x<d||0===x)S?S.scrollTo(0,d):window.scrollTo(0,d),cancelAnimationFrame(n),h&&"function"==typeof h&&h(d,n);else{S?S.scrollTo(0,r+=x):window.scrollTo(0,r+=x);var l=c(S);if(o(t)<=l||0===l)return cancelAnimationFrame(n),void(h&&"function"==typeof h&&h(d,n));n=requestAnimationFrame(e)}}))};function k(e){return new Promise((function(t){if(!(e instanceof Element))throw new TypeError("Argument must be an Element");var n=0,r=null;requestAnimationFrame((function o(){var c=e.getBoundingClientRect().top;if(c===r){if((n+=1)>2)return t(1)}else n=0,r=c;requestAnimationFrame(o)}))}))}function E(e){for(var t=0,n=[".wifi_package_option",".package_option",".package_option_spec",".package_option_card",".package_option_card_sku",".package_option_card_sku_with_detail",".package_options",".package_options_spec",".package_options_spec_type",".package_options_spec_type_left",".package_options_card",".Package_options_group"];t<n.length;t++){var r=n[t],o=document.querySelector(r);if(o){y(_({scrollY:h(o,e)},e||{}),e);break}}}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"smooth";if(e&&t){var r=e.offsetLeft,o=e.offsetWidth,c=t.offsetLeft,l=t.offsetWidth;t.scrollTo({behavior:n,left:r-c-(l-o)/2})}}},216:function(e,t,n){"use strict";(function(e){n(11),n(8),n(12);var r,o,c=n(164);t.a={apiUrl:"https://admin.klook.com/v1/locpublishserv/publish/texts",localesRequestPublishIds:"undefined"==typeof window?"10":"",rootDir:e,isDebugMode:!1,systemId:16,fallbackLocale:"en",testMessages:{en:{test:"test"},"zh-HK":{test:""}},interpolation:{prefix:"{",postfix:"}",linkKeyWord:"MULTILANG_URL_PLACEHOLDER"},colorMap:(r=c.tokens,o={},Object.keys(r).forEach((function(e){0===e.indexOf("$")?o[e.slice(1)]=r[e]:o[e]=r[e]})),o)}}).call(this,"/")},219:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return y}));var r=n(13),o=(n(11),n(8),n(12),n(10)),c=n.n(o),l={1:"Attractions & Shows",2:"Tours & Sightseeing",3:"Activities & Experiences",4:"Beats Food & Must Eats",5:"Transport & Travel Service"};function d(e){if(!c()(e)){var t={editor_choice:1,editorChoice:1,bestseller:2,new_activity:3,newActivity:3};return Object.keys(t).reduce((function(n,r){return e[r]?n.concat(t[r]):n}),[])}return[]}function _(e){if(!c()(e)){var t={percentageOff:"Percentage Off",percentage_off:"Percentage Off",skip_the_line:"Fast Track",skipTheLine:"Fast Track",newActivity:"New",new_activity:"New",bestseller:"Bestseller",editorChoice:"Editor Choice",editor_choice:"Editor Choice"};return Object.keys(e).reduce((function(n,o){return e[o]?[].concat(Object(r.a)(n),[t[o]]):n}),[])}return["NA"]}var f={13604:{from_des:"shh",to_des:"bjp"},15244:{from_des:"gzq",to_des:"xja"},13715:{from_des:"szq",to_des:"gzq"},13603:{from_des:"bjp",to_des:"shh"},13908:{from_des:"szh",to_des:"hzh"},13655:{from_des:"bjp",to_des:"xay"},13862:{from_des:"glz",to_des:"szq"},13902:{from_des:"szq",to_des:"xms"},13911:{from_des:"csq",to_des:"diq"},13845:{from_des:"vuq",to_des:"seq"},15714:{from_des:"fzs",to_des:"xja"},13871:{from_des:"cqw",to_des:"cdw"},15725:{from_des:"xms",to_des:"xja"},15811:{from_des:"glz",to_des:"xja"},15797:{from_des:"shh",to_des:"xja"},13708:{from_des:"cdw",to_des:"xay"},15739:{from_des:"csq",to_des:"xja"},15798:{from_des:"whn",to_des:"xja"},15814:{from_des:"giw",to_des:"xja"},15799:{from_des:"zzf",to_des:"xja"},15815:{from_des:"hzh",to_des:"xja"},15816:{from_des:"ncg",to_des:"xja"},15663:{from_des:"bjp",to_des:"xja"},15507:{from_des:"kmm",to_des:"xja"},20480:{from_des:"hzh",to_des:"shh"},20688:{from_des:"gzq",to_des:"zhq"},20393:{from_des:"gzq",to_des:"shh"},20547:{from_des:"gzq",to_des:"hzh"},20406:{from_des:"shh",to_des:"zjh"},20556:{from_des:"hzh",to_des:"zjh"},20440:{from_des:"xay",to_des:"shh"},20637:{from_des:"kmm",to_des:"gzq"},26723:{from_des:"",to_des:""}},v={17136:{from_des:"",to_des:""}};function m(e){return function(t){var n={er:v,cr:f}[e][t];return n?{er:"/europe-rail/?from_des_code=".concat(n.from_des,"&to_des_code=").concat(n.to_des),cr:"/china-train-ticket/?from_des_code=".concat(n.from_des,"&to_des_code=").concat(n.to_des)}[e]:""}}m("cr"),m("er");var h={47981:"426917",53337:"588275",59484:"262289",43564:"254974",51819:"426030"},y=["zh-CN:CN:CNY","zh-CN:BS:CNY","zh-CN:HK:CNY","zh-CN:US:CNY","zh-HK:HK:HKD","zh-HK:HK:USD","zh-HK:HK:CNY","zh-HK:US:HKD","zh-HK:US:USD","zh-HK:CN:CNY","zh-HK:CN:HKD","en-HK:HK:HKD","en-HK:HK:USD","en-HK:US:HKD","en-HK:US:USD","en-HK:CN:HKD","en-SG:SG:SGD","en-SG:US:SGD","en-SG:US:USD","en:SG:SGD","en:US:SGD","en:US:USD","zh-TW:TW:TWD","zh-TW:TW:USD","zh-TW:TW:CNY","zh-TW:US:TWD","zh-TW:US:USD","zh-TW:CN:CNY","zh-TW:CN:TWD","en-MY:MY:MYR","ko:KR:KRW","th:TH:THB","vi:VM:VND","en-PH:PH:PHP"]},266:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return O})),n.d(t,"formatRangeData",(function(){return A})),n.d(t,"mutations",(function(){return F})),n.d(t,"actions",(function(){return K}));n(22),n(14);var r,o=n(74),c=(n(12),n(23),n(4)),l=n(0),d=(n(47),n(13)),_=(n(30),n(20),n(27),n(37),n(11),n(8),n(135),n(10)),f=n.n(_),v=n(89),m=n(96),h=n(3),y=n(212),k=n(6),E=n(134);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O=function(){return{expInternalLinkObj2state:null,sectionActData:{templateId:-1,isWifi:!1,isSimCard:!1,isWifiSimCard:!1},sections:{},sectionList:[],cityId:void 0,countryId:void 0,frontendId:void 0,categoryVisible:!1,currentCategory:{id:0,name:"",deeplink:""},destinationVisible:!1,categoryTreeData:[],rangeData:[],searchResultActivities:[],useNewCardTemplate:!1,travelServices:[],searchResultActivitiesCount:0,urlQuery:{keyword:"",sort:"",range_id:"",country_ids:"",city_ids:"",frontend_id_list:"",page:1,size:24,start_date:"",price_from:"",price_to:"",instant:0},searchStartTime:[],priceFrom:0,priceTo:0,searchPageStatus:"default",selectedRanges:null,selectedCategory:null,pageType:"",bannerUrl:"",destinationTitle:"",categoryTitle:"",description:"",breadcrumb:{city:null,country:null,frontend_tree:[]},canAutoScrollToTop:!0,preInfo:{destination_title:"",redirect_url:"",isFromDestination:!1},activities:[],filterConditions:{},cacheFilterConditions:{},filter:{},componentExpand:{},isOverLimitCount:!1,urlQueryPayload:{},originRouterQuery:{},is_first_request:!0,seoData:{},reviewsListData:{title:"",status:"fetching",review_list:[]},reviewListPlatform:"client",tourHomePageBasic:{},tourHomePageSections:[],search_placeholder:"",current_destination:"",suggestion:{},filterKeywords:"",filterSort:"",notCalDestination:0,updateFilter:!0,isAttractions:0,themeData:{}}},w={};function x(e,t,title,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{type:e,id:t,show:!(arguments.length>5&&void 0!==arguments[5])||arguments[5],title:title,expand:!(!w[e]||!w[e][t]),disabled:r,checked:!r&&n,children:null}}function A(e,t){var n=(t.rangeIds||"").split(","),r=(t.countryIds||"").split(","),o=(t.cityIds||"").split(",");return e.map((function(e){var t=!0,c=n.includes(String(e.range_id)),l=x("range",e.range_id,e.range_name,c);return l.children=(e.countries||[]).map((function(e){var n=!0,l=r.includes(String(e.country_id));c&&(l=!0);var d=x("country",e.country_id,e.country_name,l);return d.children=(e.cities||[]).map((function(t){var c=o.includes(String(t.city_id));r.includes(String(e.country_id))&&(c=!0),l&&(c=!0);var d=x("city",t.city_id,t.city_name,c,t.disable);return d.disabled?l=!1:n=!1,d})),d.disabled=n,d.disabled?(c=!1,d.checked=!1):t=!1,d.checked=l,d})),l.disabled=t,l.disabled&&(l.checked=!1),l.checked=c,l}))}var C,I,j,P,R,D,L,N,U,M,H,G,$,B,F=(r={},Object(l.a)(r,"SET_EXP_INTERNAL_LINK_OBJ",(function(e,data){e.expInternalLinkObj2state=data})),Object(l.a)(r,"sectionActDataMutations",(function(e,data){var t=e.sectionActData;for(var n in data)t[n]=data[n]})),Object(l.a)(r,"SET_ACTIVITIES",(function(e,data){var t=e.urlQuery.page;e.activities=1===t?data:[].concat(Object(d.a)(e.activities),Object(d.a)(data))})),Object(l.a)(r,"SET_ACTIVITIES_V2",(function(e,t){var n=t.start,r=t.activity;e.activities=1===n?r:[].concat(Object(d.a)(e.activities),Object(d.a)(r))})),Object(l.a)(r,"SET_PAGE_INFO",(function(e,data){data.isAttractions&&(e.isAttractions=Number(data.isAttractions)),data.cityId&&(e.cityId=Number(data.cityId)),data.countryId&&(e.countryId=Number(data.countryId)),data.frontendId&&(e.frontendId=Number(data.frontendId)),data.type&&(e.pageType=data.type)})),Object(l.a)(r,"SET_DESTINATION_TITLE",(function(e,data){e.destinationTitle=data.destinationTitle,e.categoryTitle=data.categoryTitle,e.description=data.description,e.bannerUrl=data.bannerUrl||k.a})),Object(l.a)(r,"SET_SECTIONS",(function(e,data){[].concat(data).forEach((function(t){var n=t.meta.name;n&&(e.sections[n]=t)}))})),Object(l.a)(r,"SET_SECTION_LIST",(function(e,t){e.sectionList=t})),Object(l.a)(r,"CATEGORY_VISIBLE",(function(e,t){e.categoryVisible=t})),Object(l.a)(r,"CHANGE_DESTINATION_VISIBLE",(function(e,t){e.destinationVisible=t})),Object(l.a)(r,"SET_SEARCH_RESULT",(function(e,data){var t=e.urlQuery.frontend_id_list||"",n=e.urlQuery,r=n.range_id,o=n.country_ids,c=n.city_ids;e.categoryTreeData=function(data,e){return data.map((function(t){var n=e.split(",").includes(String(t.id)),r=x("category",t.id,t.name,n,!t.enable);return r.children=t.children?t.children.map((function(t){var r=e.split(",").includes(String(t.id));return n&&(r=!0),x("category",t.id,t.name,r,!t.enable)})):null,r}))}(data.categoryTreeData,t),e.rangeData=A(data.rangeData,{rangeIds:r,countryIds:o,cityIds:c}),e.searchResultActivities=data.searchResultActivities,e.travelServices=data.travelServices,e.searchResultActivitiesCount=data.searchResultActivitiesCount,e.searchStartTime=data.searchStartTime,e.useNewCardTemplate=data.useNewCardTemplate,e.resultActivitiesCardRatio=data.resultActivitiesCardRatio,e.filter=data.filter||{}})),Object(l.a)(r,"SET_SEARCH_RESULT_V2",(function(e,data){e.searchResultActivities=data.searchResultActivities,e.searchResultActivitiesCount=data.searchResultActivitiesCount,e.useNewCardTemplate=data.useNewCardTemplate,e.resultActivitiesCardRatio=data.resultActivitiesCardRatio,e.updateFilter&&(e.filter=data.filter),e.search_placeholder=data.search_placeholder,e.current_destination=data.current_destination,e.suggestion=data.suggestion})),Object(l.a)(r,"SET_URL_QUERY",(function(e,t){var n=JSON.parse(JSON.stringify(e.urlQuery)),data=Object.assign(n,t);e.urlQuery.keyword=data.keyword,e.urlQuery.keyword_id=data.keyword_id,e.urlQuery.keywords=data.keywords,e.urlQuery.city_id=data.city_id,e.urlQuery.country_id=data.country_id,e.urlQuery.sort=data.sort||"",e.urlQuery.range_id=data.range_id||"",e.urlQuery.country_ids=data.country_ids||"",e.urlQuery.city_ids=data.city_ids||"",e.urlQuery.frontend_id_list=data.frontend_id_list||"",e.urlQuery.page=Number(data.page)||1,e.urlQuery.size=Number(data.size)||24,e.urlQuery.instant=data.instant||0,e.urlQuery.start_date=data.start_date||"",e.urlQuery.price_from=data.price_from||"",e.urlQuery.price_to=data.price_to||"",e.urlQuery.l1_front_id=data.l1_front_id||""})),Object(l.a)(r,"SET_FILTER_PRICE",(function(e,data){e.priceFrom=Number(data.priceFrom),e.priceTo=Number(data.priceTo)})),Object(l.a)(r,"SET_STATUS",(function(e,t){e.searchPageStatus=t})),Object(l.a)(r,"SET_SELECTED_RANGES",(function(e,data){e.selectedRanges=data})),Object(l.a)(r,"SET_SELECTED_CATEGORY",(function(e,data){e.selectedCategory=data})),Object(l.a)(r,"SET_BREADCRUMB",(function(e,data){e.breadcrumb=data})),Object(l.a)(r,"SET_PRE_INFO",(function(e,data){e.preInfo=data})),Object(l.a)(r,"SET_CAN_AUTO_SCROLL_TO_TOP",(function(e,data){e.canAutoScrollToTop=data})),Object(l.a)(r,"SET_FILTER_CONDITIONS",(function(e,t){var n=t.key,r=t.value,o=e.filterConditions;r?o[n]=r:n&&delete o[n],e.filterConditions=T({},o),e.isOverLimitCount=function(e){for(var t=0,n=0,r=Object.values(e);n<r.length;n++){t+=r[n].count||0}return t>=20}(e.filterConditions)})),Object(l.a)(r,"CLEAR_FILTER_CONDITIONS",(function(e){e.filterConditions={},e.isOverLimitCount=!1})),Object(l.a)(r,"RECORD_COMPONENT_EXPAND",(function(e,t){var n=t.key,r=t.value,source=T({},e.componentExpand);source[n]=r,e.componentExpand=T({},source)})),Object(l.a)(r,"SET_URL_QUERY_PAYLOAD",(function(e,t){e.urlQueryPayload=t})),Object(l.a)(r,"SET_CACHE_FILTER_CONDITIONS",(function(e,data){e.cacheFilterConditions=data})),Object(l.a)(r,"REPLACE_FILTER_CONDITIONS",(function(e,data){e.filterConditions=data})),Object(l.a)(r,"SET_SEO_DATA",(function(e,data){e.seoData=data})),Object(l.a)(r,"SET_ORIGIN_ROUTE_QUEYR",(function(e,t){e.originRouterQuery=t})),Object(l.a)(r,"SET_INIT_STATUS",(function(e,t){e.is_first_request=t})),Object(l.a)(r,"SET_REVIEW_LIST_DATA",(function(e,t){var n=T({},e.reviewsListData,{},t);e.reviewsListData=n})),Object(l.a)(r,"SET_REVIEW_LIST_PLATFORM",(function(e,t){e.reviewListPlatform=t})),Object(l.a)(r,"SET_TOUR_HOME_BASIC",(function(e,t){e.tourHomePageBasic=t})),Object(l.a)(r,"SET_TOUR_HOME_SECTIONS",(function(e,t){e.tourHomePageSections=t})),Object(l.a)(r,"SET_FILTER_KEYWORDS",(function(e,t){e.filterKeywords=t})),Object(l.a)(r,"SET_UPDATE_FILTER_FLAG",(function(e,t){e.updateFilter=t})),Object(l.a)(r,"SET_FILTER_SORT",(function(e,t){e.filterSort=t})),Object(l.a)(r,"SET_NOT_CAL_DESTINATION",(function(e,t){e.notCalDestination=t})),Object(l.a)(r,"SET_THEME_LIST",(function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.themeData=data})),r),K={setSectionList:function(e,t){(0,e.commit)("SET_SECTION_LIST",v.c[t]||[])},changeCategoryVisible:function(e,t){(0,e.commit)("CATEGORY_VISIBLE",t)},changeDestinationVisible:function(e,t){(0,e.commit)("CHANGE_DESTINATION_VISIBLE",t)},createSection:(B=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,m,h,y,k,E,S,O,w,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.state,c=n.name,l=n.dataType,d=n.sync,_=n.src,m=n.required,h=n.validate,y=o.cityId,k=o.countryId,E=o.frontendId,f()(o.sections[c])){e.next=5;break}return e.abrupt("return",!0);case 5:if(S={bottom_button_deep_link:Object(v.a)(n.bottom_button_deep_link,o),title:Object(v.a)(n.title,o)},d){e.next=9;break}return r("SET_SECTIONS",Object(v.b)(T({name:c,dataType:l||c},n,{},S))),e.abrupt("return",!0);case 9:return O=Object(v.a)(n.params,o)||{city_id:y,country_id:k,frontend_id:E},e.prev=10,e.next=13,this.$axios.$get(_,{params:O,timeout:m?0:3e3});case 13:if(w=e.sent,x=w.success,A=w.result,x&&A){e.next=18;break}return e.abrupt("return",!m);case 18:if(!h||h(A)){e.next=20;break}return e.abrupt("return",!m);case 20:return r("SET_SECTIONS",Object(v.b)(T({name:c,dataType:l||c},n,{data:A},S))),e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",!m);case 27:case"end":return e.stop()}}),e,this,[[10,24]])}))),function(e,t){return B.apply(this,arguments)}),getSectionHeader:function(e,t){var n=e.commit,r=e.state,o=r.categoryTitle,c=r.description,l=r.destinationTitle,d=r.bannerUrl;return n("SET_SECTIONS",Object(v.b)({name:t.name,dataType:k.b.ExperienceHeader,data:{backgroundUrl:d,vertical:{title:o,deepLink:"/v1/experiencesrv/home/filter/category"},description:c,destination:{title:l,deepLink:"/v1/experiencesrv/home/filter/destination"},search:{placeholder:""}}})),!0},fetchHeaderInfo:($=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,e.prev=1,e.next=4,this.$axios.$get(o.isAttractions?h.a.getAttractionsMainBanner:h.a.getExperienceMainBanner,{params:{frontend_id:n.frontendId,city_id:n.cityId,country_id:n.countryId},throwError:!0});case 4:c=e.sent,l=c.success,d=c.result,l&&d&&(_=d.destination_title,f=d.description,v=d.category_title,m=d.banner_url,r("SET_DESTINATION_TITLE",{destinationTitle:_,categoryTitle:v,description:f,bannerUrl:m})),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])}))),function(e,t){return $.apply(this,arguments)}),setPageInfo:function(e,t){var n=e.commit,r=t.frontendId,o=t.cityId,c=t.countryId,l=t.type;n("SET_PAGE_INFO",{isAttractions:t.isAttractions,cityId:o,countryId:c,frontendId:r,type:l})},setUrlQuery:(G=Object(c.a)(regeneratorRuntime.mark((function e(t,data){var n,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,o=t.state,c=data.method||"getSearchResult",n("SET_URL_QUERY",data),e.next=5,r(c,T({},o.urlQuery,{},o.urlQueryPayload));case 5:n("SET_CAN_AUTO_SCROLL_TO_TOP",!0);case 6:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)}),formatQuery:function(e,t){(0,e.commit)("SET_URL_QUERY",T({},t));var n={};return Object.keys(t).forEach((function(e){t[e]&&(n[e]=t[e])})),n},setWindowHistory:function(e){var t=e.state,n=t.urlQuery,r=t.urlQueryPayload,o=[],c=Object.keys(n),l=Object.keys(r);c.forEach((function(e){!n[e]||"page"===e&&1===n[e]||o.push("".concat(e,"=").concat(n[e]))})),l.forEach((function(e){c.includes(e)||o.push("".concat(e,"=").concat(r[e]))}));var d="?"+o.join("&");window.history.replaceState(null,"",d)},filterQuery:function(e,t){var n=T({},e.state.urlQueryPayload,{},t),r={};return Object.keys(n).forEach((function(e){n[e]&&(r[e]="history_destinations"===e?Object(E.b)(n[e]):n[e])})),(r.country_id||r.city_id)&&delete r.history_destinations,r.init_filter=1,r},getSearchResultV2:(H=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,b,_,f,v,m,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,r("SET_STATUS","fetching"),d=!1,b=setTimeout((function(){d=!0,clearTimeout(b)}),800),e.next=6,o("filterQuery",Object(E.c)(n));case 6:return!(_=e.sent).size&&(_.size=15),!_.start&&(_.start=1),_.page&&(_.start=_.page,delete _.page),delete _.l1_front_id,e.next=13,this.$axios.$post(h.a.searchVerticalActivityResult,_,{timeout:8e3});case 13:if(f=e.sent,v=f.success,m=f.result,!v||!m){e.next=23;break}r("SET_SEARCH_RESULT_V2",{searchResultActivities:m.activities.items||[],resultActivitiesCardRatio:m.activities.ratio||"",searchResultActivitiesCount:m.total||0,useNewCardTemplate:!0,filter:m.filter,search_placeholder:m.search_placeholder||"",suggestion:m.suggestion||{},current_destination:m.current_destination||""}),r("SET_ACTIVITIES_V2",{activity:(null===(l=null===(c=m)||void 0===c?void 0:c.activities)||void 0===l?void 0:l.items)||[],start:_.start}),Object(E.e)(_),d?r("SET_STATUS","success"):a=setTimeout((function(){r("SET_STATUS","success"),clearTimeout(a)}),500),e.next=25;break;case 23:return r("SET_STATUS","failure"),e.abrupt("return",null);case 25:case"end":return e.stop()}}),e,this)}))),function(e,t){return H.apply(this,arguments)}),getSearchResult:(M=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v,m,y,k,E,S,T,O,w,x,A,C,b,I,j,P,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,c=t.state,r("SET_STATUS","fetching"),C=!1,b=setTimeout((function(){C=!0,clearTimeout(b)}),800),e.next=6,o("formatQuery",n);case 6:return I=e.sent,j=c.isAttractions?h.a.attractionsSearch:h.a.experiencesrvSearch,"search"!==c.pageType&&(j=c.isAttractions?h.a.getAttractionsCategoryActivityNew:h.a.getExperienceCategoryActivityNew,I.useOldUrl&&(j=h.a.getExperienceCategoryActivity,delete I.useOldUrl),I.page&&(I.start=I.page,delete I.page)),"mfo"===c.pageType&&(j=h.a.experienceMFOActivityList),!I.size&&(I.size=24),c.countryId?I.country_ids&&I.city_ids?I.country_ids="":I.country_ids||I.city_ids||(I.country_ids=String(c.countryId)):c.cityId&&(c.originRouterQuery.city_ids&&!c.originRouterQuery.city_ids.includes(String(c.cityId))&&(null===(d=null===(l=I)||void 0===l?void 0:l.city_ids)||void 0===d?void 0:d.includes(String(c.cityId)))&&c.is_first_request&&(I.city_ids=c.originRouterQuery.city_ids),r("SET_INIT_STATUS",!1)),e.prev=12,e.next=15,this.$axios.$get(j,{params:I});case 15:if(!(P=e.sent).success||!P.result){e.next=24;break}r("SET_SEARCH_RESULT",{rangeData:P.result.ranges||[],categoryTreeData:P.result.frontend_tree_mapping||[],searchResultActivities:(v=null===(f=null===(_=P.result)||void 0===_?void 0:_.activities_v2)||void 0===f?void 0:f.items,(null!=v?v:null===(m=P.result)||void 0===m?void 0:m.activities)||[]),useNewCardTemplate:!!(null===(k=null===(y=P.result)||void 0===y?void 0:y.activities_v2)||void 0===k?void 0:k.items),resultActivitiesCardRatio:(null===(S=null===(E=P.result)||void 0===E?void 0:E.activities_v2)||void 0===S?void 0:S.ratio)||"",travelServices:P.result.travel_services||[],searchResultActivitiesCount:P.result.total||0,searchStartTime:P.result.start_time||[],filter:(null===(T=P.result)||void 0===T?void 0:T.filter)||{}}),r("SET_ACTIVITIES",(null!=(x=null===(w=null===(O=P.result)||void 0===O?void 0:O.activities_v2)||void 0===w?void 0:w.items)?x:null===(A=P.result)||void 0===A?void 0:A.activities)||[]),r("SET_FILTER_PRICE",{priceFrom:(P.result.price||{}).from||0,priceTo:(P.result.price||{}).to||0}),o("setWindowHistory"),C?r("SET_STATUS","success"):a=setTimeout((function(){r("SET_STATUS","success"),clearTimeout(a)}),500),e.next=26;break;case 24:return r("SET_STATUS","failure"),e.abrupt("return",null);case 26:e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(12),r("SET_STATUS","failure"),e.abrupt("return",null);case 32:case"end":return e.stop()}}),e,this,[[12,28]])}))),function(e,t){return M.apply(this,arguments)}),scrollToListTop:function(e){if(e.state.canAutoScrollToTop){var t=window.document.querySelector(".js-category-tree-and-activity-list"),n=Object(y.c)(t)+-120;Object(y.d)({scrollY:n})}},getDestination:(U=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=n.cityId,o=n.countryId,c=n.frontendId,e.next=4,this.$axios.$get(n.isAttractions?h.a.getAttractionsDestination:h.a.getExperienceDestination,{params:{city_id:r,country_id:o,frontend_id:c}});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)}),getSearchSuggestions:(N=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l,d,_,f,v,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=m.length>1&&void 0!==m[1]?m[1]:{},c=n.cityId,l=n.countryId,d=n.frontendId,_=r.keyword,f=Object(o.a)(r,["keyword"]),e.next=6,this.$axios.$get(n.isAttractions?h.a.attractionsSuggest:h.a.experienceSearch,T({params:{city_id:c,country_id:l,frontend_id:d,query:_,limit:20,htl_gry:1}},f));case 6:return v=e.sent,e.abrupt("return",v);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)}),setSelectedRanges:function(e,data){(0,e.commit)("SET_SELECTED_RANGES",data)},setSelectedCategory:function(e,data){(0,e.commit)("SET_SELECTED_CATEGORY",data)},setExpandNode:function(e,data){var t=data.type,n=data.id;w[t]?w[t][n]?delete w[t][n]:w[t][n]=data:(w[t]={},w[t][n]=data)},getBreadcrumb:(L=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=r.cityId,c=r.countryId,l=r.frontendId,e.prev=2,e.next=5,this.$axios.$get(r.isAttractions?h.a.getAttractionsBreadcrumb:h.a.getBreadcrumb,{params:{city_id:o,country_id:c,frontend_id:l}});case 5:d=e.sent,_=d.success,f=d.result,_&&f&&n("SET_BREADCRUMB",f),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e){return L.apply(this,arguments)}),setCanAutoScrollToTop:function(e,data){(0,e.commit)("SET_CAN_AUTO_SCROLL_TO_TOP",data)},getPreInfo:(D=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,data,o,c,l,d,_,f,v,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,data=m.length>1&&void 0!==m[1]?m[1]:{},o=data.frontendId,c=data.cityId,l=data.countryId,d={frontend_id:o},c&&(d.city_id=c),l&&(d.country_id=c),e.next=8,this.$axios.$get(r.isAttractions?h.a.getAttractionsPreInfo:h.a.getExperiencePreInfo,{params:d});case 8:_=e.sent,f=_.success,v=_.result,f&&v&&n("SET_PRE_INFO",T({},v,{isFromDestination:!(!c&&!l)}));case 12:case"end":return e.stop()}}),e,this)}))),function(e){return D.apply(this,arguments)}),getSeoData:(R=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,data,r,o,c,l,d,_,f,v,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,data=m.length>1&&void 0!==m[1]?m[1]:{},r=data.apiData,o=data.frontendId,c=data.cityId,l=data.countryId,d={},c&&(d.city_id=c),l&&(d.country_id=l),o&&(d.frontend_id=o),e.t0=r,e.t0){e.next=12;break}return e.next=11,this.$axios.$get(h.a.getSeoData,{params:d});case 11:e.t0=e.sent;case 12:_=e.t0,f=_.success,v=_.result,f&&v&&n("SET_SEO_DATA",v);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return R.apply(this,arguments)}),getSeoReviews:(P=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,data,r,o,c,l,d,_,f,v=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,data=v.length>1&&void 0!==v[1]?v[1]:{},r=data.frontendId,o=data.cityId,c=data.countryId,l={},o&&(l.city_id=o),c&&(l.country_id=c),r&&(l.frontend_id=r),e.next=9,this.$axios.$get(h.a.getSeoReviewList,{params:l,timeout:2e3});case 9:d=e.sent,_=d.success,f=d.result,n("SET_REVIEW_LIST_DATA",_&&f?T({},f,{status:"success"}):{status:"failed"});case 13:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)}),getThemeList:(j=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,data,o,c,l,d,_,f,v,m,y,k,E,S,T,O,w,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,data=x.length>1&&void 0!==x[1]?x[1]:{},f=r.suggestion||{},v=f.country_id,m=f.city_id,y=data.cityId,k=void 0===y?"":y,E=data.countryId,S=void 0===E?"":E,e.next=6,this.$axios.$get(h.a.getThemeList,{params:{country_id:S||v,city_id:k||m}});case 6:T=e.sent,l=null===(c=null===(o=T)||void 0===o?void 0:o.result)||void 0===c?void 0:c.list,O=null!=l?l:[],w=(null===(_=null===(d=T)||void 0===d?void 0:d.result)||void 0===_?void 0:_.section_title)||"",n("SET_THEME_LIST",{sectionTitle:w,list:O});case 10:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)}),setReviewListPlatform:function(e,t){(0,e.commit)("SET_REVIEW_LIST_PLATFORM",t)},getTourHomePageInfo:(I=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v,m,y,k,S,T,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,l={history_destinations:[]},d=n.history_destinations,_=void 0===d?"":d,l.history_destinations=Object(E.b)(_),e.next=6,this.$axios.$post(h.a.getTourHomePageInfo,l);case 6:f=e.sent,v=f.success,m=f.result,v&&m&&(k=(y=m||{}).basic,S=void 0===k?{}:k,T=y.page,O=void 0===T?{}:T,r("SET_TOUR_HOME_BASIC",S),r("SET_TOUR_HOME_SECTIONS",(null===(c=null===(o=O)||void 0===o?void 0:o.body)||void 0===c?void 0:c.sections)||[]));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)}),attractions_getSectionHeader:function(e,t){var n=e.commit,r=e.state,o=r.categoryTitle,c=r.description,l=r.destinationTitle,d=r.bannerUrl;return n("SET_SECTIONS",Object(m.b)({name:t.name,dataType:k.b.ExperienceHeader,data:{backgroundUrl:d,vertical:{title:o,deepLink:"/v1/experiencesrv/home/filter/category"},description:c,destination:{title:l,deepLink:"/v1/experiencesrv/home/filter/destination"},search:{placeholder:""}}})),!0},attractions_setSectionList:function(e,t){(0,e.commit)("SET_SECTION_LIST",m.c[t]||[])},attractions_createSection:(C=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,v,h,y,k,E,S,O,w,x,A;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.state,c=n.name,l=n.dataType,d=n.sync,_=n.src,v=n.required,h=n.validate,y=o.cityId,k=o.countryId,E=o.frontendId,f()(o.sections[c])){e.next=5;break}return e.abrupt("return",!0);case 5:if(S={bottom_button_deep_link:Object(m.a)(n.bottom_button_deep_link,o),title:Object(m.a)(n.title,o)},d){e.next=9;break}return r("SET_SECTIONS",Object(m.b)(T({name:c,dataType:l||c},n,{},S))),e.abrupt("return",!0);case 9:return O=Object(m.a)(n.params,o)||{city_id:y,country_id:k,frontend_id:E},e.prev=10,e.next=13,this.$axios.$get(_,{params:O,timeout:v?0:3e3});case 13:if(w=e.sent,x=w.success,A=w.result,x&&A){e.next=18;break}return e.abrupt("return",!v);case 18:if(!h||h(A)){e.next=20;break}return e.abrupt("return",!v);case 20:return r("SET_SECTIONS",Object(m.b)(T({name:c,dataType:l||c},n,{data:A},S))),e.abrupt("return",!0);case 24:return e.prev=24,e.t0=e.catch(10),e.abrupt("return",!v);case 27:case"end":return e.stop()}}),e,this,[[10,24]])}))),function(e,t){return C.apply(this,arguments)})}},271:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"g",(function(){return O}));n(22),n(14),n(11),n(8),n(12);var r=n(0);n(20),n(27),n(30),n(28);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l="https://res.klook.com/image/upload/fl_lossy.progressive,",d={activity_card:"".concat(l,"q_65/c_fill,w_800,h_448/activities/"),hot_destination:"".concat(l,"q_65/c_fill,w_480,h_384/cities/"),city_top_banner:"".concat(l,"q_65/c_fill,w_1920,h_450/cities/"),theme_act_pic:"".concat(l,"q_65/c_fill,w_499,h_398/activities/"),m_activity_card_xs:"".concat(l,"q_65/c_fill,w_640,h_368/activities/"),m_activity_card_xs_160:"".concat(l,"q_65/c_fill,w_160,h_160/activities/"),m_activity_card_xs_288:"".concat(l,"q_65/c_fill,w_288,h_288/activities/"),m_country_destination:"".concat(l,"q_95/c_fill,w_336,h_188/cities/"),my_reviews:"".concat(l,"q_95/c_fill,w_240,h_160/activities/"),m_hot_destination:"".concat(l,"q_95/c_fill,w_400,h_533/cities/"),fnb_mvp_activites:"".concat(l,"q_65/c_fill,w_372,h_372/activities/"),other_about:"".concat(l,"q_65/c_fill,w_372,h_372/activities/"),recently_purchase:"".concat(l,"q_65/c_fill,w_192,h_144,f_auto/activities/")};function _(e,t,n,r){if(/^https?:\/\//.test(e))return e;var o=d[t]||"",c="".concat(o).concat(e);return n&&c.indexOf("res.klook.com")>0&&(c=c.replace(/.(jpg|png|jpeg|gif)$/,".webp")),"activity_card"===t&&(c=c.replace("w_800,h_448","w_750,h_420"),r||(c=c.replace("w_750,h_420","w_375,h_210"))),"m_activity_card_xs_288"===t&&(r||(c=c.replace("w_288,h_288","w_144,h_144"))),c}function f(e){var t="",n=e.url,r=e.width,o=e.height;return n?t=(t=(t=n).replace(/w_(\d+)/,(function(){return"w_"+(r||(arguments.length<=1?void 0:arguments[1]))}))).replace(/h_(\d+)/,(function(){return"h_"+(o||(arguments.length<=1?void 0:arguments[1]))})):t}function v(e,t,n,r,o){var c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=e||"";if(t&&e){var d=t+"fl_lossy.progressive,q_85/",_=r>0?",h_"+r+"/":"/";l=(l=l.replace(t,d)).replace(d,d+(c?"c_fill,":"")+"w_"+n+_),o&&l.indexOf("res.klook.com")>0&&(l=l.replace(/.(jpg|png|jpeg|gif)$/,".webp"))}return l}function m(e){var t="https://cdn.klook.com/upload/img200X200/";return e&&e!==t&&"avatar.png"!==e?/^https?:\/\//.test(e)?e:"".concat(t).concat(e):"".concat(t,"avatar.png")}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/[.'" /\\&%#]/g,n=y(e);return n.name?n.name.replace(t,"")+n.ext:e.replace(t,"")}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=/(.*)(\.jpg|\.jpeg|\.png)$/i.exec(e);return t?{name:t[1],ext:t[2]}:{}}function k(image){var e=y(image).name;return e?h(e):""}function E(e,t){var n=e;return t&&n&&n.includes("res.klook.com")&&(n=n.replace(/.(jpg|png|jpeg|gif)$/,".webp")),n}function S(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(null===(r=null===(t=e)||void 0===t?void 0:(n=t).includes)||void 0===r?void 0:r.call(n,"res.klook.com")))return e;var c=[];o.width&&c.push("w_".concat(o.width)),o.height&&c.push("h_".concat(o.height)),o.isFill&&c.push("c_fill");var l=c.length?"/".concat(c.join(",")):"",d=o.sectionStr||"image/upload";return e.replace(d,"".concat(d,"/fl_lossy.progressive,q_85").concat(l))}var T={quality:85,waterMark:!1,blur:0,customize:""},O={desktopActivityCard:c({},T,{w:550,h:308}),homePageThemeListBg:c({},T,{w:1160,h:370}),homePageFnbCard:c({},T,{w:420,h:280}),HomePagePromoteCard:c({},T,{w:746,h:560}),HomePagePromoteVideoBg:c({},T,{w:770,h:371}),homePageCampaign:c({},T,{w:1160,h:180}),hotCityCard:c({},T,{w:352,h:470}),mobileActivityCardLarge:c({},T,{w:375,h:210}),promote:c({},T,{w:800,h:510}),mobileActivityCardXs:c({},T,{w:200,h:300}),desktopActivityDetailImages:c({},T,{w:220,h:120}),headerRecentlyView:c({},T,{w:160,h:120}),desktopEventDetailBanner:c({},T,{w:1160,h:460,quality:0}),mobileEventDetailBanner:c({},T,{w:375,h:196,quality:0}),desktopEventDetailMap:c({},T,{w:790,h:316,quality:0}),mobileEventDetailMap:c({},T,{w:343,h:316,quality:0}),hotDestinationsImg:c({},T,{w:260,h:148}),cityHeaderMainImg:c({},T,{w:904,h:300}),cityHeaderGalleryImg:c({},T,{w:252,h:168}),desktopChatEntranceIcon:c({},T,{w:64,h:64}),desktopChatEntranceIconWithText:c({},T,{w:48,h:48}),mobileChatEntranceIcon:c({},T,{w:96,h:96,quality:100}),mobileChatEntranceIconWithText:c({},T,{w:72,h:72,quality:100}),desktopRelateActivityCard:c({},T,{w:100,h:100,quality:80}),mobileActivityCard:c({},T,{w:250,h:220}),experienceMobileActivityCardLarge:c({},T,{w:350,h:197}),experienceDesktopLargeCard:c({},T,{w:700,h:550}),desktopPassAttractionsCard:c({},T,{w:118,h:78}),mobilePassAttractionsCard:c({},T,{w:82,h:82})}},272:function(e,t,n){"use strict";n(22),n(14),n(11),n(8),n(12);var r=n(0),o=(n(28),n(206)),c=n.n(o),l=n(386),d=n.n(l);n(275),n(52),n(53),n(37),n(73);function _(){}_.prototype.render=function(e){var t,n,r=e.walker();for(this.buffer="",this.lastOut="\n";t=r.next();)this[n=t.node.type]&&this[n](t.node,t.entering);return console.log(this.allItems),this.buffer},_.prototype.renderAst=function(e){var t,n,r=e.walker();for(this.buffer="",this.lastOut="\n",this.allItems=[];t=r.next();)this[n=t.node.type]&&this[n](t.node,t.entering);return function(e){e&&e.length>0&&"title"!=e[0].type&&"section_title"!=e[0].type&&(e[0].props.margin_top=(e[0].props.margin_top||0)+16);return e}(this.allItems)},_.prototype.out=function(e){this.lit(e)},_.prototype.lit=function(e){this.buffer+=e,this.lastOut=e},_.prototype.cr=function(){"\n"!==this.lastOut&&this.lit("\n")};var f=function(s){switch(s){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return s}};var v=function(s,e){var t=new RegExp('[&<>"]',"g"),n=new RegExp('&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});|[&<>"]',"gi");return t.test(s)?e?s.replace(n,f):s.replace(t,f):s},m=/^javascript:|vbscript:|file:|data:/i,h=/^data:image\/(?:png|gif|jpeg|webp)/i,y=function(e){return m.test(e)&&!h.test(e)};function k(e){(e=e||{}).softbreak=e.softbreak||"\n",this.disableTags=0,this.lastOut="\n",this.options=e,this.allItems=[],this._tag=void 0,this._props={},this._content="",this._inImage=!1,this._order=0}k.prototype=Object.create(_.prototype),k.prototype.text=function(e){this.out(e.literal),this._inImage?this._props.alt=e.literal:this._content+=v(e.literal,!1)},k.prototype.html_inline=function(e){this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(e.literal)},k.prototype.html_block=function(e){this.cr(),this.options.safe?this.lit("\x3c!-- raw HTML omitted --\x3e"):this.lit(e.literal),this.cr()},k.prototype.softbreak=function(){this.lit(this.options.softbreak),"paragraph"==this._tag||"item"==this._tag||this._tag,this._content+=" "},k.prototype.linebreak=function(){this.tag("br",[],!0),this.cr(),"paragraph"!=this._tag&&"item"!=this._tag&&"order_item"!=this._tag||(this._content+="\n")},k.prototype.link=function(e,t){var n=this.attrs(e);t?(this.options.safe&&y(e.destination)||n.push(["href",v(e.destination,!0)]),e.title&&n.push(["title",v(e.title,!0)]),this.tag("a",n)):this.tag("/a");var r=this.attrs(e);t?(this.options.safe&&y(e.destination)||r.push(["href",v(e.destination,!0)]),e.title&&r.push(["title",v(e.title,!0)]),this._content+=this.getTagContent("a",r)):this._content+=this.getTagContent("/a")},k.prototype.image=function(e,t){t?(0===this.disableTags&&(this.options.safe&&y(e.destination)?this.lit('<img src="" alt="'):this.lit('<img src="'+v(e.destination,!0)+'" alt="')),0===this.disableTags&&("paragraph"==this._tag&&(this._inParagraph=!0,this.closeLastItem()),this._tag="image",this._props.src=e.destination,this._inImage=!0),this.disableTags+=1):(this.disableTags-=1,0===this.disableTags&&(e.title&&this.lit('" title="'+v(e.title,!0)),this.lit('" />')),0===this.disableTags&&(e.title&&(this._props.title=e.title),this.closeLastItem(),this._inImage=!1,this._tag="paragraph"))},k.prototype.emph=function(e,t){t?(this.tag(t?"em":"/em"),0===this.disableTags&&(this._content+=this.getTagContent("em"))):(this.tag(t?"em":"/em"),0===this.disableTags&&(this._content+=this.getTagContent("/em")))},k.prototype.strong=function(e,t){t?(this.tag(t?"strong":"/strong"),0===this.disableTags&&(this._content+=this.getTagContent("strong"))):(this.tag(t?"strong":"/strong"),0===this.disableTags&&(this._content+=this.getTagContent("/strong")))},k.prototype.paragraph=function(e,t){var n=e.parent.parent,r=this.attrs(e);null!==n&&"list"===n.type||(t?(this.cr(),this.tag("p",r)):(this.tag("/p"),this.cr()),t?this._tag="paragraph":this.closeLastItem())},k.prototype.heading=function(e,t){var n="h"+e.level,r=this.attrs(e);t?(this.cr(),this.tag(n,r)):(this.tag("/"+n),this.cr()),t?6==e.level?this._tag="section_title":1==e.level?this._tag="title":this._tag="sub_title":this.closeLastItem()},k.prototype.code=function(e){this.tag("code"),this.out(e.literal),this.tag("/code")},k.prototype.code_block=function(e){var t=e.info?e.info.split(/\s+/):[],n=this.attrs(e);t.length>0&&t[0].length>0&&n.push(["class","language-"+v(t[0],!0)]),this.cr(),this.tag("pre"),this.tag("code",n),this.out(e.literal),this.tag("/code"),this.tag("/pre"),this.cr()},k.prototype.thematic_break=function(e){var t=this.attrs(e);this.cr(),this.tag("hr",t,!0),this.cr()},k.prototype.block_quote=function(e,t){var n=this.attrs(e);t?(this.cr(),this.tag("blockquote",n),this.cr()):(this.cr(),this.tag("/blockquote"),this.cr())},k.prototype.list=function(e,t){var n="bullet"===e.listType?"ul":"ol",r=this.attrs(e);if(t){var o=e.listStart;null!==o&&1!==o&&r.push(["start",o.toString()]),this.cr(),this.tag(n,r),this.cr()}else this.cr(),this.tag("/"+n),this.cr();if(t)this._list_type=n,this._open_list=!0;else if(this._list_type=void 0,this.allItems.length>0){var c=this.allItems[this.allItems.length-1];"item"!=c.type&&"order_item"!=c.type||(c.props.is_last=!0)}},k.prototype.item=function(e,t){var n=this.attrs(e);t?this.tag("li",n):(this.tag("/li"),this.cr()),t?"ul"==this._list_type?this._tag="item":this._tag="order_item":this.closeLastItem()},k.prototype.custom_inline=function(e,t){t&&e.onEnter?this.lit(e.onEnter):!t&&e.onExit&&this.lit(e.onExit)},k.prototype.custom_block=function(e,t){this.cr(),t&&e.onEnter?this.lit(e.onEnter):!t&&e.onExit&&this.lit(e.onExit),this.cr()},k.prototype.out=function(s){this.lit(v(s,!1))},k.prototype.tag=function(e,t,n){if(!(this.disableTags>0)){if(this.buffer+="<"+e,t&&t.length>0)for(var r,i=0;void 0!==(r=t[i]);)this.buffer+=" "+r[0]+'="'+r[1]+'"',i++;n&&(this.buffer+=" /"),this.buffer+=">",this.lastOut=">"}},k.prototype.getTagContent=function(e,t,n){if(this.disableTags>0)return"";var r="";if(r+="<"+e,t&&t.length>0)for(var o,i=0;void 0!==(o=t[i]);)r+=" "+o[0]+'="'+o[1]+'"',i++;return n&&(r+=" /"),r+=">"},k.prototype.closeLastItem=function(){if(this._tag){if("paragraph"!=this._tag||""!=this._content.replace(/^\s|\s$/,"")){var e={type:this._tag,content:this._content,props:this._props};"order_item"==this._tag?(this._order+=1,e.props.order=this._order):this._order=0,!this._open_list||"item"!=this._tag&&"order_item"!=this._tag||(this._props.is_first=!0,this._open_list=!1),this.allItems.push(e)}this._tag=null,this._content="",this._props={}}},k.prototype.attrs=function(e){var t=[];if(this.options.sourcepos){var n=e.sourcepos;n&&t.push(["data-sourcepos",String(n[0][0])+":"+String(n[0][1])+"-"+String(n[1][0])+":"+String(n[1][1])])}return t};var E=k,S=n(16);function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return j}));var w=new c.a.Converter({tables:!0,noHeaderId:!0});function x(e){if("paragraph"===e.type){var t=/^<strong>(.+)<\/strong>$/.exec(e.content),n=/^<em>(.+)<\/em>$/.exec(e.content);if(t)return{type:"title",content:t[1].replace(/<\/?strong>/g,"")};if(n)return{type:"sub_title",content:n[1].replace(/<\/?em>/g,"")}}return e}function A(e,content,t){return t?"<".concat(e,' class="').concat(t,'">').concat(content,"</").concat(e,">"):"<".concat(e,">").concat(content,"</").concat(e,">")}function C(e){var t=new d.a.Parser,n=new E,r=t.parse(e),o=n.renderAst(r);if(o&&o.length>0)for(var i=0,c=o.length;i<c;i++)o[i]=x(o[i]);return o}function I(e,header){if(!Array.isArray(e)||0===e.length)return"";var t=e[0];return header&&("paragraph"===t.type&&t.content==="<strong>"+header+"</strong>"||"title"===t.type&&t.content===header)&&(e=e.slice(1)),function(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=O({},e[i]);if(r.content=Object(S.ib)(r.content),"title"===r.type)r.props&&r.props.has_style?t.push(A("h4",r.content,"has_style")):t.push(A("h4",r.content));else if("sub_title"===r.type)t.push(A("h5",r.content));else if("section_title"===r.type)t.push(A("h6",r.content));else if("item_with_icon"===r.type){r.props.is_first&&t.push('<ul class="item-with-icon">');var o=r.icon?'<img class="item-with-icon__img" src="'.concat(r.icon,'" />'):"",c=A("span",r.content);t.push(A("li",o+c,"item-with-icon__li")),r.props.is_last&&t.push("</ul>")}else"item"===r.type?(r.props.is_first&&t.push("<ul>"),t.push(A("li",r.content)),r.props.is_last&&t.push("</ul>")):"order_item"===r.type?(r.props.is_first&&t.push("<ol>"),t.push(A("li",r.content)),r.props.is_last&&t.push("</ol>")):"paragraph"===r.type?e[i+1]&&"paragraph"===x(e[i+1]).type?t.push(A("p",r.content,"p_followed")):t.push(A("p",r.content)):"image"===r.type&&(t.push('<img src="'.concat(r.props.src,'"')),r.props.alt&&t.push(' alt="'.concat(r.props.alt,'" ')),r.props.title&&t.push(' title="'.concat(r.props.title,'" ')),t.push(">"))}return t.join("")}(e)}function j(e){return e?w.makeHtml(e):e}},3:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r={getInternalLink:"/v1/experiencesrv/vertical/basic_service/internal_link",getSeoInfoV2:"/v1/experiencesrv/vertical/basic_service/seo_info_v2",getThemeActivityDetail:"/v1/experiencesrv/explorepage/explore_service/theme_activity_detail",getThemeActivityList:"/v1/experiencesrv/explorepage/explore_service/theme_activity_list",getThemeBasicInfo:"/v1/experiencesrv/explorepage/explore_service/theme_basic_info",otaConfig:"/v1/usrcsrv/ota/config",verify:"/v3/userserv/user/profile_service/get_simple_profile_by_token",profile:"/v3/userserv/user/profile_service/get_my_profile_by_token",simpleProfile:"/v3/userserv/user/profile_service/get_simple_profile_by_token",userprofileserv:"/v1/userprofileserv/collector",jsessionId:"/v1/usrcsrv/session/getkey",unreview:"/v1/usrcsrv/myreviews/unreview",updateBanner:"/v1/usrcsrv/component/campaign/banner",taiwanCoupon:"/v1/cashier/asset_voucher/klook_guolv/query",menus:"/v1/usrcsrv/vertical/menu?source=3",regions:"/v1/websrv/ranges",hotDestinations:"/v1/usrcsrv/generic/types/102",search:"/v1/usrcsrv/search/suggest",search_suggest:"/v1/searchapisrv/activity/custom_service/suggest_v2",changeLanguage:"/v3/userserv/user/profile_service/change_language",changeCurrency:"/v3/userserv/user/profile_service/change_currency",dealsPage:"/v1/usrcsrv/jenga/page/deals_page",memberShipOrderDetail:"/v1/mpsrv/jenga_page/order_detail",memberShip:"/v1/mpsrv/jenga/page/product_page",memberShipBenefit:"/v1/mpsrv/benefit/info",memberShipAddCart:"/v1/mpsrv/order/add/shoppingcart",memberOrderSettlement:"/v1/mpsrv/order/settlement",memberOrderCouponList:"/v1/mpsrv/order/benefit/detail",memberOrderGenerate:"/v1/mpsrv/order/generate",memberRefundReasons:"/v1/mpsrv/get/refund/reasons",memberRefundApply:"/v1/mpsrv/order/refund/apply",memberRefundDetail:"/v1/mpsrv/order/refund/detail",wishListAdd:"/v3/usrcsrv/publish/wishlist/add",wishListCancel:"/v3/usrcsrv/publish/wishlist/cancel",commonCoupon:"/v1/usrcsrv/refer/amount",inviteCoupon:"/v1/usrcsrv/refer/friends",newInviteCoupon:"/v1/couponapisrv/refer/description",recentlyView:"/v1/usrcsrv/home/recently/viewed",shoppingCartCount:"/v3/order/shoppingcart/count",refreshShoppingCartPrice:"/v1/experiencesrv/order/settlement_service/shopping_cart_pre_settlement",shoppingCartList:"/v3/order/shoppingcart",conditions:"/v1/usrcsrv/generic/types/:type",emailCreateSubscribe:"/v1/websrv/subscribe/:email/create",emailSendSubscribe:"/v1/websrv/subscribe/:email/send",logout:"/v3/usrcsrv/user/logout",downloadApk:"/web2/download.action",destinationNav:"/v1/usrcsrv/destination/guide",affiliateConf:"/v1/affinternalsrv/aid2uid",faqDetail:"/v1/usrcsrv/faq/detail",faqCategory:"/v1/usrcsrv/faq/category/get",faqSearchSuggest:"/v1/usrcsrv/faq/suggest",categoryFaqs:"/v1/usrcsrv/faq/get/by/category",mostHelpfulFaqs:"/v1/usrcsrv/faq/most/helpful/get",faqFeedback:"/v1/usrcsrv/faq/comment/add",faqHelpful:"/v1/usrcsrv/faq/helpful/info/add",experienceGetBasicInfoAndAddonSchedules:"/v1/experiencesrv/packages/detail_service/get_basic_info_and_addon_schedules",experiencePostBindAddonPackages:"/v1/experiencesrv/order/pre_order_service/bind_addon_packages",experienceGetAddonPreSettlement:"/v1/experiencesrv/order/settlement_service/addon_pre_settlement",experienceGetAddonSku:"/v1/experiencesrv/activity/sku_service/addon_arrangement_sku_list",experiencePostPreSettlement:"/v1/experiencesrv/order/settlement_service/pre_settlement",experienceGetBasicInfoByPkgId:"/v1/experiencesrv/packages/detail_service/get_basic_info_by_pkg_id",experienceGetBasicInfosByActId:"/v1/experiencesrv/activity/package_service/get_basic_infos_by_act_id",experienceFastPassPackageInfos:"/v1/experiencesrv/dock/fast_pass_service/get_package_basic_infos_by_act_id",experiencePromoSystemTagInfo:"/v1/experiencesrv/activity/component_service/get_promo_system_tag_info",experienceActivityDetail:"/v1/experiencesrv/activity/component_service/detail",experienceActivityAdminPreview:"/v1/experiencesrv/dock/admin_preview_service/activity_detail",experienceFastPassActivityDetail:"/v1/experiencesrv/dock/fast_pass_service/activity_detail",experienceActivityDetailForWhiteLabel:"/v1/experiencesrv/dock/white_label_service/activity_detail",activityDetail:"/v1/usrcsrv/activity/:activityId/detail",activitySchedules:"/v1/usrcsrv/activity/:activityId/schedules",activityReviewGallery:"/v1/usrcsrv/activities/:activityId/images/show",getActivityCards:"/v1/experiencesrv/activity/detail/cards",activityReviewGalleryImages:"/v1/usrcsrv/activities/:activityId/images/get",activityPackageDetail:"/v1/experiencesrv/activity/package_service/get_package_detail",getActivityReviewsList:"/v1/experiencesrv/activity/component_service/activity_reviews_list",activityReviewsLikeAdd:"/v1/usrcsrv/review/like/add",activityReviewsLikeRemove:"/v1/usrcsrv/review/like/remove",reviewFilter:"/v1/usrcsrv/review/filter/info",activityCard:"/v1/usrcsrv/activities/:activityIdList/cards",activityTranslate:"/v2/usrcsrv/translate",activityPriceSchedules:"/v2/usrcsrv/activity/schedules",getActivitySdkInfo:"/v1/attractionbffsrv/clarity/clarity_service/get_clarity_activity_ids",activityPromotions:"/v1/experiencesrv/activity/package_service/get_promo_tag_and_promo_price",activityPackagePromotion:"/v1/usrcsrv/package/promo_price",activityPackagePriceList:"/v1/experiencesrv/packages/credits_and_promo_price",activityRedirectInfo:"/v1/experiencesrv/activity/detail_service/pre_info",activityTemplate:"/v1/prodbasesrv/activities/:activityId/basic",expressCheckOutRedirect:"/v1/experiencesrv/dock/fast_pass_service/express_check_out_redirect",activityPackageSkuInfoList:"/v1/experiencesrv/activity/package_service/get_package_card_sku_info_by_package_ids",getPassStandardActivityPreview:"/v1/experiencesrv/activity/package_service/get_pass_standard_activity_preview",getPassStandardActivityPreviewNew:"/v1/attractionbffsrv/travelpass/pass_service/get_attraction_included_by_pass_id",getPassStandardActivityDetail:"/v1/experiencesrv/activity/detail_service/get_pass_standard_activity_detail",getPassStandardActivityDetailNew:"/v1/attractionbffsrv/travelpass/pass_service/get_standard_activity_detail_by_pass_id",multiPassReservationPackages:"/v1/experiencesrv/travelpass/service/get_reservation_packages",getBookingDetailsRefundAbleSkus:"/v1/experiencesrv/order/refund_service/get_refund_able_skus",calcBookingDetailsRefundAmount:"/v1/experiencesrv/order/refund_service/calc_refund_amount",submitBookingDetailsRefund:"/v1/experiencesrv/order/refund_service/submit_refund",multiPassReservationPackagesV2:"/v1/experiencesrv/travelpass/service/get_reservation_packages_v2",getPassSchedulesAndUnits:"/v1/experiencesrv/travelpass/service/get_pass_schedules_and_units",getUnitsArrangements:"/v1/usrcsrv/arrangements/units",generateBookingGuid:"/v1/experiencesrv/order/shopping_cart_service/add",experienceManageBookingInfos:"/v2/usrcsrv/order/alter/ticket/infos",experienceManageBookingRevert:"/v2/usrcsrv/order/alter/ticket/revert",experienceManageBookingSubmit:"/v2/usrcsrv/order/alter/ticket/submit",experienceManageBookingModify:"/v1/usrcsrv/packages/:packageId/schedules/modify",experienceGetSchedulesByBookingAlter:"/v1/experiencesrv/packages/detail_service/get_schedules_by_booking_alter",experienceNewOrderInfoUrl:"/v3/usrcsrv/order/settlement",experienceOrderSettlement:"/v1/experiencesrv/order/settlement_service/settlement",experienceGetOrderDateAndTime:"/v1/experiencesrv/packages/detail_service/get_package_schedules_by_sku_quantity",experienceOrderCartSettlement:"/v1/experiencesrv/order/settlement_service/shopping_cart_settlement",experienceOrderSettlementWhiteLabel:"/v1/experiencesrv/order/white_label_settlement_service/settlement",experienceOrderCartSettlementWhiteLabel:"/v1/experiencesrv/order/white_label_settlement_service/shopping_cart_settlement",experienceOrderReSettlement:"/v1/experiencesrv/order/settlement_service/re_settlement",experienceOrderCartReSettlement:"/v1/experiencesrv/order/settlement_service/shopping_cart_re_settlement",experienceOrderReSettlementWhiteLabel:"/v1/experiencesrv/order/white_label_settlement_service/re_settlement",experienceOrderCartReSettlementWhiteLabel:"/v1/experiencesrv/order/white_label_settlement_service/shopping_cart_re_settlement",experienceOtherInfoList:"/v1/usrcsrv/order/settlement/traveler",experienceOrderGenerate:"/v1/experiencesrv/order/generate_service/generate",experienceOrderDetail:"/v2/usrcsrv/order/detail",experienceOrderMailList:"/v1/usrcsrv/order/settlement/mail",experienceUpdateOtherInfoList:"/v1/experiencesrv/order/generate_service/insert_or_update_traveler_info",experienceNswRedeem:"/v1/couponapisrv/nsw/redeem",experienceOrderCoupons:"/v2/couponapisrv/canonical/order/coupons",experienceOrderRedeem:"/v2/couponapisrv/canonical/order/redeem",experienceOrderCouponsWhiteLabel:"/v1/experiencesrv/dock/white_label_service/get_coupons",experienceOrderRedeemWhiteLabel:"/v1/experiencesrv/dock/white_label_service/redeem_coupon",voucherOfflineRedeem:"/v1/order/voucher/offline/redeem",ptpBasicInfo:"/v1/reappserv/ptp/basic_info",ptpSearchForm:"/v1/reappserv/ptp/:productType/search/form",ptpSearchId:"/v1/reappserv/ptp/:productType/route/search",ptpSearchResult:"/v3/reappserv/ptp/:productType/route/search/result",ptpSearchFilter:"/v3/reappserv/ptp/:productType/route/search/filter",ptpPolicy:"/v1/reappserv/ptp/:productType/route/ticket/policy",ptpFaq:"/v1/reappserv/rail/:productType/richcontent?action=getFaq",ptpRouteDetail:"/v1/reappserv/ptp/:productType/route/detail",ptpRouteSections:"/v3/reappserv/ptp/:productType/route/sections",ptpPackageSelectApiName:"route_detail_package_ticket",ptpTicketSelectApiName:"route_detail_select_ticket",ptpPriceAdd:"/v3/reappserv/ptp/:productType/route/price/add",ptpValidate:"/v2/reappserv/ptp/:productType/route/validate",ptpAddonDetail:"/v1/reappserv/ptp/:productType/addon/detail",ptpHomeSections:"/v2/reappserv/rail/homepage/sections",ptpDlpDetail:"/v1/reappserv/ptp/:productType/dlp_page_detail",ptpDlpMostRoute:"/v1/reappserv/ptp/:productType/dlp_most_route",ptpStationSearch:"/v3/reappserv/ptp/:productType/location/search",ptpNotice:"/v1/reappserv/rail/notice?product_type=:productType&withCredentials=false",ptpDlpSearchForm:"/v1/reappserv/ptp/:productType/search/dlp_form",ptpDlpSearchResult:"/v1/reappserv/ptp/:productType/route/search/dlp_result",ptpCoupons:"/v1/reappserv/ptp/:productType/order/coupon",ptpCouponRedeem:"/v1/reappserv/ptp/:productType/order/redeem",ptpSettlementSections:"/v2/reappserv/ptp/:productType/checkout/sections",ptpSettlementSettle:"/v1/reappserv/ptp/:productType/order/settlement",ptpSettlementOrder:"/v1/reappserv/ptp/:productType/order/create",ptpSettlementStatus:"/v1/reappserv/ptp/order/poll/status",ptpSettlementGetSeats:"/v3/reappserv/ptp/:productType/seat/map",ptpSettlementGetPickupForm:"/v1/reappserv/ptp/:productType/pick_up_option/forms",ptpSettlementGetPassengerType:"/v2/reappserv/ptp/:productType/passenger/type",ptpSettlementGetAddonDetail:"/v1/reappserv/ptp/:productType/addon/detail",ptpSettlementGetAddonSchedule:"/v1/reappserv/ptp/:productType/addon/schedules",ptpWhiteLabelHomeSections:"/v1/reappserv/ptp/whitelabel/home/skeleton",ptpWhiteLabelCheckoutSections:"/v1/reappserv/ptp/whitelabel/checkout/skeleton",ptpWhiteLabelSearchListSections:"/v1/reappserv/ptp/whitelabel/search/result/skeleton",ptpWhiteLabelRouteDetailSkeleton:"/v1/reappserv/ptp/whitelabel/route/detail/skeleton",ptpWhiteLabelOrderDetailSkeleton:"/v1/reappserv/ptp/whitelabel/order/detail/skeleton",updateWishList:"/v1/usrcsrv/wishlist/update",addWishList:"/v1/usrcsrv/wishlist/add",cancelWishList:"/v1/usrcsrv/wishlist/cancel",getWishStatus:"/v1/usrcsrv/favorite_activity",getPackageSchedulesAndUnits:"/v1/usrcsrv/packages/:packageId/schedules_and_units",getPackagePriceSchedulesAndUnits:"/v1/experiencesrv/packages/schedule_service/get_schedules_and_units",getPackageUnits:"/v1/usrcsrv/arrangements/:arrangementId/units",expPostPreOrderServiceNew:"/v1/experiencesrv/order/pre_order_service/new",bookingNow:"/v3/order/booking/add",addToShoppingCard:"/v3/order/booking/edit",postExpEditeShoppingCartAndnew:"/v1/experiencesrv/order/pre_order_service/edite_shopping_cart_and_new",getCategoryInfo:"/v3/userserv/user/profile_service/get_user_category_info",getPresalePackages:"/v1/usrcsrv/activity/rail/presale/info",noticeList:"/v1/usrcsrv/notice",secondCateList:"/v1/usrcsrv/faq/root/category/get",carRentalsAdd:"/v1/transfercarrentalapisrv/carrental/order/noshoppingcart/get_cache_id",carRentalOrderDetail:"/v1/transfercarrentalapisrv/carrental/order/detail",carRentalRefundReason:"/v1/transfercarrentalapisrv/carrental/order/refund/reason",carRentalGetAmount:"/v1/transfercarrentalapisrv/carrental/order/refund/get_amount",carRentalApplyAmount:"/v1/transfercarrentalapisrv/carrental/order/refund/apply_refund",carRentalRefundDetail:"/v1/transfercarrentalapisrv/carrental/order/refund/detail",orderUserCancel:"/v1/experiencesrv/order/refund_service/un_paid_cancel",registerGuest:"/v3/usrcsrv/user/register/guest",getExperimentsHitList:"/v2/usrcsrv/hit/experiments",giftCardInformaton:"/v1/usrcsrv/egiftcard",accountGiftCard:"/v1/usrcsrv/personal/giftcard",redeemGiftCardCode:"/v1/order/trades/exchange",redeemCouponCode:"/v1/couponapisrv/redeem",getCouponData:"/v1/usrcsrv/coupon/tag/act/entrance",getWalletsData:"/v1/order/wallets",getWalletsTrades:"/v1/order/trades",preferredActivities:"/v1/usrcsrv/landing_page/preferred/activities",searchHit:"/v1/usrcsrv/search/hit",preferredRange:"/v1/usrcsrv/landing_page/preferred",updateReopen:"/v1/usrcsrv/reopen/notice/update",activitySeoLink:"v1/usrcsrv/activity/seo/content",homePage:"/v2/usrcsrv/component/page/home",slideWord:"/v1/cardinfocenterservicesrv/public/recommend/get_slide_words",loginWay:"/v3/userserv/user/profile_service/get_my_login_ways_by_token",specialTermDetail:"/v3/userserv/user/term_service/get_special_term_detail",uncheckSpecialTermDetail:"/v3/userserv/user/term_service/get_user_uncheck_special_term_info",whiteLabelGuestTermDetail:"/v1/wlsrv/user/term/get_guest_term_detail",updateUncheckSpecialTermDetail:"/v3/userserv/user/term_service/update_user_special_term_status",getUserUncheckTermByScene:"/v1/experiencesrv/term/term_service/get_user_uncheck_term_by_scene",authorizeTerms:"/v1/experiencesrv/term/term_service/authorize_terms",homeNearbyAll:"/v2/usrcsrv/nearby/cards/all",homePopularAll:"/v2/usrcsrv/popular/cards/all",wifiFilter:"/v1/usrcsrv/wifi/filter_options",siteChange:"/v1/usrcsrv/transformer/jump",changePreferSite:"/v3/userserv/user/profile_service/change_prefer_site",getPhoneCouponInfo:"/v1/usrcsrv/generic/types/499",sendSmsCodeWithCaptcha:"/v3/userserv/user/register_service/send_sms_code_with_captcha",checkMobileAccount:"/v3/userserv/user/register_service/check_mobile_account",loginBySMS:"/v3/usrcsrv/user/login/mobile_sms",redeemCampaign:"/v1/redeemcodesrv/redeem/campaign/:campaignName",accountIsExist:"/v3/userserv/user/register_service/account_is_exist",googleLogin:"/v3/usrcsrv/user/login/google",googleBind:"/v3/userserv/user/profile_service/bind_google",getSpecialTerms:"/v3/userserv/user/term_service/get_special_term_detail",updateSpecialTermStatus:"/v3/userserv/user/term_service/update_user_special_term_status",SMSVefiry:"/v1/usrcsrv/dot/sms/verify",getSMSCode:"/v1/usrcsrv/dot/sms/code",submitDotEntrance:"/v1/usrcsrv/dot/entrance",submitDotExit:"/v1/usrcsrv/dot/visitor/exit",verifyPhone:"/v1/usrcsrv/dot/get/visitor",getAttraction:"/v1/usrcsrv/dot/get/attraction",getRecentlyPurchase:"/v1/usrcsrv/recently/purchased/act/cards",getBookingList:"/v1/usrcsrv/booking/list",getLogistics:"/v1/usrcsrv/logistics/detail",bookingPopularList:"/v1/usrcsrv/popular/cards",deleteBooking:"/v1/usrcsrv/booking/sort/archive",cancelDeleteBooking:"/v1/usrcsrv/booking/cancel_archive",stickBooking:"/v1/usrcsrv/booking/sort/stick",cancelStickBooking:"/v1/usrcsrv/booking/sort/cancel_stick",comboQuery:"/v1/usrcsrv/booking/combo",bookingManagement:"/v1/order/alter/ticket/infos",submitBookingManagement:"/v1/order/alter/ticket/submit",revertBookingManagement:"/v1/order/alter/ticket/revert",getHotKeyword:"/v1/usrcsrv/search/hot",getHotKeywordNew:"/v1/cardinfocenterservicesrv/search/getStartupPageInfo",getHotKeywordDestination:"/v1/cardinfocenterservicesrv/search/getDestinationPageInfo",getSearchResult:"/v1/cardinfocenterservicesrv/search/platform/",getExperienceCategory:"/v1/experiencesrv/category/menu",getExperienceDestination:"/v1/experiencesrv/destination/guide",getExperienceActivityNav:"/v1/experiencesrv/category/activity/menu",getExperienceActivityBanner:"/v1/experiencesrv/vertical/basic_service/banner",getExperienceHotCountry:"/v1/experiencesrv/hot/country",getExperiencePageInfo:"/v1/experiencesrv/page_info",getExperiencePreInfo:"/v1/experiencesrv/pre_info",getExperienceHotCity:"/v1/experiencesrv/hot/city",getExperienceMainBanner:"/v1/experiencesrv/banner/main",getExperienceReviewList:"/v1/experiencesrv/vertical/home_service/review",getExperienceNearbyActivity:"/v1/experiencesrv/nearby/activity",getExperienceNearbyCity:"/v1/experiencesrv/nearby/city",getExperienceBlog:"/v1/experiencesrv/blog/list",getExperienceNearbyMenu:"/v1/experiencesrv/category/menu",getExperienceActivityHighlight:"/v1/experiencesrv/activity/highlight",experienceSearch:"/v1/experiencesrv/search/suggest",experienceCitySeo:"/v1/usrcsrv/experience/city/seo/content",experienceCountrySeo:"/v1/usrcsrv/experience/country/seo/content",destinationSearch:"/v1/experiencesrv/search/suggest",getBreadcrumb:"/v1/experiencesrv/breadcrumb",getElevyTravelers:"/v1/usrcsrv/elevy/travelers",experiencesrvSearch:"/v1/experiencesrv/search/activity",getExperienceCategoryActivity:"/v1/experiencesrv/category/activity",getExperienceCategoryActivityNew:"/v1/experiencesrv/search/basic_service/activity_v2",getExperienceCategoryActivityCount:"/v1/experiencesrv/search/basic_service/activity_count",sendEmail:"/v1/usrcsrv/user/feedback/email",getOrderList:"/v1/order/myorders/list",getActivityDetail:"/v1/usrcsrv/activities/:id/cards",regenerateOrder:"/v1/bookingapiserv/generate/again",experienceMFOSections:"/v1/experiencesrv/component/page/mfo",experienceMFOActivityList:"/v1/experiencesrv/mfo/search/activity",getBookingDetailSections:"/v1/experiencesrv/order/detail_service/get_booking_detail",getBookingPaymentDetail:"/v1/experiencesrv/order/detail_service/payment_detail",postBookingChase:"/v1/order/booking/chase",getBookingRefundDetail:"/v1/experiencesrv/order/detail_service/refund_detail",handleMerchantAlterTicket:"/v1/experiencesrv/order/detail_service/handle_merchant_alter_ticket",getPoiDetail:"/v1/usrcsrv/component/page/poi",getPoiReviewList:"v1/usrcsrv/get/poi/review/info/list",getChatEntranceConfig:"/v1/faqchatcommsrv/unifiedentrance/config",getDoubleCheckResult:"/v1/faqchatcommsrv/unifiedentrance/doublecheck/config",sendOfflineMsg:"/v1/faqchatcommsrv/comm/offline/message",chatAuth:"/v1/faqchatcommsrv/comm/zendesk/visitor/auth",getOrderDetail:"/v1/usrcsrv/order/detail",postFaqAnswerFeedback:"/v1/faqchatcommsrv/feedback/faqid",isChinaMainland:"/v3/userserv/user/profile_service/get_user_category_info",checkHasOrder:"/v1/faqchatcommsrv/comm/has_order",getSingleOrderInfo:"/v1/usrcsrv/booking/list/by_order_nos",checkHasSubmitted:"/v1/faqchatcommsrv/comm/booking/:bookingNo/has_submit",uploadAttachment:"/v1/faqchatcommsrv/comm/upload/mail/attachment",sendEmailToCEG:"/v1/faqchatcommsrv/comm/mail/send",getMembershipCard:"/v1/mpsrv/product/card",getFullOrderDetail:"/v1/order/myorders/orderdetail",themepage:"/v1/usrcsrv/theme/detail",cityIndexComponent:"/v1/usrcsrv/jenga/page/city_page",homePageComponent:"/v1/usrcsrv/jenga/page/home_page",jengaPage:"/v1/usrcsrv/jenga/page/",cityActivitiesFilter:"/v3/usrcsrv/search/city/activities",updateAdBanner:"/v1/usrcsrv/get/city/banner/ad",safeGuardTravelQuery:"/v1/usrcsrv/tw_covid19_campaign/query",hotelApiRefundReson:"/v1/hotelapiserv/order/refund/reason",hotelApiRefundPrice:"/v1/hotelapiserv/order/refund/price",hotelApiRefundApply:"/v1/hotelapiserv/order/refund/apply",hotelApiFilter:"/v2/hotelapiserv/hotelapi/filter/hotel",hotelApiItemsV1:"/v1/hotelapiserv/hotelapi/hotelItems",hotelApiItemsV2:"/v2/hotelapiserv/hotelapi/hotelItems",hotelApiSuggest:"/v2/hotelapiserv/hotelapi/suggest",hotelApiQuickFacts:"/v1/campaignapisrv/hubpage/quick_facts",hotelApiFaqs:"/v1/campaignapisrv/hubpage/faqs",hotelApiInternalLinks:"/v1/campaignapisrv/hubpage/internal_links",guestSendSmsCodeWithCaptcha:"/v3/userserv/user/profile_service/send_sms_code_with_captcha",verifyGuestBookingSmsCode:"/v3/userserv/user/profile_service/verify_guest_booking_sms_code",getCitySummary:"/v1/campaignapisrv/destination/service/get_node_by_city_country_idlist",getCityImages:"/v1/campaignapisrv/destination/service/get_destination_image",getAllCountries:"/v1/experiencesrv/area/strative_area_service/get_all_countries",getPromoCouponList:"/v3/promosrv/vertical/apply/programs",getActivityLineInfo:"/v1/experiencesrv/activity/detail_service/get_activity_line_up_info",getShoppingCart:"/v3/order/shoppingcart",getShoppingCartRecommendActivity:"/v1/usrcsrv/shopping_card/recommend",getShoppingCartCityRecommend:"/v1/websrv/cities/recommended",getShoppingCartPriceDetail:"/v1/experiencesrv/order/settlement_service/shopping_cart_pre_settlement",deleteShoppingCartItem:"/v3/order/shoppingcart/delete",editShopCartItem:"/v3/order/booking/edit",shoppingCartToPay:"/v3/order/shoppingcart/select",assumedResidence:"/v1/lbssrv/public/residence/assumed_residence",assumedResidencev2:"/v1/lbssrv/public/residence/assumed_residence_v2",getSeoPreInfo:"/v1/experiencesrv/vertical/basic_service/landing_page_pre_info",getSeoData:"/v1/experiencesrv/vertical/basic_service/seo_info",getSeoReviewList:"/v1/experiencesrv/vertical/basic_service/landing_page_reviews",getTourHomePageInfo:"/v1/experiencesrv/vertical/home_service/homepage",getSuggestDestination:"/v1/experiencesrv/vertical/suggest_service/destination_suggestions",getVerticalFilterActivityCount:"/v1/experiencesrv/search/vertical_service/activity_count",searchSuggestDestinationResult:"/v1/experiencesrv/vertical/suggest_service/suggest_destination",searchSuggestActivityResult:"/v1/experiencesrv/vertical/suggest_service/suggest",searchVerticalActivityResult:"/v1/experiencesrv/search/vertical_service/activity",getRecommendActivityCount:"/v1/experiencesrv/vertical/suggest_service/get_destination_card_sub_text",getAttractionsDestination:"/v1/attractionbffsrv/vertical/service/destination_guide",getAttractionsLandingPagePreInfo:"/v1/attractionbffsrv/vertical/service/landing_page_pre_info",attractionsSuggest:"/v1/attractionbffsrv/vertical/service/suggest_activity_v1",attractionsSearch:"/v1/attractionbffsrv/vertical/service/hit",getAttractionsCategoryActivityNew:"/v1/attractionbffsrv/vertical/service/activity",getAttractionsMainBanner:"/v1/attractionbffsrv/vertical/service/main_banner",getAttractionsBreadcrumb:"/v1/attractionbffsrv/vertical/service/breadcrumb",getAttractionsActivityNav:"/v1/attractionbffsrv/vertical/service/category_activity_menu",getAttractionsActivityBanner:"/v1/experiencesrv/vertical/basic_service/banner",getAttractionsBlog:"/v1/attractionbffsrv/vertical/service/blog",getAttractionsReviewList:"/v1/attractionbffsrv/vertical/service/review",getAttractionsHotCity:"/v1/attractionbffsrv/vertical/service/hot_city",getAttractionsNearbyCity:"/v1/attractionbffsrv/vertical/service/nearby_city",getAttractionsHotCountry:"/v1/attractionbffsrv/vertical/service/hot_country",getAttractionsActivityHighlight:"/v1/attractionbffsrv/vertical/service/highlight_activity",getAttractionsCountrySeo:"/v1/attractionbffsrv/vertical/service/country_seo_content",getAttractionsNearbyActivity:"/v1/experiencesrv/nearby/activity",getAttractionsCitySeo:"/v1/attractionbffsrv/vertical/service/city_seo_content",getAttractionsPreInfo:"/v1/attractionbffsrv/vertical/service/pre_info",getThemeList:"/v1/experiencesrv/explorepage/explore_service/theme_list"},o=[r.profile,r.carRentalsAdd,r.carRentalOrderDetail,r.carRentalRefundReason,r.carRentalGetAmount,r.carRentalApplyAmount,r.carRentalRefundDetail,r.orderUserCancel,r.registerGuest,r.expPostPreOrderServiceNew,r.bookingNow,r.addToShoppingCard,r.getBookingList,r.verify,r.getRecentlyPurchase,r.deleteBooking,r.getLogistics,r.deleteBooking,r.cancelDeleteBooking,r.stickBooking,r.cancelStickBooking,r.comboQuery,r.bookingManagement,r.submitBookingManagement,r.revertBookingManagement,r.hotelApiRefundReson,r.hotelApiRefundPrice,r.hotelApiRefundApply,r.guestSendSmsCodeWithCaptcha,r.verifyGuestBookingSmsCode,r.chatAuth,r.getOrderDetail,r.isChinaMainland,r.checkHasOrder,r.getSingleOrderInfo,r.checkHasSubmitted,r.uploadAttachment,r.sendEmailToCEG,r.getBookingDetailSections,r.getBookingPaymentDetail,r.getElevyTravelers,r.postBookingChase,r.getBookingRefundDetail,r.handleMerchantAlterTicket,r.getBookingDetailsRefundAbleSkus,r.calcBookingDetailsRefundAmount,r.submitBookingDetailsRefund,r.multiPassReservationPackagesV2,r.getPassSchedulesAndUnits,r.getUnitsArrangements,r.generateBookingGuid,r.experienceManageBookingInfos,r.experienceManageBookingRevert,r.experienceManageBookingSubmit,r.experienceManageBookingModify,r.experienceGetSchedulesByBookingAlter,r.changeCurrency,r.experienceNswRedeem,r.experienceOrderCoupons,r.experienceOrderRedeem,r.experienceOrderCouponsWhiteLabel,r.experienceOrderRedeemWhiteLabel,r.experienceNewOrderInfoUrl,r.experienceOrderSettlement,r.experienceOrderCartSettlement,r.experienceOrderSettlementWhiteLabel,r.experienceOrderCartSettlementWhiteLabel,r.experienceOrderReSettlement,r.experienceOrderCartReSettlement,r.experienceOrderReSettlementWhiteLabel,r.experienceOrderCartReSettlementWhiteLabel,r.experienceOtherInfoList,r.experienceOrderGenerate,r.experienceOrderDetail,r.experienceOrderMailList,r.experienceUpdateOtherInfoList,r.whiteLabelGuestTermDetail,r.getUserUncheckTermByScene,r.authorizeTerms,r.assumedResidence,r.assumedResidencev2];t.a=r},417:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"action",(function(){return v})),n.d(t,"on",(function(){return m})),n.d(t,"emit",(function(){return h}));n(11),n(8),n(12);var r,o=n(0),c=n(1),l=n(131),d=n(3),_={},f=c.default.observable((r={globalData:{apiWaitCount:0}},Object(o.a)(r,d.a.experienceGetAddonSku,{}),Object(o.a)(r,"pkgsCache",{}),Object(o.a)(r,"preResult",null),r)),v={set:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pkgsCache",o=Object(l.cloneDeep)(f[r][e]||{});o[t]=n,c.default.set(f[r],e,o)},get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pkgsCache",r=f[n][e]||{};return t?r[t]:r},getList2key:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pkgsCache",n=Object.keys(f[t])||[],r=n.reduce((function(n,r){var o=Object(l.get)(f,"".concat(t,".").concat(r,".").concat(e));return(null==o?void 0:o.package_id)&&n.push(o),n}),[]);return r},setPreData:function(e){f.preResult=e},getPreData:function(){return f.preResult||{}},setGlobalData:function(e,t){c.default.set(f.globalData,e,t)},getGlobalData:function(e){return f.globalData[e]}},m=function(e,t){_[e]=t},h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift();"function"==typeof _[r]&&_[r].apply(_,t)};t.default={state:f,action:v,on:m,emit:h}},484:function(e,t,n){var map={"./ar-SA":[444,21],"./ar-SA.json":[444,21],"./de":[445,22],"./de.json":[445,22],"./en":[456,23],"./en-AU":[446,24],"./en-AU.json":[446,24],"./en-CA":[447,25],"./en-CA.json":[447,25],"./en-GB":[448,26],"./en-GB.json":[448,26],"./en-HK":[449,27],"./en-HK.json":[449,27],"./en-IN":[450,28],"./en-IN.json":[450,28],"./en-MY":[451,29],"./en-MY.json":[451,29],"./en-NZ":[452,30],"./en-NZ.json":[452,30],"./en-PH":[453,31],"./en-PH.json":[453,31],"./en-SG":[454,32],"./en-SG.json":[454,32],"./en-US":[455,33],"./en-US.json":[455,33],"./en.json":[456,23],"./es":[457,34],"./es.json":[457,34],"./fr":[458,35],"./fr.json":[458,35],"./id":[459,36],"./id.json":[459,36],"./it":[460,37],"./it.json":[460,37],"./ja":[461,38],"./ja.json":[461,38],"./ko":[462,39],"./ko.json":[462,39],"./ms-MY":[463,40],"./ms-MY.json":[463,40],"./ru":[464,41],"./ru.json":[464,41],"./th":[465,42],"./th.json":[465,42],"./vi":[466,43],"./vi.json":[466,43],"./zh-CN":[467,44],"./zh-CN.json":[467,44],"./zh-HK":[468,45],"./zh-HK.json":[468,45],"./zh-TW":[469,46],"./zh-TW.json":[469,46]};function r(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(map)},r.id=484,e.exports=r},534:function(e,t,n){e.exports=n(535)},535:function(e,t,n){"use strict";n.r(t),function(e){n(45),n(61),n(14);var t=n(5),r=(n(23),n(72),n(4)),o=(n(20),n(27),n(11),n(8),n(12),n(30),n(234),n(542),n(546),n(548),n(1)),c=n(377),l=n(156),d=n(18),_=n(115),f=n(210);o.default.component(f.a.name,f.a),o.default.component("NLink",f.a),e.fetch||(e.fetch=c.a);var v,m,h=[],y=window.__KLOOK__||{};Object.assign(o.default.config,{warnHandler:function(e,t,n){var r=window.__KLOOK__.state.klook,o=window.__KLOOK__.state.auth;t&&t.$logquery.service({timestamp:Date.now(),level:"W",tag:"client",uid:o.user?o.user.globalId:"",message:JSON.stringify({errorMessage:e,errorStack:n,more:{url:window.location.href,userAgent:window.navigator.userAgent,ip:r.ip,ipCountry:r.ipCountry,isLoggedIn:o.isLoggedIn}})},{headers:{"X-Platform":r.platform}})},errorHandler:function(e,t,n){var r;if(t){var o="".concat(e.message," (").concat(n,")"),c=e.stack,l="vueError";(null===(r=c)||void 0===r?void 0:r.indexOf("/risk_deepknow/"))>=0&&(l="riskSDKError"),t.$apem.capture({exception:{message:o,stack:c,name:l}})}return!0},silent:!0,performance:!1});var k=o.default.config.errorHandler||console.error;function E(e,t,n){var r=function(component){var e=function(component,e){if(!component||!component.options||!component.options[e])return{};var option=component.options[e];if("function"==typeof option){for(var t=arguments.length,n=new Array(t>2?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",t,n)||{};return"string"==typeof e?{name:e}:e};return e.map((function(e){var t=Object.assign({},r(e));if(n&&n.matched.length&&n.matched[0].components.default){var o=r(n.matched[0].components.default);Object.keys(o).filter((function(e){return o[e]&&e.toLowerCase().includes("leave")})).forEach((function(e){t[e]=o[e]}))}return t}))}function S(e,t,n){return T.apply(this,arguments)}function T(){return(T=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,_,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._pathChanged=Boolean(v.nuxt.err)||n.path!==t.path,this._queryChanged=JSON.stringify(t.query)!==JSON.stringify(n.query),this._diffQuery=this._queryChanged?Object(d.g)(t.query,n.query):[],this._pathChanged&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),e.prev=4,this._pathChanged||!this._queryChanged){e.next=11;break}return e.next=8,Object(d.m)(t,(function(e,t){return{Component:e,instance:t}}));case 8:o=e.sent,o.some((function(e){var r=e.Component,o=e.instance,c=r.options.watchQuery;return!0===c||(Array.isArray(c)?c.some((function(e){return f._diffQuery[e]})):"function"==typeof c&&c.apply(o,[t.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 11:r(),e.next=25;break;case 14:if(e.prev=14,e.t0=e.catch(4),c=e.t0||{},l=c.statusCode||c.status||c.response&&c.response.status||500,_=c.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(_)){e.next=22;break}return window.location.reload(!0),e.abrupt("return");case 22:this.error({statusCode:l,message:_}),this.$klook.$emit("routeChanged",t,n,c),r();case 25:case"end":return e.stop()}}),e,this,[[4,14]])})))).apply(this,arguments)}function O(e,t){return y.serverRendered&&t&&Object(d.a)(e,t),e._Ctor=e,e}function w(e){var path=Object(d.d)(e.options.base,e.options.mode);return Object(d.c)(e.match(path),function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r,o,c){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof t||t.options){e.next=4;break}return e.next=3,t();case 3:t=e.sent;case 4:return l=O(Object(d.n)(t),y.data?y.data[c]:null),r.components[o]=l,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o,c){return e.apply(this,arguments)}}())}function x(e,t,n){var r=this,o=["auth"],c=!1;if(void 0!==n&&(o=[],(n=Object(d.n)(n)).options.middleware&&(o=o.concat(n.options.middleware)),e.forEach((function(e){e.options.middleware&&(o=o.concat(e.options.middleware))}))),o=o.map((function(e){return"function"==typeof e?e:("function"!=typeof l.a[e]&&(c=!0,r.error({statusCode:500,message:"Unknown middleware "+e})),l.a[e])})),!c)return Object(d.j)(o,t)}function A(e,t,n){return C.apply(this,arguments)}function C(){return(C=Object(r.a)(regeneratorRuntime.mark((function e(t,n,r){var o,c,l,f,m,y,k,S,T,O,w,A,C,I,j,P,R,D=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==this._pathChanged||!1!==this._queryChanged){e.next=2;break}return e.abrupt("return",r());case 2:return t===n?h=[]:(o=[],h=Object(d.e)(n,o).map((function(e,i){return Object(d.b)(n.matched[o[i]].path)(n.params)}))),c=!1,l=function(path){n.path===path.path&&D.$loading.finish&&D.$loading.finish(),n.path!==path.path&&D.$loading.pause&&D.$loading.pause(),c||(c=!0,r(path))},e.next=7,Object(d.o)(v,{route:t,from:n,next:l.bind(this)});case 7:if(this._dateLastError=v.nuxt.dateErr,this._hadError=Boolean(v.nuxt.err),f=[],(m=Object(d.e)(t,f)).length){e.next=25;break}return e.next=14,x.call(this,m,v.context);case 14:if(!c){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,this.loadLayout("function"==typeof _.a.layout?_.a.layout(v.context):_.a.layout);case 18:return y=e.sent,e.next=21,x.call(this,m,v.context,y);case 21:if(!c){e.next=23;break}return e.abrupt("return");case 23:return v.context.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 25:return m.forEach((function(e){e._Ctor&&e._Ctor.options&&(e.options.asyncData=e._Ctor.options.asyncData,e.options.fetch=e._Ctor.options.fetch)})),this.setTransitions(E(m,t,n)),e.prev=27,e.next=30,x.call(this,m,v.context);case 30:if(!c){e.next=32;break}return e.abrupt("return");case 32:if(!v.context._errored){e.next=34;break}return e.abrupt("return",r());case 34:return"function"==typeof(k=m[0].options.layout)&&(k=k(v.context)),e.next=38,this.loadLayout(k);case 38:return k=e.sent,e.next=41,x.call(this,m,v.context,k);case 41:if(!c){e.next=43;break}return e.abrupt("return");case 43:if(!v.context._errored){e.next=45;break}return e.abrupt("return",r());case 45:S=!0,e.prev=46,T=!0,O=!1,w=void 0,e.prev=50,A=m[Symbol.iterator]();case 52:if(T=(C=A.next()).done){e.next=64;break}if("function"==typeof(I=C.value).options.validate){e.next=56;break}return e.abrupt("continue",61);case 56:return e.next=58,I.options.validate(v.context);case 58:if(S=e.sent){e.next=61;break}return e.abrupt("break",64);case 61:T=!0,e.next=52;break;case 64:e.next=70;break;case 66:e.prev=66,e.t0=e.catch(50),O=!0,w=e.t0;case 70:e.prev=70,e.prev=71,T||null==A.return||A.return();case 73:if(e.prev=73,!O){e.next=76;break}throw w;case 76:return e.finish(73);case 77:return e.finish(70);case 78:e.next=84;break;case 80:return e.prev=80,e.t1=e.catch(46),this.error({statusCode:e.t1.statusCode||"500",message:e.t1.message}),e.abrupt("return",r());case 84:if(S){e.next=87;break}return this.error({statusCode:404,message:"This page could not be found"}),e.abrupt("return",r());case 87:return e.next=89,Promise.all(m.map((function(e,i){if(e._path=Object(d.b)(t.matched[f[i]].path)(t.params),e._dataRefresh=!1,D._pathChanged&&D._queryChanged||e._path!==h[i])e._dataRefresh=!0;else if(!D._pathChanged&&D._queryChanged){var r=e.options.watchQuery;!0===r?e._dataRefresh=!0:Array.isArray(r)?e._dataRefresh=r.some((function(e){return D._diffQuery[e]})):"function"==typeof r&&(j||(j=Object(d.f)(t)),e._dataRefresh=r.apply(j[i],[t.query,n.query]))}if(D._hadError||!D._isMounted||e._dataRefresh){var o=[],c=e.options.asyncData&&"function"==typeof e.options.asyncData,l=Boolean(e.options.fetch),_=c&&l?30:45;if(c){var m=Object(d.l)(e.options.asyncData,v.context).then((function(t){Object(d.a)(e,t),D.$loading.increase&&D.$loading.increase(_)}));o.push(m)}if(D.$loading.manual=!1===e.options.loading,l){var p=e.options.fetch(v.context);p&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(e){D.$loading.increase&&D.$loading.increase(_)})),o.push(p)}return Promise.all(o)}})));case 89:c||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),r()),e.next=106;break;case 92:if(e.prev=92,e.t2=e.catch(27),"ERR_REDIRECT"!==(P=e.t2||{}).message){e.next=97;break}return e.abrupt("return",this.$klook.$emit("routeChanged",t,n,P));case 97:return h=[],Object(d.i)(P),"function"==typeof(R=_.a.layout)&&(R=R(v.context)),e.next=103,this.loadLayout(R);case 103:this.error(P),this.$klook.$emit("routeChanged",t,n,P),r();case 106:case"end":return e.stop()}}),e,this,[[27,92],[46,80],[50,66,70,78],[71,,73,77]])})))).apply(this,arguments)}function I(e,n){Object(d.c)(e,(function(e,n,r,c){return"object"!==Object(t.a)(e)||e.options||((e=o.default.extend(e))._Ctor=e,r.components[c]=e),e}))}function j(e){this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&this.error();var t=this.$options.nuxt.err?_.a.layout:e.matched[0].components.default.options.layout;"function"==typeof t&&(t=t(v.context)),this.setLayout(t)}function P(e,t){var n=this;if(!1!==this._pathChanged||!1!==this._queryChanged){var r=Object(d.f)(e),c=Object(d.e)(e);o.default.nextTick((function(){r.forEach((function(e,i){if(e&&!e._isDestroyed&&e.constructor._dataRefresh&&c[i]===e.constructor&&!0!==e.$vnode.data.keepAlive&&"function"==typeof e.constructor.options.data){var t=e.constructor.options.data.call(e);for(var n in t)o.default.set(e.$data,n,t[n]);window.$klook.$nextTick((function(){window.$klook.$emit("triggerScroll")}))}})),j.call(n,e)}))}}function R(e){window.onKlookReadyCbs.forEach((function(t){"function"==typeof t&&t(e)})),"function"==typeof window._onKlookLoaded&&window._onKlookLoaded(e),m.afterEach((function(t,n){o.default.nextTick((function(){return e.$klook.$emit("routeChanged",t,n)}))}))}function D(){return(D=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,c,l,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=t.app,m=t.router,t.store,n=new o.default(v),r=y.layout||"default",e.next=7,n.loadLayout(r);case 7:return n.setLayout(r),c=function(){n.$mount("#__klook"),m.afterEach(I),m.afterEach(P.bind(n)),o.default.nextTick((function(){R(n)}))},e.next=11,Promise.all(w(m));case 11:if(l=e.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),l.length&&(n.setTransitions(E(l,m.currentRoute)),h=m.currentRoute.matched.map((function(e){return Object(d.b)(e.path)(m.currentRoute.params)}))),n.$loading={},y.error&&n.error(y.error),m.beforeEach(S.bind(n)),m.beforeEach(A.bind(n)),!y.serverRendered){e.next=21;break}return c(),e.abrupt("return");case 21:_=function(){I(m.currentRoute,m.currentRoute),j.call(n,m.currentRoute),c()},A.call(n,m.currentRoute,m.currentRoute,(function(path){if(path){var e=m.afterEach((function(t,n){e(),_()}));m.push(path,void 0,(function(e){e&&k(e)}))}else _()}));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(_.b)().then((function(e){return D.apply(this,arguments)})).catch(k)}.call(this,n(44))},549:function(e,t,n){"use strict";n.r(t);var r=n(25),o=(n(23),n(4)),c=n(3),l=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o,l,d,_,f,v,m,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirect,o=t.params,l=t.route,d=t.app,_=Object(r.a)(l.meta,1),"redirect"===_[0].type){e.next=4;break}return e.abrupt("return");case 4:return f=o.frontendId,v=void 0===f?1:f,e.prev=5,e.next=8,d.$axios.$get(c.a.getExperiencePreInfo,{params:{frontend_id:v}});case 8:if(m=e.sent,h=m.success,y=m.result,h&&y.redirect_url){e.next=13;break}return e.abrupt("return",n({name:"ExperienceAroundTheWorld"}));case 13:return e.abrupt("return",n(y.redirect_url));case 16:return e.prev=16,e.t0=e.catch(5),e.abrupt("return",n({name:"ExperienceAroundTheWorld"}));case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();t.default=l},550:function(e,t,n){"use strict";n.r(t);t.default=function(e,t){t(),e.res.removeHeader("X-Frame-Options")}},551:function(e,t,n){"use strict";n.r(t);n(23);var r=n(4),o=n(3),c=(n(16),function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.app.$cookies.get("JSESSIONID")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.app.$axios.$get(o.a.jsessionId);case 4:n=e.sent,r="",n.success&&n.result&&(r=n.result.sid,t.app.$cookies.set("JSESSIONID",r,{path:"/",httpOnly:!0,expires:new Date(Date.now()+432e5)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t.default=c},6:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r="Experience",o={ExperienceHeader:"Header",subVerticalMenu:"SubVerticalMenu",subVerticalBanner:"SubVerticalBanner",ExperienceHotCountry:"HotCountry_ActivityLIST",ExperienceDestinationSection:"TopDestination",ActivityHighlight:"ThemeActivity_LIST",NearbyActivities:"NearbyActivity_LIST",NearbyCities:"NearbyDestination",CountrySeoLink:"CountrySeoLink",CitySeoLink:"CitySeoLink",ExperienceBlogList:"BlogLIST",ReviewList:"UserReview_UserReviewCardLIST",SeoLink:"SeoLink",ExperiencePromoSystem:"SubVerticalPromo"},c="https://res.klook.com/image/upload/v1656398779/web3.0/experiences/category_Things_to_do.jpg"},632:function(e,t,n){"use strict";n.r(t);n(23);var r=n(4),o=(n(3),function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=17;break;case 7:if(e.sent.success){e.next=11;break}return e.next=11,r.login({redirectUrl:o});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),e.next=17,r.login({redirectUrl:o});case 17:n();case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}());t.default=o},633:function(e,t,n){"use strict";n.r(t);n(23);var r=n(4),o=n(3),c=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store.state.klook.language,c="signin_jump=".concat(encodeURIComponent(t.route.fullPath)),l="en"===r?"/signin/?".concat(c):"/".concat(r,"/signin/?").concat(c),e.prev=3,e.next=6,t.app.$axios.$get(o.a.verify);case 6:e.sent.success||t.redirect(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.redirect(l);case 13:n();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}();t.default=c},634:function(e,t){},64:function(e,t,n){"use strict";n.d(t,"i",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return h}));n(20);var r=n(33),o=(r.languageConfig.renderLanguages,r.languageConfig.supportLanguageList),c=(r.languageConfig.countryLanguageMap,r.languageConfig.f2bLanguageMap),l=r.languageConfig.languageIsoMap,d=r.languageConfig.languageDayjsLocaleMap,_=r.languageConfig.getSupportLanguageList,f=(r.languageConfig.isSupportLanguage,r.languageConfig.getRenderLanguages),v=(r.languageConfig.getLanguageByCountry,r.languageConfig.convertToBackendCode),m=r.languageConfig.convertToFrontendCode,h=(r.languageConfig.isErLang,r.languageConfig.getPreferCountryListByLangCode,r.languageConfig.getPreferCountryListByCountryCode,{"en-AU":" Australia","en-CA":" Canada","en-HK":" Hong Kong","en-IN":" India","en-MY":" Malaysia","en-NZ":" New Zealand","en-PH":" Philippines","en-SG":" Singapore","en-US":" US","en-GB":" UK","zh-CN":" ","zh-TW":" ","zh-HK":" "});var y;y=o.map((function(e){return"".concat(e,"/")})),"^/(".concat(y.join("|"),")?")},663:function(e,t,n){"use strict";n.r(t),n.d(t,"createRouter",(function(){return r}));var r=function(e,t){var n="en",r="mobile";return n=window.__KLOOK__.state.klook.language,r=window.__KLOOK__.state.klook.platform,t.routes&&(t.routes=function e(t,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=t.map((function(t){return o&&"en"!==n&&(t.path="/".concat(n).concat(t.path),t.redirect&&(t.redirect="/".concat(n).concat(t.redirect))),t.components&&(t.component=t.components[r],delete t.components),t.children&&(t.children=e(t.children,n,r,!1)),t}));return c}(t.routes,n,r)),t}},664:function(e,t,n){"use strict";var r=n(195);n.n(r).a},665:function(e,t,n){"use strict";var r=n(196);n.n(r).a},667:function(e,t,n){},670:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return T})),n.d(t,"getters",(function(){return O})),n.d(t,"mutations",(function(){return w})),n.d(t,"actions",(function(){return x}));n(22),n(14),n(12),n(671),n(28),n(11),n(8),n(45),n(23);var r=n(4),o=(n(27),n(0)),c=(n(20),n(10)),l=n.n(c),d=n(64),_=n(85),f=n(16),v=n(266),m=n(154);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var y,k,E,S,T=function(){return{klook:{language:"en",backendLanguage:"en_BS",supportLanguages:d.i,currency:"USD",currencySymbol:"US$",ip:"",ipCountry:"US",residenceCode:"US",residenceId:0,platform:"mobile",isIOS:!1,isKlookApp:!1,webp:0,retina:0,utilConfig:{},pageId:"",pageTemplate:"NA",currencyRate:{},secondaryNav:{},destinationData:{},allCategoryList:[],isBot:!1,platformMp:""}}},O={language:function(e){return e.klook.language},currencySymbol:function(e){return e.klook.currencySymbol},platform:function(e){return e.klook.platform},isDesktop:function(e){return"desktop"===e.klook.platform},isMobile:function(e){return"mobile"===e.klook.platform},isGuestCheckout:function(e){return e.klook.utilConfig.is_guest_checkout},whiteLabelConfig:function(e){var t,n;return null===(n=null===(t=e.klook)||void 0===t?void 0:t.utilConfig)||void 0===n?void 0:n.whiteLabelUtilConfig},useCredits:function(e){return e.klook.utilConfig.use_credits},mapType:function(e){return"CN"===e.klook.ipCountry?"mapbox":"google"},isEUArea:function(e){return["AT","BE","BG","CZ","CY","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB","UK","IS","NO","RU"].includes(e.klook.ipCountry.toLocaleUpperCase())},timeFormatString:function(e){var t=e.klook.language;return"en"===t||"en-US"===t?"hh:mm A":"HH:mm"}},w={SET_INITIAL_DATA:function(e,t){t.language&&(t.backendLanguage=Object(d.a)(t.language)||""),e.klook=function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},e.klook,{},t)},SET_LANGUAGE:function(e,t){e.klook.language=t},SET_LANGUAGES:function(e,t){e.klook.supportLanguages=e.klook.websiteConfig.support_languages.filter((function(e){return t.includes(e)}))},SET_CURRENCY:function(e,t){e.klook.currency=t},SET_CURRENCY_RATE:function(e,t){e.klook.currencyRate=t},SET_SECONDARY_NAV:function(e,t){e.klook.secondaryNav=t},SET_DESTINATION_DATA:function(e,t){e.klook.destinationData=t},SET_ALL_CATEGORY_LIST:function(e,t){e.klook.allCategoryList=t},INITIAL_STATE:function(e){e.experience&&(e.experience=Object(v.state)())},SET_CLIENT_INIT_DATA:function(e,t){e.klook.ip=t.ip,e.klook.isIOS=t.isIOS,e.klook.pageId=t.pageId,e.klook.residenceCode=t.residenceCode,e.klook.residenceId=t.residenceId},SET_PAGE_TEMPLATE:function(e){var template=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NA";e.klook.pageTemplate=template}},x={nuxtServerInit:(S=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,_,v,m,h,y,k,E;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y=function(){return _.realHost},r=t.commit,o=t.dispatch,!(_=n.req).isStaticOrApi){e.next=5;break}return e.abrupt("return");case 5:if(v=_.utilConfig||{},m="cmcc"===v.util_name,h=Object(f.V)(_.headers["user-agent"]),k=y(),r("SET_INITIAL_DATA",{language:m?"zh-CN":_.language,supportLanguages:Object(d.e)(_.websiteConfig.website),currency:m?"CNY":_.currency,currencySymbol:_.currencySymbol,ipCountry:_.country,residenceCode:_.residenceCode,residenceId:_.residenceId,platform:_.platform,isKlookApp:_.isKlookApp,webp:_.webp,retina:_.retina,utilConfig:v,affiliateConf:_.affiliateConf||{},qsAffiliateConf:_.qsAffiliateConf||{},host:k,websiteConfig:_.websiteConfig,marketId:(null===(c=_.websiteConfig)||void 0===c?void 0:c.market_id)||1,market:(null===(l=_.websiteConfig)||void 0===l?void 0:l.market)||"global",isBot:h,platformMp:_.platformMp,keplerId:_.keplerId}),h||(r("common/kepler/SET_KEPLER_ID",_.keplerId),r("common/kepler/SET_EXPERIMENTS_HIT_LIST",_.experimentsHitList)),"desktop"!==_.platform){e.next=16;break}return e.next=14,Promise.all([o("getCurrencyRate",n)]);case 14:e.next=19;break;case 16:return E=[o("getCurrencyRate",n)],e.next=19,Promise.all(E);case 19:case"end":return e.stop()}}),e)}))),function(e,t){return S.apply(this,arguments)}),syncLanguage:function(e,t){(0,e.commit)("SET_LANGUAGE",t)},syncSupportLanguages:function(e,t){(0,e.commit)("SET_LANGUAGES",t)},getCMSGenericItemList:function(e,t){var n=e.state,r=t.type,o=t.options,c=void 0===o?{}:o;return c.platform||(c.platform="mobile"===n.klook.platform?m.platform.MOBILE:m.platform.WEB),this.$axios.$get("/v1/usrcsrv/generic/types/".concat(r),{params:c,timeout:1e3,regularUrl:"/v1/usrcsrv/generic/types/{*}"}).then((function(e){if(e.success&&!l()(e.result))return e.result[0].content})).catch((function(){return{}}))},getCurrencyRate:(E=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.abrupt("return");case 3:if(o=Object(f.D)(new Date),c="comm:currency_rate:"+o.replace(/-/g,""),d="comm:currency_rate:long",v=n.req.memCache.get(c),!l()(v)){e.next=12;break}return e.next=10,this.$axios.$get("/v1/usrcsrv/exchange_rate?date=".concat(o)).then((function(e){if(e.success&&!l()(e.result)){for(var i in e.result)i.endsWith("HKD")||delete e.result[i];v=e.result}})).catch((function(){return{}}));case 10:n.req.memCache.set(c,v,1800),n.req.memCache.set(d,v,86400);case 12:l()(v)&&(v=n.req.memCache.get(d)),l()(v)&&(v=_.a),r("SET_CURRENCY_RATE",v);case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)}),getDestinationData:(k=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get("/v2/usrcsrv/destination/guide").then((function(e){var t={};e.success&&!l()(e.result)&&(t=e.result),n("SET_DESTINATION_DATA",t)})).catch((function(){return{}}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)}),getAllCategoryList:(y=Object(r.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get("/v1/usrcsrv/menu/category").then((function(e){var t={};e.success&&!l()(e.result)&&(t=e.result.menus),n("SET_ALL_CATEGORY_LIST",t)})).catch((function(){return{}}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})}},687:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"mutations",(function(){return h})),n.d(t,"actions",(function(){return y}));n(23);var r,o,c,l=n(4),d=(n(28),n(384)),_=n.n(d),f=n(3),v=n(16),m=function(){return{lastVerify:Date.now(),isLoggedIn:!1,user:null}},h={SET_VERIFY_STATUS:function(e){e.lastVerify=Date.now()},SET_USER:function(e,t){t?(e.isLoggedIn=!0,e.user={id:t.user_id,globalId:t.global_id,username:t.user_name,title:t.title,email:t.email,emailHash:t.email&&(new _.a).update(t.email).digest("hex"),avatar:t.avatar,countryCode:t.country_code,createTime:t.create_time&&new Date(t.create_time.replace(/-/g,"/")).toLocaleDateString("en-US"),unreview:t.unreview,giftCard:t.gift_card,registerSite:t.register_site,preferSite:t.prefer_site,confirmed_residence:t.confirmed_residence||"",membership_level:t.membership_level||"",user_residence:t.user_residence||"",membership_style:t.membership_style||{}}):(e.isLoggedIn=!1,e.user=null)}},y={canVerify:function(e){var t=e.commit,n=e.state;return Date.now()-n.lastVerify>18e4&&(t("SET_VERIFY_STATUS"),!0)},userprofileserv:(c=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,data,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]?m[1]:{},r=n.ctx,e.prev=1,l=(null===(c=null===(o=r)||void 0===o?void 0:o.app)||void 0===c?void 0:c.$cookies)||this.$cookies,d=window.sessionStorage.getItem("collectorData"),_=!1,data={browser_lang:window.navigator.language||window.navigator.languages[0],kepler_id:l.get("kepler_id")},l.get("user_id")&&(data.user_id=l.get("user_id")),(!d||"login"===d&&!data.user_id||"not_login"===d&&data.user_id)&&(_=!0),_){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,this.$axios.$post(f.a.userprofileserv,{event_type:"device",event_data:Object(v.h)(JSON.stringify(data))});case 12:e.sent.success&&window.sessionStorage.setItem("collectorData",data.user_id?"login":"not_login"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.warn(e.t0);case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e){return c.apply(this,arguments)}),verify:(o=Object(l.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.$get(f.a.verify,{timeout:8e3});case 3:if(!(t=e.sent).success||!t.result){e.next=9;break}return n=t.result,e.abrupt("return",{id:n.user_id,globalId:n.global_id,username:n.user_name,title:n.title,email:n.email,avatar:n.avatar,countryCode:n.country_code,preferSite:n.prefer_site});case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,12]])}))),function(){return o.apply(this,arguments)}),updateUid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t||{},r=n.cookies,o=n.global_id,c=n.type;r&&"remove"===c?r.remove("user_id"):r&&o&&r.get("user_id")!==o&&r.set("user_id",o,{path:"/",maxAge:604800})},getProfile:(r=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,v,m,h,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,o=y.length>1&&void 0!==y[1]?y[1]:{},c=o.ctx,e.prev=2,e.next=5,this.$axios.$get(f.a.simpleProfile);case 5:if(v=e.sent,m=0,h=null===(d=null===(l=c)||void 0===l?void 0:l.app)||void 0===d?void 0:d.$cookies,!v.success||!v.result){e.next=15;break}return v.result.unreview=m,n("SET_USER",v.result),e.next=13,r("updateUid",{cookies:h,global_id:null===(_=v.result)||void 0===_?void 0:_.global_id});case 13:return r("userprofileserv",{ctx:c}),e.abrupt("return",v.result);case 15:return n("SET_USER",null),e.next=18,r("updateUid",{cookies:h,type:"remove"});case 18:return r("userprofileserv",{ctx:c}),e.abrupt("return",null);case 22:return e.prev=22,e.t0=e.catch(2),n("SET_USER",null),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,this,[[2,22]])}))),function(e){return r.apply(this,arguments)})}},692:function(e,t){},694:function(e,t){},702:function(e,t,n){"use strict";n.r(t),n.d(t,"actions",(function(){return r}));n(8);var r={getCityById:function(e,t){return this.$axios.$get("/v1/usrcsrv/city/".concat(t)).then((function(e){return e.success&&e.result?e.result:Promise.reject(new Error("getCityById error"))}))},getCouregById:function(e,t){return this.$axios.$get("/v1/usrcsrv/country/".concat(t,"/basic_info")).then((function(e){return e.success&&e.result?e.result:Promise.reject(new Error("getCouregById error"))}))}}},703:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return l})),n.d(t,"mutations",(function(){return d})),n.d(t,"actions",(function(){return _}));var r,o=n(0),c=n(3),l=function(){return{placeholder:"",suggestParams:null,searchQuery:"",searchHistoryArr:[],slideWordList:[]}},d=(r={},Object(o.a)(r,"SET_HEADER_SEARCH_DATA",(function(e,data){e.placeholder=data.placeholder,e.searchQuery=data.searchQuery,e.suggestParams=data.suggestParams})),Object(o.a)(r,"SET_HEADER_SEARCH_HISTORY",(function(e,data){e.searchHistoryArr=data})),Object(o.a)(r,"SET_SLIDE_WORD_DATA",(function(e,data){e.slideWordList=data})),r),_={setHeaderSearch:function(e,data){(0,e.commit)("SET_HEADER_SEARCH_DATA",data)},getSlideWord:function(e){var t=e.commit;return this.$axios.$get(c.a.slideWord).then((function(e){e.success&&e.result&&t("SET_SLIDE_WORD_DATA",e.result.data||[])}))}}},704:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return v})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return h}));n(22),n(14),n(11),n(8),n(12),n(23);var r,o=n(4),c=n(0),l=n(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,v=function(){return{keplerId:"",experimentsGroup:{},tintedList:"",expExtra:{}}},m=(r={},Object(c.a)(r,"SET_KEPLER_ID",(function(e,t){e.keplerId=t})),Object(c.a)(r,"SET_EXPERIMENTS_HIT_LIST",(function(e,t){e.experimentsGroup=t})),Object(c.a)(r,"SET_TINTED_LIST",(function(e,t){e.tintedList=t})),Object(c.a)(r,"SET_EXP_EXTRA",(function(e,t){e.expExtra=t})),r),h={getExperimentsHitList:(f=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,d,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,e.prev=1,e.next=4,this.$axios.$get(l.a.getExperimentsHitList,{timeout:500,headers:{"X-Platform":r.klook.platform}});case 4:(o=e.sent)&&o.result&&(c=o.result.exps||[],d=[],c.forEach((function(e){e.need_dye&&d.push("".concat(e.experiment_id,":").concat(e.group_id))})),d.length&&n("SET_TINTED_LIST",JSON.stringify({kepler:d})),f=o.result,v=_({},f.user_id?{user_id:f.user_id}:{},{},f.origin_kepler_id?{origin_kepler_id:f.origin_kepler_id}:{}),n("SET_EXP_EXTRA",v)),n("SET_EXPERIMENTS_HIT_LIST",o.result.exps||[]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n("SET_EXPERIMENTS_HIT_LIST",[]);case 12:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return f.apply(this,arguments)})}},705:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return r})),n.d(t,"mutations",(function(){return o})),n.d(t,"actions",(function(){return c})),n.d(t,"getters",(function(){return l}));var r=function(){return{countryCode:"",mobile:"",countryNumber:"",submitButtonStatus:"default",mobileVerifyStatus:!1}},o={updateCountryCode:function(e,t){e.countryCode=t},updateCountryNumber:function(e,t){e.countryNumber=t},updateMobile:function(e,t){e.mobile=t},updateSubmitButtonStatus:function(e,t){e.submitButtonStatus=t},updateMobileVerifyStatus:function(e,t){e.mobileVerifyStatus=t}},c={},l={countryCodeMobile:function(e){return e.countryCode&&e.mobile?"".concat(e.countryCode,"-").concat(e.mobile):""}}},706:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return o})),n.d(t,"mutations",(function(){return c})),n.d(t,"actions",(function(){return l}));var r=n(3),o=function(){return{recentlyPurchased:[],orderList:[],totalPage:0,orderStatus:"loading",pageIndex:1,listType:"normal",logisticsVisible:!1,logisticsInfo:null,mergeOptionVisible:!1,mergeOptionInfo:null,appDownloadVisible:!1,bookingManagementVisible:!1,coupon:null,bookingManagementInfo:{bookingReferenceNumber:"",confirmationType:""},bookingPopularList:[]}},c={SET_BOOKING_POPULAR_LIST:function(e,t){e.bookingPopularList=t},SET_LIST_TYPE:function(e,data){e.listType=data},SET_PAGE_INDEX:function(e,data){e.pageIndex=data},SET_RECENTLY_PURCHASED:function(e,data){e.recentlyPurchased=data.recentlyPurchased},PUSH_ORDER_LIST:function(e,t){e.orderList=e.orderList.concat(t)},SET_ORDER_LIST:function(e,t){e.orderList=t},SET_TOTAL_PAGE:function(e,t){e.totalPage=t.totalPage},SET_ORDER_STATUS:function(e,t){e.orderStatus=t},SET_DOWNLOAD_VISIBLE:function(e,t){e.appDownloadVisible=t},SET_LOGISTICS_VISIBLE:function(e,t){e.logisticsVisible=t},SET_LOGISTICS_INFO:function(e,t){e.logisticsInfo=t},SET_MERGE_OPTION_VISIBLE:function(e,t){e.mergeOptionVisible=t},SET_MERGE_OPTION_INFO:function(e,t){e.mergeOptionInfo=t},SET_BOOKING_MANAGEMENT_INFO:function(e,t){e.bookingManagementInfo.bookingReferenceNumber=t.bookingReferenceNumber,e.bookingManagementInfo.confirmationType=t.confirmationType},SET_BOOKING_VISIBLE:function(e,t){e.bookingManagementVisible=t},SET_COUPON:function(e,t){e.coupon=t}},l={getCoupon:function(e){var t=e.commit;return this.$axios.$get(r.a.commonCoupon).then((function(e){e.success&&e.result&&t("SET_COUPON",e.result)}))},getBookingPopularList:function(e){var t=e.commit;return this.$axios.$get(r.a.bookingPopularList).then((function(e){e.success&&e.result&&e.result.items&&t("SET_BOOKING_POPULAR_LIST",e.result.items)}))},getRecentlyPurchased:function(e){var t=e.commit;return this.$axios.$get(r.a.getRecentlyPurchase).then((function(e){if(e.success&&e.result&&e.result.activity_list.length>0){var data=e.result;t("SET_RECENTLY_PURCHASED",{recentlyPurchased:data.activity_list.map((function(e){return{title:e.title,market_price:e.market_price,sell_price:e.sell_price,sold_out:e.sold_out,image_url:e.image_url,id:e.id,url_seo:e.url_seo,currency:e.currency}}))})}}))},getOrderList:function(e){var t=e.commit,n=e.state,o={lang:e.rootState.klook.backendLanguage,page:n.pageIndex,page_size:10,list_type:n.listType};return this.$axios.$post(r.a.getBookingList,o).then((function(e){e.success?(t("SET_ORDER_STATUS","success"),e.result&&e.result.booking_list&&e.result.booking_list.length>0&&(t("SET_TOTAL_PAGE",{totalPage:e.result.num_page}),t("SET_PAGE_INDEX",n.pageIndex+1),t("PUSH_ORDER_LIST",e.result.booking_list))):t("SET_ORDER_STATUS","error")})).catch((function(){t("SET_ORDER_STATUS","error")}))},getBookingList:function(e){var t=e.commit,n=e.state,o=e.rootState,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=[],d=10,_={lang:o.klook.backendLanguage,page:n.pageIndex,page_size:d,list_type:n.listType};return this.$axios.$post(r.a.getBookingList,_,{loading:c}).then((function(e){e.success?(t("SET_ORDER_STATUS","success"),e.result&&e.result.booking_list&&e.result.booking_list.length>0?(t("SET_TOTAL_PAGE",{totalPage:e.result.num_page}),t("SET_ORDER_LIST",e.result.booking_list)):(t("SET_TOTAL_PAGE",0),t("SET_ORDER_LIST",l))):(t("SET_ORDER_STATUS","error"),t("SET_TOTAL_PAGE",0),t("SET_ORDER_LIST",l))})).catch((function(){t("SET_ORDER_STATUS","error"),t("SET_ORDER_LIST",l)}))},showLogisticsModal:function(e,t){var n=e.commit;return this.$axios.$get(r.a.getLogistics,{params:{booking_reference_no:t},loading:!0}).then((function(e){e.success&&e.result&&(n("SET_LOGISTICS_VISIBLE",!0),n("SET_LOGISTICS_INFO",e.result))}))},showBookingManagement:function(e,t){var n=e.commit;n("SET_BOOKING_MANAGEMENT_INFO",{confirmationType:t.confirmationType,bookingReferenceNumber:t.bookingReferenceNumber}),n("SET_BOOKING_VISIBLE",!0)},showMergeOption:function(e,t){var n=e.commit,o=t.orderNo,c=t.type;return this.$axios.$get(r.a.comboQuery,{params:{order_no:o,type:c},loading:!0}).then((function(e){e.success&&e.result&&(e.result.type=c,n("SET_MERGE_OPTION_INFO",e.result),n("SET_MERGE_OPTION_VISIBLE",!0))}))}}},707:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return v})),n.d(t,"mutations",(function(){return m})),n.d(t,"actions",(function(){return h}));n(30),n(8);var r,o=n(0),c=n(206),l=n.n(c),d=n(3),_=new l.a.Converter({tables:!0}),f=function(e){return e.category_id},v=function(){return{popularFaqs:[],helpfulFaqs:[],categories:[],faq:null,recommendFaqs:[],relatedFaqs:[],searchResults:[],searchResultCount:0,categoryFaqs:[],categoryFaqTotal:0,secondCateList:[]}},m=(r={},Object(o.a)(r,"SET_POPULAR_FAQS",(function(e,data){e.popularFaqs=data.popularFaqs})),Object(o.a)(r,"SET_HELPFUL_FAQS",(function(e,data){e.helpfulFaqs=data.helpfulFaqs})),Object(o.a)(r,"SET_FAQ",(function(e,data){e.faq=data.faq,e.recommendFaqs=data.recommendFaqs,e.relatedFaqs=data.relatedFaqs})),Object(o.a)(r,"SET_SEARCH_RESULTS",(function(e,data){e.searchResultCount=data.count,e.searchResults=data.searchResults})),Object(o.a)(r,"SET_CATEGORY",(function(e,data){e.categories=data.categories})),Object(o.a)(r,"SET_CATEGORY_FAQS",(function(e,data){e.categoryFaqs=data.categoryFaqs,e.categoryFaqTotal=data.categoryFaqTotal})),Object(o.a)(r,"SET_SECOND_CATE_LIST",(function(e,data){e.secondCateList=data.secondCateList})),r),h={getPopularFaqs:function(e){var t=e.commit;return this.$axios.$get(d.a.categoryFaqs,{params:{category_id:14,limit:8,page:1}}).then((function(e){if(e.success&&e.result&&e.result.faq_info_list.length>0){var data=e.result;t("SET_POPULAR_FAQS",{popularFaqs:data.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}}))})}}))},getHelpfulFaqs:function(e){var t=e.commit;return this.$axios.$get(d.a.mostHelpfulFaqs,{params:{limit:5}}).then((function(e){if(e.success&&e.result&&e.result.helpful_faqs.length>0){var data=e.result;t("SET_HELPFUL_FAQS",{helpfulFaqs:data.helpful_faqs})}}))},getFaqById:function(e,t){var n=e.commit,r=t.faqId,o={faq:null,recommendFaqs:[],relatedFaqs:[]};return this.$axios.$get(d.a.faqDetail,{params:{faq_id:r}}).then((function(e){if(e.success&&e.result){var data=e.result,t=data.recommend_faq_list||[],r=data.same_category_faq_list||[],c={faq:{faqId:data.faq_id,question:data.question,answer:_.makeHtml(data.answer),voteStatus:data.helpful_status,categoryId:data.sub_category_id||data.category_id,categoryName:data.sub_category_name||data.category_name,firstClassName:data.category_name,firstCategoryId:data.category_id},recommendFaqs:t.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}})),relatedFaqs:r.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:data.sub_category_id||data.category_id}}))};return n("SET_FAQ",c),c}return n("SET_FAQ",o),o})).catch((function(){return n("SET_FAQ",o),o}))},search:function(e,t){var n=e.commit,r=t.keyword,o=t.limit,c=void 0===o?10:o,l={count:0,searchResults:[]};return r?this.$axios.$get(d.a.faqSearchSuggest,{params:{keyword:r,limit:c}}).then((function(e){if(e.success&&e.result){var data=e.result.faq_category_list||[],t={count:e.result.count||0,searchResults:data.map((function(e){return{categoryId:e.category_id,categoryName:e.category_name,subCategoryId:e.sub_category_id,subCategoryName:e.sub_category_name,faqs:(e.faq_list||[]).map((function(t){return{faqId:t.faq_id,question:t.question,categoryId:e.sub_category_id||e.category_id}}))}}))};return n("SET_SEARCH_RESULTS",t),t}return n("SET_SEARCH_RESULTS",l),l})).catch((function(){return n("SET_SEARCH_RESULTS",l),l})):(n("SET_SEARCH_RESULTS",l),Promise.resolve(l))},getCategories:function(e){var t=e.commit,n=e.rootState,r={categories:[]};return this.$axios.$get(d.a.faqCategory).then((function(e){if(e.success&&e.result&&e.result.length>0){var o=e.result;t("SET_CATEGORY",{categories:o.map((function(e){return{categoryId:f(e),level:e.category_level,type:e.category_type,name:e.name,desc:e.desc,iconUrl:e.icon_url,opened:"desktop"===n.klook.platform,children:(e.children_category_list||[]).map((function(e){return{categoryId:e.category_id,level:e.category_level,type:e.category_type,name:e.name,desc:e.desc,iconUrl:e.icon_url}}))}}))})}else t("SET_CATEGORY",r)})).catch((function(){t("SET_CATEGORY",r)}))},getCategoryFaqs:function(e,t){var n=e.commit,r=t.categoryId,o=t.limit,c=t.page,l={categoryFaqTotal:0,categoryFaqs:[]};return this.$axios.$get(d.a.categoryFaqs,{params:{category_id:r,limit:o,page:c}}).then((function(e){if(e.success&&e.result&&e.result.faq_info_list.length>0){var data=e.result;n("SET_CATEGORY_FAQS",{categoryFaqTotal:data.count,categoryFaqs:data.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id||e.category_id}}))})}else n("SET_CATEGORY_FAQS",l)})).catch((function(){n("SET_CATEGORY_FAQS",l)}))},getSecondCateList:function(e,t){var n=e.commit,r=t.categoryId,o={secondCateList:[]};return this.$axios.$get(d.a.secondCateList,{params:{category_id:r}}).then((function(e){if(e.success&&e.result&&e.result.children_category_with_faq_list.length>0){var data=e.result,t=e.result.children_category_with_faq_list;n("SET_SECOND_CATE_LIST",{categoryName:data.name,categoryId:data.category_id,secondCateList:t.map((function(e){return{subName:e.name,categoryId:e.category_id,isViewAll:e.faq_count>4,faqList:e.faq_info_list.map((function(e){return{faqId:e.faq_id,question:e.question,categoryId:e.sub_category_id}}))}}))})}else n("SET_SECOND_CATE_LIST",o)})).catch((function(){n("SET_SECOND_CATE_LIST",o)}))}}},708:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return h})),n.d(t,"mutations",(function(){return y})),n.d(t,"actions",(function(){return k}));n(23);var r,o,c,l,d,_=n(4),f=n(0),v=n(3),m=n(16),h=function(){return{giftCardInformaton:{},packageSchedules:{},accountGiftCard:{}}},y=(r={},Object(f.a)(r,"SET_GIFT_CARD",(function(e,data){e.giftCardInformaton=data})),Object(f.a)(r,"SET_PACKAGE_SCHDULES",(function(e,data){e.packageSchedules=data})),Object(f.a)(r,"SET_ACCOUNT_GIFT_CARD",(function(e,data){e.accountGiftCard=data})),Object(f.a)(r,"SET_WALLETS",(function(e,data){e.accountGiftCard.wallets=data})),r),k={getInformaton:(d=Object(_.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get(v.a.giftCardInformaton);case 3:return r=e.sent,n("SET_GIFT_CARD",r.result),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)}),getPackageSchedules:(l=Object(_.a)(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.$axios.$get(Object(m.ob)(v.a.getPackageSchedulesAndUnits,{packageId:n}),{regularUrl:"/v1/usrcsrv/packages/{*}/schedules_and_units"});case 5:return o=e.sent,r("SET_PACKAGE_SCHDULES",o.result),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)}),getAccountGiftCardInfo:(c=Object(_.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get(v.a.accountGiftCard);case 3:return r=e.sent,n("SET_ACCOUNT_GIFT_CARD",r.result),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)}),getWalletsData:(o=Object(_.a)(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$get(v.a.getWalletsData,{params:{pending_total:1}});case 3:return(r=e.sent).success&&n("SET_WALLETS",r.result),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}},709:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return f})),n.d(t,"mutations",(function(){return v})),n.d(t,"actions",(function(){return m}));n(23);var r,o,c=n(4),l=n(0),d=n(3),_=n(154),f=function(){return{preferredBannerList:[],preferredActivities:[],sectionDescription:"",sectionDisclaimer:"",sectionName:"",total:0,banner:[],ranges:[]}},v=(r={},Object(l.a)(r,"SET_ACTIVITY_LIST",(function(e,data){1===data.page?e.preferredActivities=data.data.activities||[]:e.preferredActivities=e.preferredActivities.concat(data.data.activities||[]),e.total=data.data.total})),Object(l.a)(r,"SET_PREFERRED_INFO",(function(e,data){e.sectionDescription=data.section_description,e.sectionDisclaimer=data.section_disclaimer,e.sectionName=data.section_name})),Object(l.a)(r,"SET_RSNGES",(function(e,data){e.ranges=data.ranges||[]})),Object(l.a)(r,"SET_BANNER",(function(e,data){e.banner=data})),r),m={getPreferredActivities:function(e,t){var n=e.commit,r=t.countryIds,o=t.cityIds,c=t.page,l=t.limit,_={};return this.$axios.$get(d.a.preferredActivities,{params:{country_ids:r,city_ids:o,page:c,limit:l}}).then((function(e){if(e.success&&e.result){var data=e.result;return _=data.activity,n("SET_ACTIVITY_LIST",{page:c,data:_}),n("SET_PREFERRED_INFO",data),!0}return null})).catch((function(){return null}))},getRanges:function(e){var t=e.commit;return this.$axios.$get(d.a.preferredRange).then((function(e){if(!e.success||!e.result)return null;t("SET_RSNGES",{ranges:e.result.filter})})).catch((function(){return null}))},getHomePageBanner:(o=Object(c.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.dispatch,e.next=3,r("getCMSGenericItemList",{type:_.types.TYPE_HOME_BANNER},{root:!0});case 3:(o=e.sent)&&o.photos&&n("SET_BANNER",o.photos);case 5:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),search:function(e){var t=e.commit;return this.$axios.$get(d.a.searchHit,{params:{query:"",start:1,size:40}}).then((function(e){if(!e.success||!e.result)return[];t("SET_ACTIVITY_LIST",{page:2,data:e.result})})).catch((function(){return[]}))}}},710:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return m})),n.d(t,"mutations",(function(){return h})),n.d(t,"actions",(function(){return y}));n(22),n(14),n(12),n(23);var r=n(4),o=(n(11),n(8),n(99),n(45),n(86),n(13)),c=n(0),l=n(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,v,m=function(){return{sectionList:[],reviewIdList:[],reviewListVisible:!1,reviewMap:null,reviewTotal:0,breadcrumb:null,shareInfo:null}},h={SET_ACTIVITY_REVIEWS:function(e,data){var t=(data.item||[]).map((function(e){var t=e.review_image;return{id:e.id,author:e.author,date:e.date,avatar:e.avatar,rating:e.rating,content:e.content,translateContent:e.translate_content,needTranslateButton:e.need_translate_button,packageName:e.package_name,reviewImage:t&&t.map((function(img){return{imgResizeUrl:img.img_resize_url,imageId:img.image_id,imgUrl:img.img_url}})),hasReply:e.has_reply,reply:e.reply?{content:e.reply.content,translateContent:e.reply.translate_content}:{},hasLiked:e.has_liked,likeCount:e.like_count}})).reduce((function(e,t){return{reviewMap:_({},e.reviewMap,Object(c.a)({},t.id,t)),reviewIdList:[].concat(Object(o.a)(e.reviewIdList),[t.id])}}),{reviewMap:{},reviewIdList:[]});e.reviewIdList=Array.from(new Set([].concat(Object(o.a)(e.reviewIdList),Object(o.a)(t.reviewIdList)))),e.reviewMap=_({},e.reviewMap,{},t.reviewMap),e.reviewTotal=data.total},SET_BREADCRUMB:function(e,data){e.breadcrumb=data},SET_SHAREINFO:function(e,data){e.shareInfo=data},SET_SECTION_List:function(e,data){e.sectionList=[].concat(data)},SET_REVIEWS_LIKED:function(e,t){var n=e.reviewMap,r=n[t];r&&(r.likeCount+=1,r.hasLiked+=!0,e.reviewMap=_({},n,Object(c.a)({},r.id,r)))},TRIGGER_REVIEW_LIST_VISIBLE:function(e,t){e.reviewListVisible=t}},y={getPoiDetail:(v=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,_,f,v,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=n.poiId,c=n.redirect,e.prev=2,e.next=5,this.$axios.$get(l.a.getPoiDetail,{params:{poi_id:o},throwError:!0});case 5:f=e.sent,v=f.success,m=f.result,v&&m&&(h=m.page,r("SET_SECTION_List",null===(_=null===(d=h)||void 0===d?void 0:d.body)||void 0===_?void 0:_.sections),r("SET_BREADCRUMB",m.poi_area_info),r("SET_SHAREINFO",m.share_info)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),c&&c({name:"Error404"});case 14:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e,t){return v.apply(this,arguments)}),setReviewLiked:function(e,t){(0,e.commit)("SET_REVIEWS_LIKED",t)},getActivityReviews:(f=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,d,_,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=n.poi_id,c=n.page,e.prev=2,e.next=5,this.$axios.$get(l.a.getPoiReviewList,{params:{poi_id:o,page:c,limit:10},throwError:!0});case 5:if(d=e.sent,_=d.success,f=d.result,!_||!f){e.next=11;break}return r("SET_ACTIVITY_REVIEWS",f),e.abrupt("return",f);case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e,t){return f.apply(this,arguments)}),triggerReviewListVisible:function(e){var t=e.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t("TRIGGER_REVIEW_LIST_VISIBLE",n)}}},711:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return k})),n.d(t,"mutations",(function(){return E})),n.d(t,"actions",(function(){return S}));n(22),n(14),n(11),n(8),n(12);var r=n(13),o=n(0),c=(n(20),n(27),n(23),n(4)),l=n(71),d=n.n(l),_=n(157),f=n.n(_),v=n(3);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y,k=function(){return{status:"firstLoading",fromType:"",requestId:"",tagSearchNum:0,searchResult:{aggr_condition:{destinations:[],frontend_tree:[],sort:[],time:null,price:null,srv_option:null,nsw_option:null,yfq_option:null,gvq_option:null},relation_result:{cards:[],total:0},search_result:{cards:[],total:0},top_one_list:[]},filterData:{sort:"most_relevant",query:"",city_ids:"",frontend_ids:"",country_ids:"",start_time:"",price_from:"",price_to:"",instant:!1,nsw_option:!1,srv_option:!1,yfq_option:!1,gvq_option:!1}}},E={SET_REQUEST_ID:function(e,t){e.requestId=t},SET_TAG_SEARCH_NUMBER:function(e,t){e.tagSearchNum=t},SET_FROM_TYPE:function(e,t){e.fromType=t},SET_FILTER_DATA:function(e,t){e.filterData=t},SET_PAGE_STATUS:function(e,t){e.status=t},SET_AGGR_CONDITION:function(e,t){e.searchResult.aggr_condition=t},SET_RELATION_RESULT:function(e,t){e.searchResult.relation_result=t},SET_SEARCH_RESULT_CARDS:function(e,t){e.searchResult.search_result.cards=t},SET_SEARCH_RESULT_TOTAL:function(e,t){e.searchResult.search_result.total=t},SET_TOP_ONE_LIST:function(e,t){e.searchResult.top_one_list=t}},S={getSearchResult:(y=Object(c.a)(regeneratorRuntime.mark((function e(t,n){var o,c,l,_,m,y,k,E,S,T,O,w,x,A,C,I,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.commit,c=t.state,l=n.params,_=void 0===l?{}:l,m=n.loading_type,y=void 0===m?"":m,k=n.is_only_total,E=void 0!==k&&k,S=n.page_num,T=void 0===S?1:S,!["pageLoading","changeLoading"].includes(c.status)){e.next=4;break}return e.abrupt("return",!1);case 4:for(x in o("SET_PAGE_STATUS",y),O=d()(_),E&&(O=f()({},c.filterData,O),w=c.searchResult.aggr_condition.price,O.price_from===w.from+""&&O.price_to===w.to+""&&(delete O.price_from,delete O.price_to),O.sort=c.filterData.sort,O.query=c.filterData.query,O.country_ids=c.filterData.country_ids),O)O[x]||delete O[x];return O.start_time&&(O.start_time=O.start_time.substring(0,10)+"T00:00:00Z"),e.prev=9,A="",A="city"===c.fromType?"".concat(v.a.getSearchResult,"city_search"):"country"===c.fromType?"".concat(v.a.getSearchResult,"country_search"):"".concat(v.a.getSearchResult,"complete_search"),e.next=14,this.$axios.get(A,{params:h({},O,{page_num:T,page_size:10,is_only_total:E}),throwError:!0});case 14:if(!((C=e.sent)&&C.data&&C.data.success&&C.data.result)){e.next=21;break}return I=C.data.result,o("SET_PAGE_STATUS","success"),C.headers&&C.headers["x-klook-request-id"]&&o("SET_REQUEST_ID",C.headers["x-klook-request-id"]),I.search_result?(o("SET_TAG_SEARCH_NUMBER",I.search_result.total),E||(o("SET_SEARCH_RESULT_TOTAL",I.search_result.total),o("SET_AGGR_CONDITION",I.aggr_condition),o("SET_RELATION_RESULT",I.relation_result),o("SET_TOP_ONE_LIST",I.top_one_list),1===T?o("SET_SEARCH_RESULT_CARDS",I.search_result.cards):(j=[].concat(Object(r.a)(c.searchResult.search_result.cards),Object(r.a)(I.search_result.cards)),o("SET_SEARCH_RESULT_CARDS",j)))):(o("SET_AGGR_CONDITION",I.aggr_condition),o("SET_RELATION_RESULT",I.relation_result),o("SET_TOP_ONE_LIST",I.top_one_list)),e.abrupt("return",I);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(9),o("SET_PAGE_STATUS","error");case 26:case"end":return e.stop()}}),e,this,[[9,23]])}))),function(e,t){return y.apply(this,arguments)})}},712:function(e,t,n){"use strict";n.r(t),n.d(t,"state",(function(){return c})),n.d(t,"mutations",(function(){return l})),n.d(t,"actions",(function(){return d}));var r=n(0),o=n(3),c=function(){return{theme:{banner_info:"",description:"",title:"",items:[]}}},l=Object(r.a)({},"SET_THEME_DATA",(function(e,data){e.theme=data})),d={getThemePageData:function(e,t){var n=e.commit,r=t.theme_id,c=t.redirect;return r||c&&c({name:"Error404"}),this.$axios.$get(o.a.themepage,{params:{theme_id:r}}).then((function(e){e.success&&e.result?n("SET_THEME_DATA",e.result):c&&c({name:"Error404"})}))}}},713:function(e,t,n){"use strict";n.r(t);n(22),n(14),n(12),n(99),n(86),n(11),n(8),n(45),n(416);var r=n(74),o=n(13),c=(n(20),n(27),n(70),n(0)),l=(n(47),n(37),n(23),n(4)),d=n(162),_=n.n(d),f=n(10),v=n.n(f),m=n(95),h=n.n(m),y=n(131),k=n(2),E=n(64),S=n(16),T=n(3),O=n(272);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var A,C,I,j,P,R,D,L,N,U,M,H,G,$,B,F,K,V,Y,W,z,Q,J,X,Z,ee,te,ne,re=n(154),ie=null,ae=null,oe=null,ce=h.a.CancelToken,se={getBasicInfoAndAddonSchedules2action:(ne=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v,m,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,f=(null===(l=null===(c=""+(null===(o=n)||void 0===o?void 0:o.package_id))||void 0===c?void 0:c.split(","))||void 0===l?void 0:l.map((function(e){return Number(e)})))||[],v={showOverlay:!1},m=x({loading:(null===(d=n)||void 0===d?void 0:d.hideLoading)?void 0:v},null===(_=n)||void 0===_?void 0:_.apiConfig),e.prev=4,e.next=7,this.$axios.$get(T.a.experienceGetBasicInfoAndAddonSchedules,x({params:n},m));case 7:h=e.sent,f.forEach((function(e){var t=e,n=((h||{}).result||[]).find((function(e){return e.package_id===t}));r(k.SET_PKGS_BASIC_INFO,{params:{pid:t},res:x({},h,{result:n&&n.basic_info})}),r(k.SET_PKGS_ADDON_SCHEDULES_AND_UNITS,{params:{pid:t},res:x({},h,{result:n&&n.schedule})})})),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),f.forEach((function(e){var t=Number(e);r(k.SET_PKGS_BASIC_INFO,{params:{pid:t},res:x({},h,{result:null})}),r(k.SET_PKGS_ADDON_SCHEDULES_AND_UNITS,{params:{pid:t},res:x({},h,{result:null})})})),e.abrupt("return",{error:{message:""+e.t0}});case 15:return e.abrupt("return",h);case 16:case"end":return e.stop()}}),e,this,[[4,11]])}))),function(e,t){return ne.apply(this,arguments)}),getPreSettlementApiData:(te=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,d={showOverlay:!1},_=x({loading:(null===(o=n)||void 0===o?void 0:o.hideLoading)?void 0:d},null===(c=n)||void 0===c?void 0:c.apiConfig),r(k.SET_COMMON_LOADING_STATE,"fetching"),oe&&oe(),delete(v=x({},n)).pid,e.prev=7,e.next=10,this.$axios.$post(T.a.experiencePostPreSettlement,v,x({timeout:3e3},_,{cancelToken:new ce((function(e){oe=e}))}));case 10:f=e.sent,r(k.SET_PRE_SETTLEMENT_API_DATA,{params:n,res:f}),(null===(l=f)||void 0===l?void 0:l.success)?r(k.SET_COMMON_LOADING_STATE,"success"):r(k.SET_COMMON_LOADING_STATE,"failure"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),r(k.SET_COMMON_LOADING_STATE,"failure"),r(k.SET_PRE_SETTLEMENT_API_DATA,{params:n,res:null});case 19:return e.abrupt("return",f);case 20:case"end":return e.stop()}}),e,this,[[7,15]])}))),function(e,t){return te.apply(this,arguments)}),initialData2act:(ee=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.state,c=n.actDetail,l=n.isMergePackages,d=x({id:o.activityId,is_nsw_activity:o.isNswActivity,date_description:o.pickupDateDescription,is_jump_old_settlement:o.isJumpOldSettlement},c||{}),e.next=5,r(k.GET_ACTIVITY_DETAIL,x({},d,{isMergePackages:l}));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return ee.apply(this,arguments)}),initialData2pkg:(Z=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,(o=n.pkgDetail)&&(o.has_stocks=!0),m={id:null===(c=o)||void 0===c?void 0:c.activity_id,activity_name:null===(l=o)||void 0===l?void 0:l.activity_name,is_nsw_activity:null===(d=o)||void 0===d?void 0:d.is_nsw_activity,date_description:null===(_=o)||void 0===_?void 0:_.date_desc,is_jump_old_settlement:null===(f=o)||void 0===f?void 0:f.is_jump_old_settlement,packages:o?[o]:[],support_language:null===(v=o)||void 0===v?void 0:v.support_language},e.next=6,r("initialData",{activityDetail:m});case 6:case"end":return e.stop()}}),e)}))),function(e,t){return Z.apply(this,arguments)}),initialData:function(e,t){var n=e.commit,r=e.rootState,l=t.activityDetail,d=t.CMSGenericItem,f=t.preview;if(r.klook.utilConfig.is_guest_checkout){var v=l.packages,m=void 0===v?[]:v,h=l.spec,y=void 0===h?[]:h,S=l.best_package_id,T=[],O=[];l.packages=m&&m.filter((function(e){var t=[2,3].includes(e.db_voucher_usage);return t&&(T=T.concat(e.spec_attr_id||[]),O=O.concat(e.package_id)),!t})),y&&1===y.length&&(l.spec[0].attr=(y[0].attr||[]).filter((function(e){return!T.includes(e.id)}))),O.includes(S)&&(l.best_package_id="")}n(k.GET_ACTIVITY_DETAIL,x({},l)),n(k.CMS_AND_PREVIEW,{CMSGenericItem:d,preview:f});var w=r.klook.language,A=l.support_language||[],C=_()(E.c,(function(e,t,n){return x({},e,Object(c.a)({},t,n))}),{}),I=_()(A,(function(e,t){if("vi"===w&&"en"===t)return e;if("en"===w&&"vi"===t)return e;var n=C[t];return n?[].concat(Object(o.a)(e),[n]):e}),[]);f||n(k.SET_INITIAL_DATA,{supportLanguages:I},{root:!0})},getActivityDetail:(X=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,source,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.state,r=n.activityId,o=n.preview,source=n.source,c=Object(S.ob)(T.a.activityDetail,{activityId:r}),e.next=5,this.$axios.$get(c,{regularUrl:"/v1/usrcsrv/activity/{*}/detail",params:{preview:o?1:0,campaign_id:source,testing_4958:"Variant1",only_static:!0}});case 5:return l=e.sent,e.abrupt("return",l);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return X.apply(this,arguments)}),getPromotionDetail:(J=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f,m,h,y,E,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,r=t.commit,o=t.rootState,d=o.klook,!(null===(l=null===(c=d.utilConfig)||void 0===c?void 0:c.whiteLabelUtilConfig)||void 0===l?void 0:l.hide_merchandising_promotion)){e.next=5;break}return e.abrupt("return");case 5:if(_=n.packageId,f=n.packages,m=n.packageSelectedDate,!(h=f.find((function(e){return e.packageId===_})))||!h.needPromotionPrice){e.next=27;break}return y={package_id:_},m&&(y.date=m),e.prev=10,ie&&ie.cancel("cancel"),ie=this.$axios.CancelToken.source(),r(k.GET_PROMOTION_DETAIL,{status:"fetching"}),e.next=16,this.$axios.$get(T.a.activityPackagePromotion,{params:y,cancelToken:ie.token});case 16:E=e.sent,S=E.result,E.success&&!v()(S)?r(k.GET_PROMOTION_DETAIL,{status:"success",detail:S}):(r(k.CLEAR_PROMOTION_DETAIL),r(k.GET_PROMOTION_DETAIL,{status:"failure"})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(10),r(k.CLEAR_PROMOTION_DETAIL);case 25:e.next=28;break;case 27:r(k.CLEAR_PROMOTION_DETAIL);case 28:case"end":return e.stop()}}),e,this,[[10,22]])}))),function(e){return J.apply(this,arguments)}),getReviewsImageInfo:(Q=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=r.preview,c=r.activityId,e.next=4,this.$axios.$get(Object(S.ob)(T.a.activityReviewGallery,{activityId:c}),{params:{preview:o},regularUrl:"/v1/usrcsrv/activities/{*}/images/show"});case 4:l=e.sent,d=l.result,l.success&&!v()(d)&&(_=d.count,f=d.should_show,m=d.image_info,n(k.GET_REVIEW_IMAGES_INFO,{count:_,reviewGalleryShouldShow:f,imageInfo:m}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return Q.apply(this,arguments)}),getCards:(z=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=r.activityId,e.prev=2,e.next=5,this.$axios.$get(T.a.getActivityCards,{params:{activity_id:o},timeout:1e3});case 5:c=e.sent,l=c.result,c.success&&!v()(l)&&n(k.GET_ACTIVITY_CARDS,l),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e){return z.apply(this,arguments)}),getReviewsImages:(W=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,l,d,f,m,h,y,k,E,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,l=n.page,d=n.pageSize,f=void 0===d?10:d,m=r.activityId,e.next=5,this.$axios.$get(Object(S.ob)(T.a.activityReviewGalleryImages,{activityId:m}),{regularUrl:"/v1/usrcsrv/activities/{*}/images/get",params:{page:l,limit:f}});case 5:if(h=e.sent,y=h.result,!h.success||v()(y)){e.next=13;break}if(k=y.image_total_count,E=y.review_images_info,0!==k&&!v()(E)&&!v()(E)){e.next=11;break}return e.abrupt("return",{});case 11:return O=_()(E,(function(e,t){var n,r;return e.imageList=[].concat(Object(o.a)(e.imageList),Object(o.a)((r=null===(n=t)||void 0===n?void 0:n.images,null!=r?r:[]).map((function(img){return x({},img,{reviewId:t.review_id})})))),e.reviewsMap=x({},e.reviewsMap,Object(c.a)({},t.review_id,t)),e}),{imageList:[],reviewsMap:{}}),e.abrupt("return",{imageTotalCount:y.image_total_count,reviewsCount:y.reviews_count,reviewImagesInfo:y.review_images_info,imageList:O.imageList,reviewsMap:O.reviewsMap});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return W.apply(this,arguments)}),getPackageDetail:(Y=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,m,h,y,E,S,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,o=t.commit,d=r.preview,_=r.packageId,f=r.cachedPackageId,m=r.activityDetail,null!=(h=f||_)){e.next=5;break}return e.abrupt("return");case 5:if(o(k.GET_PACKAGE_DETAIL,{status:"fetching"}),y=null,l=null===(c=m)||void 0===c?void 0:c.basic_data,E=(null!=l?l:{}).is_line_page||!1,!d){e.next=15;break}return e.next=12,this.$axios.$get(T.a.activityPackageDetail,{params:{preview:d,translation:!!n,package_id_list:h,publish_status:"all",is_line_page:!1}});case 12:y=e.sent,e.next=18;break;case 15:return e.next=17,this.$axios.$get(T.a.activityPackageDetail,{params:{preview:d,translation:!!n,publish_status:"viewable",package_id_list:h,is_line_page:E}});case 17:y=e.sent;case 18:S=y.result,y.success&&!v()(S)?(O=S[0],o(k.GET_PACKAGE_DETAIL,{status:"success",detail:O}),o(k.KEEP_SOURCE_PACKAGE_DETAIL,O)):o(k.GET_PACKAGE_DETAIL,{status:"failure"});case 20:case"end":return e.stop()}}),e,this)}))),function(e,t){return Y.apply(this,arguments)}),selectPackage:(V=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.commit,o=t.dispatch,c=t.state,l=n.packageId,r(k.RESET_CACHED_PACKAGE_ID),r(k.SET_PACKAGE_ID,{packageId:l}),!l){e.next=15;break}if(d=c.packages,!(_=(d||[]).find((function(e){return e.packageId===l})))){e.next=13;break}return r(k.SET_ATTRIBUTES,_.specAttrIds),e.next=11,o("getPromotionDetail");case 11:return e.next=13,o("getPackageDetail");case 13:e.next=16;break;case 15:o("clearPackage");case 16:case"end":return e.stop()}}),e)}))),function(e,t){return V.apply(this,arguments)}),clearPackage:function(e){var t=e.commit;t(k.CLEAR_PACKAGE),t(k.CLEAR_PROMOTION_DETAIL)},clearPackageOptions:function(e){var t=e.commit;t(k.CLEAR_PACKAGE),t(k.CLEAR_PACKAGE_OPTIONS),t(k.CLEAR_PROMOTION_DETAIL),t(k.SET_PACKAGE_SELECTED_DATE,""),t(k.CLEAR_ALL_CLICK,!0)},getActivityReviews:(K=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,o=t.dispatch,e.next=3,o("fetchActivityReview",n);case 3:if(!(c=e.sent)||!c.result){e.next=8;break}return l=c.result,d=c.activityReviewsCancelToken,r(k.SET_ACTIVITY_REVIEWS,l),e.abrupt("return",x({},l,{activityReviewsCancelToken:d}));case 8:case"end":return e.stop()}}),e)}))),function(e,t){return K.apply(this,arguments)}),fetchActivityReview:(F=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c,l,d,_,f,m,h,y,k,E,S,O,w,A,C,I,j,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,o=n.page,c=void 0===o?1:o,l=n.pageSize,d=void 0===l?15:l,_=n.star_num,f=void 0===_?"":_,m=n.lang,h=void 0===m?"":m,y=n.sort_type,k=void 0===y?0:y,E=n.only_image,S=void 0!==E&&E,O=n.timeout,w=n.activityId,A=n.config,I=x({params:{page:c,limit:d,star_num:f,lang:h,sort_type:k,only_image:S,activity_id:w||r.activityId}},A),ae=this.$axios.CancelToken.source(),O&&(I.timeout=O),I.cancelToken=null===(C=ae)||void 0===C?void 0:C.token,e.prev=6,e.next=9,this.$axios.$get(T.a.getActivityReviewsList,I);case 9:if(j=e.sent,P=j.result,!j.success||v()(P)){e.next=13;break}return e.abrupt("return",{result:P,activityReviewsCancelToken:ae});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(6);case 17:case"end":return e.stop()}}),e,this,[[6,15]])}))),function(e,t){return F.apply(this,arguments)}),fetchActivityReviewsList:(B=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var o,c,l,d,_,f,v,m,h,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.dispatch,c=n.pageSize,l=Object(r.a)(n,["pageSize"]),d=Math.floor(c/100),_=c%100,f=new Array(d).fill(100).concat(_).filter((function(e){return e})),v=f.map((function(e,t){return o("fetchActivityReview",x({page:t+1,pageSize:e},l))})),e.next=9,Promise.all(v);case 9:if((m=e.sent)&&m.length){e.next=12;break}return e.abrupt("return");case 12:if(h=-1,y=m.reduce((function(e,t){var n;if(!t)return e;var r=t.result;return h<0&&(h=null===(n=r)||void 0===n?void 0:n.total),r&&r.item?e.concat(r.item):e}),[]),!(h>-1)){e.next=16;break}return e.abrupt("return",{total:h,item:y||[]});case 16:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)}),replaceActivityReviews:($=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,o=t.commit,e.next=3,r("fetchActivityReviewsList",n);case 3:if(!(c=e.sent)){e.next=8;break}return o(k.CLEAR_REVIEW_LIST),o(k.SET_ACTIVITY_REVIEWS,c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return $.apply(this,arguments)}),getSchedules:(G=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,o=r.preview,c=r.activityId,n(k.GET_PACKAGE_SCHEDULE,{status:"fetching"}),e.next=5,this.$axios.$get(Object(S.ob)(T.a.activitySchedules,{activityId:c}),{params:{preview:o},regularUrl:"/v1/usrcsrv/activity/{*}/schedules"});case 5:return l=e.sent,d=l.result,l.success&&!v()(d)?(_=d.schedules,n(k.GET_PACKAGE_SCHEDULE,{schedules:_,status:"success"})):n(k.GET_PACKAGE_SCHEDULE,{status:"failure"}),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return G.apply(this,arguments)}),getPriceSchedules:(H=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f,m,h,y,E,S,O,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,f=r.preview,m=void 0===f?0:f,h=r.activityId,y=r.salesChannels,E=void 0===y?0:y,S=r.activityDetail,null==(l=null===(c=null===(o=S)||void 0===o?void 0:o.basic_data)||void 0===c?void 0:c.is_line_page)||!l){e.next=5;break}return e.abrupt("return");case 5:return n(k.GET_PRICE_PACKAGE_SCHEDULE,{status:"fetching"}),e.prev=6,e.next=9,this.$axios.$get(T.a.activityPriceSchedules,{params:{preview:m,activity_id:h,sales_channel:E}});case 9:O=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),n(k.GET_PRICE_PACKAGE_SCHEDULE,{status:"failure"});case 15:return(null===(d=O)||void 0===d?void 0:d.success)&&!v()(null===(_=O)||void 0===_?void 0:_.result)?(w=O.result.schedules,n(k.GET_PRICE_PACKAGE_SCHEDULE,{schedules:w,status:"success"})):n(k.GET_PRICE_PACKAGE_SCHEDULE,{status:"failure"}),e.abrupt("return",O);case 17:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e){return H.apply(this,arguments)}),getPackagePriceSchedule:(M=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d,_,f,m,h,y,E,S,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.dispatch,o=t.state,c=t.getters,l=t.rootState,d=o.packageId,_=o.preview,f=o.selectedTime.arrangementId,m=c.isNewOpenTicket,d){e.next=5;break}return e.abrupt("return");case 5:if(n(k.SET_PRICE_PACKAGE_SCHEDULE_STATE,"fetching"),!(h=o.packagePriceSchedulesMap[d])){e.next=12;break}return f||"desktop"!==l.klook.platform||v()(h.units)||n(k.SET_PACKAGE_UNITMAP,{prices:h.units}),m&&r("autoSetFeasibleDate"),n(k.SET_PRICE_PACKAGE_SCHEDULE_STATE,"success"),e.abrupt("return",!0);case 12:return e.next=14,this.$axios.$get(T.a.getPackagePriceSchedulesAndUnits,{params:{package_id:d,preview:_}});case 14:if(y=e.sent,E=y.result,!y.success||v()(E)||v()(E.schedules)){e.next=23;break}return S=E.schedules,O=E.units,n(k.SET_PRICE_PACKAGE_SCHEDULE,{packageId:d,schedules:S,units:O}),"desktop"!==l.klook.platform||v()(O)||n(k.SET_PACKAGE_UNITMAP,{prices:O}),m&&r("autoSetFeasibleDate"),n(k.SET_PRICE_PACKAGE_SCHEDULE_STATE,"success"),e.abrupt("return",!0);case 23:return n(k.SET_PRICE_PACKAGE_SCHEDULE_STATE,"failure"),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)}),autoSetFeasibleDate:function(e){var t,n=e.commit,r=e.getters,o=e.state,c=o.packageSelectedDate,l=o.routeName,d=r.currentSelectedPackage,_=r.packagePriceSchedules,f=d.auto_select_first_date,v=Object(y.cloneDeep)(_||[]);_=f?v:v.reverse();var m=function(e){return!!e.stock&&e.stock>=d.minPax};if("ActivityBookOptions"===l&&c&&((null===(t=_.find((function(e){return e.date===c})))||void 0===t?void 0:t.time_slots)||[]).some(m))return;var h=_.find((function(e){return(e.time_slots||[]).some(m)}));n(k.SET_PACKAGE_SELECTED_DATE,h?h.date:"")},setSelectedDate:function(e,t){(0,e.commit)(k.SET_PACKAGE_SELECTED_DATE,t)},setDefaultPackageSelectedDate:function(e){var t=e.dispatch,n=e.getters.packagePriceSchedules;n&&n.length&&t("setPackageSelectedDate",n[0].date)},setValuablePackageSelectedDate:function(e){var t=e.dispatch,n=e.getters.packagePriceSchedules;if(n&&n.length){var r=n.find((function(e){return(e.time_slots||[]).find((function(slot){return slot.stock}))}));r&&t("setPackageSelectedDate",r.date)}},setPackageSelectedDate:(U=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t.dispatch)("setSelectedDate",n),r("packageSelectedDateChange"),e.next=5,r("getPromotionDetail");case 5:case"end":return e.stop()}}),e)}))),function(e,t){return U.apply(this,arguments)}),packageSelectedDateChange:function(e){var t=e.dispatch,n=e.state,r=e.getters,o=n.packageId;n.packageSelectedDate&&(r.packagesInDate.find((function(e){return e.packageId===o}))||t("setChosenAttributeIds",{isSyncPackageId:!0,attrs:[]}))},setPackageTime:function(e,data){var t=e.commit,n=e.getters.currentSelectedPackage.maxPax;t(k.SET_PACKAGE_TIME,x({},data,{maxPax:n}))},fetchPackageUnits:(N=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,o=r.selectedTime.arrangementId){e.next=4;break}return e.abrupt("return",{success:!1});case 4:return e.next=6,this.$axios.$get(Object(S.ob)(T.a.getPackageUnits,{arrangementId:o}),{regularUrl:"/v1/usrcsrv/arrangements/{*}/units"});case 6:if(c=e.sent,l=c.result,!c.success||v()(l)||v()(l.prices)||v()(l.inventories)){e.next=11;break}return n(k.SET_PACKAGE_UNITMAP,x({},l,{arrangementId:o})),e.abrupt("return",x({},c,{success:!0}));case 11:return e.abrupt("return",{success:!1});case 12:case"end":return e.stop()}}),e,this)}))),function(e){return N.apply(this,arguments)}),addUnit:function(e,t){(0,e.commit)(k.CHANGE_UNIT_COUNT,{priceId:t,type:"add"})},minusUnit:function(e,t){(0,e.commit)(k.CHANGE_UNIT_COUNT,{priceId:t,type:"minus"})},setChosenAttributeIds:function(e,t){var n=e.commit,r=e.state,c=e.getters,l=e.dispatch,d=t.attrs,_=t.isSyncPackageId,f=void 0===_||_,v=r.specList,m=r.packages,h=r.packageId,y=v.reduce((function(e,t){var n=t.attrs;return n&&1===n.length?[].concat(Object(o.a)(e),[n[0].id]):e}),[]),E=Array.from(new Set([].concat(Object(o.a)(d),Object(o.a)(y))));n(k.SET_ATTRIBUTES,E);var S=null;if(c.isAttrsSelectedAll&&E.length===v.length){var T=m.find((function(e){var t=e.specAttrIds;return Object(o.a)(t).sort().join(",")===Object(o.a)(E).sort().join(",")}));T&&T.packageId!==h&&(S=T.packageId)}f?l("selectPackage",{packageId:S}):(n(k.SET_CACHED_PACKAGE_ID,{packageId:S}),S&&l("getPackageDetail"))},flushCachedPackageId:(L=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,o=t.dispatch,c=r.packageId,l=r.cachedPackageId,d=r.cachedShouldResetPackageSelectedDate,!l||l===c){e.next=7;break}return d&&n(k.SET_PACKAGE_SELECTED_DATE,""),e.next=6,o("selectPackage",{packageId:l});case 6:n(k.RESET_CACHED_PACKAGE);case 7:case"end":return e.stop()}}),e)}))),function(e){return L.apply(this,arguments)}),resetCachedPackageId:(D=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commit,r=t.state,o=t.dispatch,c=r.packageId,l=r.cachedPackageId,n(k.RESET_CACHED_PACKAGE),l===c){e.next=6;break}return e.next=6,o("selectPackage",{packageId:c});case 6:case"end":return e.stop()}}),e)}))),function(e){return D.apply(this,arguments)}),attributesChange:function(e,t){var n=e.commit,r=e.state,c=e.dispatch,l=t.attr,d=t.spec,_=t.isSyncPackageId,f=void 0===_||_,v=l.id,m=l.isScheduleMatch,h=l.isPackageMatch,y=r.chosenIds,E=[],S=!1;if(m&&h){var T=y.filter((function(e){return!d.attrs.find((function(t){return t.id===e}))}));E=[].concat(Object(o.a)(T),[v])}else E=[v],m||(f?n(k.SET_PACKAGE_SELECTED_DATE,""):S=!0);f||n("SET_CACHED_SHOULD_RESET_DATE",S),c("setChosenAttributeIds",{isSyncPackageId:f,attrs:E})},getActivityFaq:(R=Object(l.a)(regeneratorRuntime.mark((function e(t){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.commit,o=t.state,e.next=3,n("getCMSGenericItemList",{type:re.types.TYPE_ACTIVITY_HELP_CONTENT,options:{type_id:o.activityId}},{root:!0});case 3:if(c=e.sent,!v()(c)&&!v()(c.qa_list)){e.next=6;break}return e.abrupt("return",[]);case 6:l=c.qa_list.map((function(e){return e.question&&e.answer?"## "+e.question+" \n\n "+e.answer:""})).join("\n\n"),d=Object(O.a)(l),r(k.GET_ACTIVITY_FAQ,d);case 9:case"end":return e.stop()}}),e)}))),function(e){return R.apply(this,arguments)}),getActivityPreInfo:(P=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.state,o=n.activityId,e.prev=2,e.next=5,this.$axios.$get(T.a.activityRedirectInfo,{params:{activity_id:o||r.activityId},timeout:2e3});case 5:if(!(c=e.sent).success||!c.result){e.next=8;break}return e.abrupt("return",c.result);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,this,[[2,10]])}))),function(e,t){return P.apply(this,arguments)}),resetBookingOptions:(j=Object(l.a)(regeneratorRuntime.mark((function e(t,data){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=data.packageId,o=data.packageSelectedDate,e.next=4,n("selectPackage",{packageId:r});case 4:n("setPackageSelectedDate",o);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return j.apply(this,arguments)}),getPresalePackages:(I=Object(l.a)(regeneratorRuntime.mark((function e(t,n){var r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,this.$axios.$get(T.a.getPresalePackages,{params:{activity_id:n}});case 3:(o=e.sent).success&&!v()(o.result)&&(c=o.result.packages,r(k.SET_PRESALE_PACKAGES,(c||[]).map((function(e){return{isSupportPresale:e.is_support_presale,packageId:e.package_id,presaleDate:e.presale_date,presaleDay:e.presale_day}}))));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return I.apply(this,arguments)}),getReopenActivity:(C=Object(l.a)(regeneratorRuntime.mark((function e(t,data){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,this.$axios.$post(T.a.updateReopen,data);case 3:if(!(r=e.sent).success){e.next=8;break}return n(k.SET_REOPEN_MODAL_VISIBLE,!1),n(k.SET_REOPEN_REMIND,r.result.reopen_notice),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return C.apply(this,arguments)}),setActivityInstant:function(e,t){(0,e.commit)(k.SET_ACTIVITY_INSTANT,t)},setReviewLiked:function(e,t){(0,e.commit)(k.SET_REVIEWS_LIKED,t)},triggerReviewListVisible:function(e){var t=e.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t(k.TRIGGER_REVIEW_LIST_VISIBLE,n)},triggerActivityFaqVisible:function(e){var t=e.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t(k.ACTIVITY_FAQ_VISIBLE,n)},updateActivityDetail:function(e,data){var t=e.commit;t(k.SAVE_ACTIVITY_TRANSLATE,data),t(k.GET_ACTIVITY_DETAIL,x({},data))},updatePackageDetail:function(e,data){var t=e.commit;t(k.SAVE_PACKAGE_TRANSLATE,data),t(k.GET_PACKAGE_DETAIL,{status:"success",detail:data})},changeTranslateStatus:function(e,data){(0,e.commit)(k.CHANGE_TRANSLATE_STATUS,data)},saveActivityTranslate:function(e,data){(0,e.commit)(k.SAVE_ACTIVITY_TRANSLATE,data)},savePackageTranslate:function(e,data){(0,e.commit)(k.SAVE_PACKAGE_TRANSLATE,data)},getShoppingCartList:(A=Object(l.a)(regeneratorRuntime.mark((function e(t,data){var n,r,o,c,l,d,_,f,i,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.next=3,this.$axios.$get(T.a.shoppingCartList);case 3:if(!((o=e.sent)&&o.success&&o.result)){e.next=26;break}if(c=o.result.group,n(k.SET_MODIFICATION_SHOPPING_CART),!(l=data.shopId)||!c){e.next=26;break}if(d=null,c.find((function(e){return!!(d=e.items.find((function(e){return e.shoppingcart_id===Number(l)})))})),d){e.next=13;break}return e.abrupt("return",0);case 13:if(_=d.package_id,f=r.packages.find((function(e){return e.packageId===_}))){e.next=17;break}return e.abrupt("return",0);case 17:i=0;case 18:if(!(i<d.main_package_specs.length)){e.next=25;break}if(v=d.main_package_specs[i],f.specAttrIds.includes(v.attr_id)){e.next=22;break}return e.abrupt("return",0);case 22:i++,e.next=18;break;case 25:return e.abrupt("return",_);case 26:case"end":return e.stop()}}),e,this)}))),function(e,t){return A.apply(this,arguments)}),setRouteName:function(e,t){(0,e.commit)(k.SET_ROUTE_NAME,t)},changeScheduleMode:function(e,data){(0,e.commit)(k.CHANGE_SCHEDULE_MODE,data)}};t.default=se},746:function(e,t,n){"use strict";n.r(t);n(22),n(61),n(14),n(99),n(45),n(86),n(135),n(11),n(8),n(12),n(70);var r=n(0),o=n(13),c=(n(20),n(27),n(47),n(10)),l=n.n(c),d=n(7),_=n.n(d),f=n(16);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={getPkgPreSettlementTips2getters:function(e){return function(t){var n,r;return null===(r=null===(n=e.pkgsPrePriceApiData[t])||void 0===n?void 0:n.result)||void 0===r?void 0:r.tips}},preSettlementTips2getters:function(e){var t,n;return null===(n=null===(t=e.preSettlementApiData)||void 0===t?void 0:t.result)||void 0===n?void 0:n.tips},breadcrumbDetail:function(e){return["countryName","templateName","mainTagName","indexName","cityName","langPath","countryId","cityId","countrySeoUrl","templateId","mainTagId","citySeo","isCityPublish","isCountryPublish","frontendTree"].reduce((function(t,n){return t[n]=e[n],t}),{})},headBannerImage:function(e){var t=e.actBannerV2List;return l()(t)?{}:t[0]},merchatImageAmount:function(e){var t=e.actBannerV2List;return l()(t)?0:t.length},headInfo:function(e){var t=e.score,n=e.reviewCount,r=e.participantsFormat;return{score:t>0?parseFloat(String(t)).toFixed(1):"",reviewCount:Number(n)>0?Object(f.w)(n):"",participantsFormat:r}},editorChoice:function(e){return e.cardTags.editorChoice},packageSelectedDate:function(e){return e.packageSelectedDate},hasSelectedAllAttrs:function(e){var t,n,r,o=e.specList,c=e.chosenIds;return(null===(t=c)||void 0===t?void 0:t.length)&&(null===(n=c)||void 0===n?void 0:n.length)===(null===(r=o)||void 0===r?void 0:r.length)},isPublished:function(e){return e.isCurrentLangPublish&&(e.published||e.preview)},isSoldOut:function(e){var t=e.packages;return l()(t)||t.every((function(e){return!e.hasStocks}))},isCrosellBannerVisible:function(e,t){var n=t.isPublished,r=t.isSoldOut,o=e.crosellBanner;return n&&!r&&!!o},isShowPromotionDetail:function(e){var t=e.promotionDetail.promotion_event||{};return 4===t.status||5===t.status},isInPromotion:function(e,t,n){var r=e.promotionDetail.promotion_event||{},o="mobile"===n.klook.platform?"mweb":"web",c=r.platforms||[];return 5===r.status&&c.includes(o)},isSingleSpecWithDiscount:function(e){var t=e.havePackageDiscount,n=e.specList;return t&&1===n.length},isMultiSpecWithDiscount:function(e){var t=e.havePackageDiscount,n=e.specList;return t&&n.length>1},isGlobalShowMarketPrice:function(){return!0},validPackages:function(e){return e.packages.filter((function(e){return e.hasStocks}))},singleAttrPackages:function(e){return e.packages.filter((function(e){return 1===e.specAttrIds.length}))},validPackageAttrIds:function(e,t){return t.validPackages.reduce((function(t,n){var c=n.specAttrIds,l=void 0===c?[]:c;return Object(f.L)(l).reduce((function(t,c){var l=Object(o.a)(c).sort().join(","),d=c.length===e.specList.length;return m({},t,Object(r.a)({},l,!d||n))}),t)}),{})},currentSelectedPackage:function(e){var t=e.packageId,n=e.packages;return null!=t&&n.find((function(e){return e.packageId===t}))||{}},validSchedules:function(e){var t=e.schedules;return Object(o.a)(Object.keys(t)).sort((function(a,b){return _()(a).diff(_()(b))})).filter((function(e){var n=t[e];return!!n&&Object.values(n).reduce((function(e,t){return e+t}),0)})).reduce((function(e,n){return m({},e,Object(r.a)({},n,t[n]))}),{})},totalUnitCount:function(e){var t=e.selectedTime.arrangementId,n=e.unitsMap;if(!t)return 0;var r=n[t];return r?r.unitList.reduce((function(e,t){return e+t.count}),0):0},units:function(e,t){var n=e.selectedTime,r=n.arrangementId,o=n.maxPurchased,c=e.unitsMap,l=t.totalUnitCount;if(!r)return c.default&&c.default.unitList||[];var d=c[r];return d?d.unitList.map((function(e){return m({},e,{minCount:e.required?e.priceMinPax:0,maxCount:Math.min(e.priceMaxPax,o-(l-e.count))})})):void 0},inventories:function(e){var t=e.selectedTime.arrangementId,n=e.unitsMap;if(t){var r=n[t];if(r)return r.inventories}return{}},packageSchedules:function(e){var t=e.packageId,n=e.packageSchedulesMap;return t&&n[t]||[]},priceSchedulesObj:function(e){return e.priceSchedules.reduce((function(e,t){return m({},e,Object(r.a)({},t.date,t))}),{})},selectedPackagePriceSchedule:function(e,t){var n=e.packageSelectedDate;return t.packagePriceSchedulesObj[n]},packagePriceSchedulesObj:function(e,t){return t.packagePriceSchedules.reduce((function(e,t){return m({},e,Object(r.a)({},t.date,t))}),{})},packagePriceSchedules:function(e){var t=e.packageId,n=e.packagePriceSchedulesMap;return t&&n[t]?n[t].schedules:[]},packageSchedulesFormatInDay:function(e){var t=e.packageId,n=e.packageSchedulesFormatInDayMap;return t&&n[t]||{}},soldoutSchedules:function(e,t){var n=e.packageId,o=e.schedules,c=t.packageSchedulesFormatInDay,d=t.currentSelectedPackage;return Object.keys(o).reduce((function(e,t){if(n){var _=[];if(c[t]&&(_=_.concat(c[t])),l()(_))return m({},e,Object(r.a)({},t,!1));var f=_.reduce((function(e,t){return e+t.stock}),0);return m({},e,Object(r.a)({},t,0===f||f<(d||{}).minPax))}var v=o[t];if(void 0!==v){for(var h in v){if(0!==v[h])return m({},e,Object(r.a)({},t,!1))}return m({},e,Object(r.a)({},t,!1))}return m({},e,Object(r.a)({},t,!1))}),{})},activitySoldOutSchedules:function(e){var t=e.schedules,n={};return Object.keys(t).forEach((function(e){var r=0;for(var o in t[e])r+=t[e][o];n[e]=r<=0})),n},activitySpecList:function(e,t){var n=e.specList,r=e.chosenIds,c=e.packageSelectedDate,l=t.validPackageAttrIds,d=t.packagesInDate,_=t.singleAttrPackages,f=t.isSingleSpecWithDiscount,v=t.isNewOpenTicket;return n.map((function(e){return m({},e,{attrs:e.attrs.map((function(t){var n=t.id,h=r.filter((function(t){return!e.attrs.find((function(e){return e.id===t}))})),y=Array.from(new Set(h).add(n)).sort().join(","),k=!(!v&&c)||d.find((function(e){return e.specAttrIds.includes(n)})),E=0;if(f){var S=_.find((function(e){return e.specAttrIds.includes(n)}));E=S?S.promotionDiscount:0}var T=d.some((function(e){return[].concat(Object(o.a)(h),[n]).every((function(t){return e.specAttrIds.includes(t)}))}));return m({},t,{promotionDiscount:E,isPackageMatch:l[y]&&(v||T),isScheduleMatch:k,isActive:r.includes(t.id)})}))})}))},isAttrsSelectedAll:function(e){var t=e.specList,n=e.chosenIds;return t.length===n.length},packagesInDate:function(e,t){var n=e.packageSelectedDate,r=e.routeName,o=t.priceSchedulesObj,c=t.validPackages;if(!n)return c;var l=o[n];return l?"ActivityBookOptions"===r?c:c.filter((function(e){var t=l.stocks;if(!t)return!1;var n=t.find((function(t){return t.package_id===e.packageId}));return!!n&&n.stock>0})):[]},validBookInfo:function(e){var t=e.activityBookInfo,n=[],r=!0,c=!1,d=void 0;try{for(var _,f=t[Symbol.iterator]();!(r=(_=f.next()).done);r=!0){var v=_.value,m=v.additional;if(m){var h=m.filter((function(e){return e.data}));l()(h)||(n=[].concat(Object(o.a)(n),[{additional:h}]))}else n=n.concat(v.data?v:[])}}catch(e){c=!0,d=e}finally{try{r||null==f.return||f.return()}finally{if(c)throw d}}return n},bookInfoVisible:function(e,t){var n=t.validBookInfo;return!l()(n)},isNoWatermarkActivity:function(e){return e.isNoWatermarkActivity},bookingStartDate:function(e){var t=e.packages,n=Object(o.a)(t).sort((function(a,b){return _()(a.availableDate).isBefore(b.availableDate)?-1:1}));return n[0]&&n[0].availableDate},isPresale:function(e){var t=e.templateId,n=e.packageSelectedDate,r=e.packageId,o=(e.presalePackages||[]).filter((function(e){return e.isSupportPresale}));if(5===t&&n&&r&&!l()(o)){var c=o.find((function(e){return e.packageId===r}));if(c)return _()(c.presaleDate).isBefore(_()(n))}return!1},isNewOpenTicket:function(e,t){var n=e.activityTicketType,r=e.routeName,o=t.currentSelectedPackage;return["ActivityBookOptions","ExperienceActivityBookOptions"].includes(r)?3===o.packageTicketType:3===n},isYiFunVoucher:function(e){var t;return!!(null===(t=e.tagsInfo)||void 0===t?void 0:t.find((function(e){return"yifun_voucher"===e.tag_key})))}};t.default=h},747:function(e,t,n){"use strict";n.r(t);n(22),n(14),n(12),n(11),n(8),n(99),n(45),n(86);var r,o=n(13),c=(n(20),n(27),n(47),n(30),n(70),n(0)),l=(n(28),n(71)),d=n.n(l),_=n(79),f=n.n(_),v=n(10),m=n.n(v),h=n(7),y=n.n(h),k=n(2);function E(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T=(r={},Object(c.a)(r,k.SET_PKGS_ADDON_SKU,(function(e,data){var t=data||{},n=t.params,r=t.res,o=(n||{}).pid;if(o){var c=d()(e.pkgsAddonSku);c[o]=r,e.pkgsAddonSku=c}})),Object(c.a)(r,k.SET_PKGS_ADDON_SCHEDULES_AND_UNITS,(function(e,data){var t=data||{},n=t.params,r=t.res,o=(n||{}).pid;if(o){var c=d()(e.pkgsAddonSchedulesAndUnits);c[o]=r,e.pkgsAddonSchedulesAndUnits=c}})),Object(c.a)(r,k.SET_PKGS_BASIC_INFO,(function(e,data){var t=data||{},n=t.params,r=t.res,o=(n||{}).pid;if(o){var c=d()(e.pkgsBasicInfo);c[o]=r,e.pkgsBasicInfo=c}})),Object(c.a)(r,k.SET_COMMON_LOADING_STATE,(function(e,data){e.commonLoadingState=data})),Object(c.a)(r,k.SET_TAG_FILTER_LIST,(function(e,data){e.tagFilter2state.list=data})),Object(c.a)(r,k.SET_TAG_FILTER_VALUE,(function(e,data){e.tagFilter2state.value=data})),Object(c.a)(r,k.SET_PRE_SETTLEMENT_API_DATA,(function(e,data){var t=data||{},n=t.params,r=t.res;e.preSettlementApiData=r;var o=(n||{}).pid;if(o){var c=d()(e.pkgsPrePriceApiData);c[o]=r,e.pkgsPrePriceApiData=c}})),Object(c.a)(r,k.SET_EXPERIENCES_ABTEST,(function(e,data){e.useAbTestMobilePage=data})),Object(c.a)(r,k.SET_ACTIVITY_INFO,(function(e,t){var n=t.activityId,r=t.preview,source=t.source;e.activityId=n,e.preview=r,e.source=source})),Object(c.a)(r,k.GET_ACTIVITY_DETAIL,(function(e,data){var t,n,r,o;e.useSection=data.use_section,e.sectionContent=data.section_content,e.activityId=data.id,e.activityName=data.activity_name||e.activityName,e.instant=data.instant,e.isCurrentLangPublish=data.is_current_lang_publish||!1,e.published=data.published,e.countryId=data.country_id,e.countryName=data.country_name,e.seoUrl=data.seo_url,e.countrySeoUrl=data.country_seo_url,e.cityId=data.city_id,e.cityName=data.city_name,e.citySeo=data.city_seo,e.templateId=data.template_id,e.address=data.address,e.videoUrl=data.video_url,e.mainTagName=data.main_tag_name,e.mainTagId=data.main_tag_id,e.templateName=data.template_name,e.bannerImage=null===(n=null===(t=data)||void 0===t?void 0:t.banner_url)||void 0===n?void 0:n.replace(/(.jpg|.jpeg|.png)$/i,""),e.lastUpdatedTime=data.last_updated_time,e.title=data.title,e.subtitle=data.subtitle,e.frontendTree=data.frontend_tree||[];var c=data.share_activity||{};e.shareActivity={title:c.title,subTitle:c.sub_title,image:c.image,url:c.url},e.favorite=data.favorite;var l=data.latest_best_review;e.latestBestReview=l&&{id:l.id,avatar:l.avatar,author:l.author,date:l.date,rating:l.rating,content:l.content,packageName:l.package_name,needTranslateButton:l.need_translate_button,translateContent:l.translate_content,reviewImage:l.review_image&&l.review_image.map((function(e){return{imageId:e.image_id,imgUrl:e.img_url,imgResizeUrl:e.img_resize_url}})),hasReply:l.has_reply,reply:l.reply?{content:l.reply.content,translateContent:l.reply.translate_content}:{}},e.reviewCount=data.review_count,e.participate=data.participate,e.sellingPrice=data.selling_price,e.marketPrice=data.market_price,e.score=data.score,e.participantsFormat=data.participants_format,e.bestPriceGuarantee=data.best_price_guarantee,e.activityCancellationType=data.activity_cancellation_type,e.actBannerV2List=m()(data.act_banner_v_2_list)?[]:data.act_banner_v_2_list.map((function(e){return{prefix:e.prefix,preProcess:e.pre_process,suffix:e.suffix,imageDesc:e.image_desc}})),e.discount=data.discount;var _=data.seo||{};e.seo=S({},_,{topKeywords:_.top_keywords}),e.multiLanguageIcons=m()(data.multi_language_icons)?[]:data.multi_language_icons.map((function(e){return{iconKey:e.icon_key,iconDesc:e.icon_desc}})),data.use_section&&(e.multiLanguageIcons=m()(data.section_content.icons)?[]:data.section_content.icons.map((function(e){return{iconType:e.icon_key,iconUrl:e.icon_url,iconDesc:e.icon_desc}})));var v=data.card_tags||{};e.cardTags={percentageOff:v.percentage_off,percentageTag:v.promotion_tag,skipTheLine:v.skip_the_line,newActivity:v.new_activity,bestseller:v.bestseller,editorChoice:v.editor_choice},e.summaryRenderObj=data.use_section?data.section_content.highlight_render_obj:data.summary_render_obj;var h=[],y=(data.packages||[]).map((function(e){return h.push(e.package_id),S({},e,{price_show:e.price_show,has_discount:e.has_discount,redeem_status:e.redeem_status,product_tags:e.product_tags,specInfoList:e.spec_info||[],openDateTip:e.usage_validity_tips,auto_select_first_date:e.auto_select_first_date,usageValidity:e.usage_validity_render_obj,hasStocks:e.has_stocks,packageId:e.package_id,specAttrIds:e.spec_attr_id||[],sellPrice:e.sell_price,marketPrice:e.market_price,credits:e.credits,maxPax:e.max_pax,minPax:e.min_pax,isOpenTicket:e.is_open_ticket,discountDesc:e.discount_desc,availableDate:e.available_date,from_price:e.from_price,to_price:e.to_price,promotionDiscount:e.promotion?e.promotion.discount:0,needPromotionPrice:!!e.promotion&&e.promotion.need_promotion_price,iconList:e.icon_list,packageName:e.package_name,packageSubName:e.sub_name||"",packageOption:e.package_option||"",packageTicketType:e.package_ticket_type,reminder:e.reminder})}));if(null===(r=data)||void 0===r?void 0:r.isMergePackages){var k=d()(e.packages||[]);e.packages=y.map((function(e){return S({},k.find((function(t){return t.packageId===e.packageId}))||{},{},e)}))}else e.packages=y;e.packageIdList=h,e.specList=(data.spec||[]).map((function(e){return{id:e.id,textType:e.text_type,name:e.name,attrs:(e.attr||[]).map((function(e){return{id:e.id,name:e.name,tips:e.tips,tipsRenderObj:e.tips_render_obj}}))}}));var E=data.heading_editable||{};if(e.headingEditable={packageOptions:E.package_options,reviews:E.reviews,bookingInformation:E.booking_information,whatToExpect:E.what_to_expect,faqs:E.faqs,mostRecentReview:E.most_recent_review},e.fastEntryList=(data.fast_entry_list||[]).map((function(e){return S({},e,{entryType:e.entry_type,subTitle:e.sub_title})})),e.bestPackageId=data.best_package_id,e.pickupDateDescription=data.date_description,e.topActivities=data.top_activities?data.top_activities.slice(0,3):null,e.otherFaq=(data.covid_faq||[]).concat(data.seo_faq||[]),e.whatWeLoveRenderObj=data.what_we_love_render_obj,e.reopen=data.reopen,e.activitySeoLink=data.seo_static_link?data.seo_static_link.map((function(e){return{heading:e.heading,linking:e.linking,isShowMore:!1}})):[],e.activityBookInfo=[{type:"activityConfirmationDetail",title:"activity.v2.label.actinfo.confirmation",data:data.confirmation_details_render_obj},{type:"activityInclusiveOf",title:"activity.v2.label.actinfo.inclusive_of",data:data.inclusive_of_render_obj},{type:"activityNotInclusiveOf",title:"activity.v2.label.actinfo.not_inclusive_of",data:data.not_inclusive_of_render_obj},{type:"activityPackageOptions",title:"activity.v2.label.actinfo.package_option",data:data.package_options_render_obj},{type:"activityItinerary",title:"activity.v2.label.actinfo.itinerary",data:data.itinerary_render_obj},{additional:[{type:"activityInsiderTips",title:"activity.v2.label.actinfo.insider_tips",data:data.insider_tips_render_obj},{type:"activityAdditionalInformation",title:"activity.v2.label.actinfo.addtional_infomation",data:data.additional_information_render_obj}]}],e.mapBoxImageUrl=data.map_box_image_url,data.image_item){var T=data.image_item,O=T.act_images,w=T.hide_water_mark;e.descriptionImages=O&&O.map((function(e){return{url:e.image_url,desc:e.image_desc,alt:e.image_alt,width:e.width,height:e.height}})),e.isNoWatermarkActivity=!!w}if(data.srv_info){var x=data.srv_info,title=x.srv_title,A=x.srv_content_render_markdown_obj;e.srvInfo={srvTitle:title,srvContentObj:A}}data.eligibility_hint&&(e.eligibilityHint={title:data.eligibility_hint.title,icon:data.eligibility_hint.icon,titleColor:data.eligibility_hint.title_color,backgroundColor:data.eligibility_hint.background_color,contentObj:data.eligibility_hint.content_render_markdown_obj}),e.isNswActivity=data.is_nsw_activity,e.isJumpOldSettlement=data.is_jump_old_settlement,e.images=(data.images||[]).map((function(e){return{url:e.image_url,desc:e.image_desc,alt:e.image_alt,width:e.width,height:e.height}}));var C=data.image_item||{};e.usageImages=C.usage_images,e.bannerImages=C.banner,e.klookInsider=data.klook_insider,e.isCountryPublish=data.is_country_publish,e.isCityPublish=data.is_city_publish,e.chatInfo={chatUrl:(data.chat_info||{}).chat_url,isOpenChat:(data.chat_info||{}).is_open_chat},e.isSrvActivity=data.is_srv_activity,e.rebate=data.rebate,e.bannerUrl=data.banner_url,e.enableTranslationButton=data.translation_bot,e.specPriceDesc=data.spec_price&&data.spec_price.desc,e.salesChannels=data.sales_channels,e.fromPrice=Number(data.from_price)||0,e.toPrice=Number(data.to_price)||0,e.promotionInfoList=data.promotions||[],e.havePackageDiscount=null===(o=data.packages)||void 0===o?void 0:o.some((function(e){return f()(e,"product_tags.discount_tags.0",!1)})),e.addressDesc=data.address_desc,e.activityTicketType=data.activity_ticket_type,e.crosellBanner=data.crosell_banner,e.tagsInfo=data.tags_info})),Object(c.a)(r,k.GET_ACTIVITY_CARDS,(function(e,data){e.recommendActivities=data.recommend_activities?data.recommend_activities.slice(0,3):null,e.relatedActivities=(data.related_activities||[]).filter((function(e){return!e.sold_out})),e.relatedAndRecommendActivities=data.related_and_recommend_activities?data.related_and_recommend_activities.map((function(e){return S({},e,{sell_price:Number(e.sell_price),market_price:Number(e.market_price)})})):[]})),Object(c.a)(r,k.GET_PROMOTION_DETAIL,(function(e,t){var n=t.status,r=t.detail;n&&(e.fetchPromotionDetailStatus=n),r&&(e.promotionDetail=r)})),Object(c.a)(r,k.GET_REVIEW_IMAGES_INFO,(function(e,data){e.customerImageAmount=data.count,e.reviewGalleryShouldShow=data.reviewGalleryShouldShow,e.reviewGalleryList=data.imageInfo})),Object(c.a)(r,k.CMS_AND_PREVIEW,(function(e,data){e.preview=data.preview?1:0,e.noindexIds=m()(data.CMSGenericItem)?"":data.CMSGenericItem.noindex_ids})),Object(c.a)(r,k.GET_PACKAGE_SCHEDULE,(function(e,data){var t=data.schedules,n=data.status;t&&(e.schedules=t),n&&(e.fetchScheduleStatus=n)})),Object(c.a)(r,k.GET_PRICE_PACKAGE_SCHEDULE,(function(e,data){var t=data.schedules,n=data.status;t&&(e.priceSchedules=t),n&&(e.fetchPriceScheduleStatus=n)})),Object(c.a)(r,k.SET_PRICE_PACKAGE_SCHEDULE_STATE,(function(e,t){e.fetchPackagePriceScheduleStatus=t})),Object(c.a)(r,k.SET_PACKAGE_SELECTED_DATE,(function(e,data){e.packageSelectedDate=data})),Object(c.a)(r,k.SET_PACKAGE_ID,(function(e,data){e.packageId=data.packageId})),Object(c.a)(r,k.RESET_CACHED_PACKAGE_ID,(function(e){e.cachedPackageId=0,e.cachedShouldResetPackageSelectedDate=!1})),Object(c.a)(r,k.SET_CACHED_PACKAGE_ID,(function(e,data){e.cachedPackageId=data.packageId})),Object(c.a)(r,k.SET_CACHED_SHOULD_RESET_DATE,(function(e,data){e.cachedShouldResetPackageSelectedDate=data})),Object(c.a)(r,k.RESET_CACHED_PACKAGE,(function(e){e.cachedPackageId=0,e.cachedShouldResetPackageSelectedDate=!1})),Object(c.a)(r,k.GET_PACKAGE_DETAIL,(function(e,data){var t,n=data.status,r=data.detail;n&&(e.fetchPackageDetailStatus=n),r&&(r.use_section=!0,e.packageDetail={price_show:r.price_show,has_discount:r.has_discount,redeem_status:r.redeem_status,product_tags:null===(t=r)||void 0===t?void 0:t.product_tags,usageValidity:r.usage_validity_render_obj,useSection:r.use_section,sectionContent:r.section_content,enableTranslationButton:r.enable_translation_button,translationButtonStatus:r.translation_status,packageName:r.package_name,packageSubName:r.package_sub_name,packageId:r.id,activityId:r.activity_id,passStandardActivityInfo:r.pass_standard_activity_info,spec:r.spec,activityName:r.activity_name})})),Object(c.a)(r,k.CLEAR_PACKAGE,(function(e){var t=e.packageDetail.enableTranslationButton||!1,n=e.packageDetail.translationButtonStatus||!1;e.packageDetail={spec:[],activityName:"",price_show:null,has_discount:!1,redeem_status:0,product_tags:{},useSection:!0,sectionContent:{},enableTranslationButton:t,translationButtonStatus:n,packageName:"",packageSubName:"",packageId:0,activityId:0,passStandardActivityInfo:null},e.packageId=0})),Object(c.a)(r,k.CLEAR_PROMOTION_DETAIL,(function(e){e.promotionDetail={currency:"",discount:0,is_subscribed:!1,original_selling_price:"",package_id:0,selling_price:"",market_price:"",promotion_event:{}}})),Object(c.a)(r,k.CLEAR_PACKAGE_OPTIONS,(function(e){e.packageId=0,e.chosenIds=[]})),Object(c.a)(r,k.SET_PACKAGE_TIME,(function(e){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.selectedTime=S({},data,{arrangementId:data.arrangement_id||data.arrangementId,stock:data.stock,date:data.date,maxPurchased:Math.min(data.stock,data.maxPax)})})),Object(c.a)(r,k.SET_PACKAGE_UNITMAP,(function(e,data){var t=data.prices,n=data.inventories,r=void 0===n?{}:n,o=data.credits_tag,l=e.selectedTime,d=l.arrangementId,_=void 0===d?"default":d,f=l.maxPurchased,v=t.filter((function(e){return e.required&&(e.price_min_pax||e.min_pax)})).reduce((function(e,t){return e+(t.price_min_pax||t.min_pax)}),0),m=t.map((function(e){var t=e.price_min_pax||e.min_pax||0,n=f-v,c=!1;c=n<0||!(e.required&&t)&&Math.max(t,1)>n;var l=Math.max(t,1)>r[e.inventory_id],d=e.required?t:0;return{credits_tag:o,price_show:e.price_show,has_discount:e.has_discount,redeem_status:e.redeem_status,product_tags:e.product_tags,priceMinPax:t,priceMaxPax:e.price_max_pax||e.max_pax||0,count:d,credits:e.credits,priceId:e.price_id||e.id,sellingPrice:e.selling_price||e.price||0,marketPrice:e.market_price||0,originalPrice:e.original_price||0,promotionDiscount:e.discount||0,priceName:e.price_name||e.name,isSoldOut:c||l,isFree:0===parseFloat(e.selling_price),specPriceDesc:e.spec_price&&e.spec_price.desc,requireBuy:e.required&&t,requireMinPax:!e.required&&d>=t&&t>1,required:e.required,skuId:e.sku_id,srvSkuInfo:e.srv_sku_info,inventoryId:e.inventory_id,eventId:e.promotion_event?e.promotion_event.event_id:0,isInPromotion:!!e.promotion_event&&!!e.promotion_event.event_id,isDefault:"default"===_}}));e.unitsMap=Object(c.a)({},_,{inventories:r,unitList:m})})),Object(c.a)(r,k.CHANGE_UNIT_COUNT,(function(e,t){var n=t.priceId,r=t.type,o=e.unitsMap[e.selectedTime.arrangementId];if(o){var c=o.unitList.find((function(e){return e.priceId===n}));if(c){var l=c.count,d=c.priceMinPax,_=c.required;if("add"===r)0===l?c.count+=Math.max(d,1):c.count++;else{if(0===l)return;l>d?c.count--:_||(c.count-=d)}}}})),Object(c.a)(r,k.SET_UNITS_COUNT_TO_ONE,(function(e){var t=e.unitsMap[e.selectedTime.arrangementId];t&&t.unitList&&t.unitList.forEach((function(e){e.isSoldOut||(e.count=1)}))})),Object(c.a)(r,k.BATCH_SET_UNITS_COUNT,(function(e,t){var n=e.unitsMap[e.selectedTime.arrangementId];if(n){var r=n.unitList,o=r.map((function(u){return u.priceId}));t.every((function(u){return o.includes(u.priceId)}))&&t.forEach((function(u){var e=r.find((function(e){return e.priceId===u.priceId}));if(e){var t=e.priceMinPax;e.count=Math.max(t,u.count)}}))}})),Object(c.a)(r,k.SET_PACKAGE_SCHEDULE,(function(e,t){var n=t.packageId,r=t.schedules,o=t.minPax,l={};e.packageSchedulesMap=Object(c.a)({},n,r.map((function(e){var data={date:e.date,time:y()(e.date).format("HH:mm"),arrangementId:e.arrangement_id,disabled:!e.stock||e.stock<o,stock:e.stock},t=y()(e.date).format("YYYY-MM-DD");return l[t]||(l[t]=[]),l[t].push(data),data}))),e.packageSchedulesFormatInDayMap=Object(c.a)({},n,l)})),Object(c.a)(r,k.SET_PRICE_PACKAGE_SCHEDULE,(function(e,t){var n=t.packageId,r=t.schedules,o=t.units,l=e.packagePriceSchedulesMap;l[n]||(e.packagePriceSchedulesMap=S({},l,Object(c.a)({},n,{schedules:r,units:o})))})),Object(c.a)(r,k.SET_ATTRIBUTES,(function(e,t){e.chosenIds=t})),Object(c.a)(r,k.RESET_BOOKING_OPTIONS,(function(e,data){var t=data.packageSelectedDate,n=data.selectedTime;e.packageSelectedDate=t,e.selectedTime=n})),Object(c.a)(r,k.SET_PRESALE_PACKAGES,(function(e,data){e.presalePackages=data})),Object(c.a)(r,k.SET_ACTIVITY_INSTANT,(function(e,data){e.instant=data})),Object(c.a)(r,k.SET_ACTIVITY_REVIEWS,(function(e,data){var t=(data.item||[]).map((function(e){var t=e.review_image;return{id:e.id,author:e.author,date:e.date,avatar:e.avatar,rating:e.rating,content:e.content,translateContent:e.translate_content,needTranslateButton:e.need_translate_button,packageName:e.package_name,reviewImage:t&&t.map((function(img){return{imgResizeUrl:img.img_resize_url,imageId:img.image_id,imgUrl:img.img_url}})),hasReply:e.has_reply,reply:e.reply?{content:e.reply.content,translateContent:e.reply.translate_content}:{},hasLiked:e.has_liked,likeCount:e.like_count}})).reduce((function(e,t){return{reviewMap:S({},e.reviewMap,Object(c.a)({},t.id,t)),reviewIdList:[].concat(Object(o.a)(e.reviewIdList),[t.id])}}),{reviewMap:{},reviewIdList:[]});e.reviewIdList=Array.from(new Set([].concat(Object(o.a)(e.reviewIdList),Object(o.a)(t.reviewIdList)))),e.reviewMap=S({},e.reviewMap,{},t.reviewMap),e.reviewTotal=data.total})),Object(c.a)(r,k.CLEAR_REVIEW_LIST,(function(e){e.reviewIdList=[],e.reviewMap={},e.reviewTotal=0})),Object(c.a)(r,k.SET_REVIEWS_LIKED,(function(e,t){var n=e.reviewMap,r=n[t];r&&(r.likeCount+=1,r.hasLiked+=!0,e.reviewMap=S({},n,Object(c.a)({},r.id,r)))})),Object(c.a)(r,k.TRIGGER_REVIEW_LIST_VISIBLE,(function(e,t){e.reviewListVisible=t})),Object(c.a)(r,k.GET_ACTIVITY_FAQ,(function(e,data){e.activityFaq=data,e.activityFaqRenderObj=data})),Object(c.a)(r,k.ACTIVITY_FAQ_VISIBLE,(function(e,t){e.activityFaqVisible=t})),Object(c.a)(r,k.SET_REOPEN_MODAL_VISIBLE,(function(e,t){e.activityReopenModalVisible=t})),Object(c.a)(r,k.SET_REOPEN_REMIND,(function(e,t){e.reopen.remind=t})),Object(c.a)(r,k.SHOW_DATE_PICKER,(function(e,t){e.dateShow=!0===t||!1===t?t:!e.dateShow})),Object(c.a)(r,k.KEEP_SOURCE_ACTIVITY_DETAIL,(function(e,data){e.sourceActivityDetail=JSON.stringify(data)})),Object(c.a)(r,k.KEEP_SOURCE_PACKAGE_DETAIL,(function(e,data){e.sourcePackageDetail=JSON.stringify(data)})),Object(c.a)(r,k.SAVE_ACTIVITY_TRANSLATE,(function(e,data){e.translateActivityResult||(e.translateActivityResult=data)})),Object(c.a)(r,k.SAVE_PACKAGE_TRANSLATE,(function(e,data){e.packageId&&!e.translatePackageResult[e.packageId]&&(e.translatePackageResult[e.packageId]=data)})),Object(c.a)(r,k.CHANGE_TRANSLATE_STATUS,(function(e,data){e.activityContentTranslated=data})),Object(c.a)(r,k.CLEAR_ALL_CLICK,(function(e,t){e.isClearAllClick=t})),Object(c.a)(r,k.SET_MODIFICATION_SHOPPING_CART,(function(e){e.modificationShoppingCart=!0})),Object(c.a)(r,k.SET_ROUTE_NAME,(function(e,t){e.routeName=t})),Object(c.a)(r,k.CHANGE_SCHEDULE_MODE,(function(e,t){e.isUsingPackagePriceSchedule=t})),Object(c.a)(r,k.SET_ACTIVITY_PREINFO,(function(e,t){e.preInfo=t})),Object(c.a)(r,k.SET_ACTIVITY_DETAIL,(function(e,t){e.activityDetail=t})),Object(c.a)(r,k.SET_USER_AGENT,(function(e,t){e.userAgent=t})),Object(c.a)(r,k.SET_PREVIEW_EXPIRED,(function(e,t){e.previewExpired=t})),r);t.default=T},748:function(e,t,n){"use strict";n.r(t);t.default=function(){return{commonLoadingState:"",pkgsAddonSku:{},pkgsAddonSchedulesAndUnits:{},pkgsBasicInfo:{},tagFilter2state:{value:"",list:[]},pkgsPrePriceApiData:{},preSettlementApiData:{error:null,success:!1,result:null},useAbTestMobilePage:"ActivityPage",customerImageAmount:0,reviewGalleryShouldShow:!1,reviewGalleryList:[],cachedShouldResetPackageSelectedDate:!1,cachedPackageId:null,packageId:null,packages:null,packageIdList:[],fetchPackageDetailStatus:"",packageDetail:{multiLanguageIcons:[],useSection:!1,sectionContent:{},confirmationDetail:null,cancelationPolicy:null,packageOption:null,howToUse:null,instant:!1,images:[],enableTranslationButton:!1},schedules:{},priceSchedules:[],packagePriceSchedulesMap:{},fetchPriceScheduleStatus:"fetching",packageSelectedDate:"",activityReviews:[],selectedTime:{},unitsMap:{},packageSchedulesMap:{},chosenIds:[],fetchScheduleStatus:"success",presalePackages:[],reviewIdList:[],reviewMap:{},reviewListVisible:!1,activityFaqVisible:!1,activityReopenModalVisible:!1,activitySeoLink:[],favorite:!1,dateShow:!1,sourcePackageDetail:null,translatePackageResult:{},translateActivityResult:null,activityContentTranslated:!1,packageSchedulesFormatInDayMap:{},packagePriceSchedulesFormatInDayMap:{},isClearAllClick:!1,enableTranslationButton:!1,modificationShoppingCart:!1,routeName:"ActivityHome",isUsingPackagePriceSchedule:!1,fromPrice:0,toPrice:0,promotionInfoList:[],havePackageDiscount:!1,promotionDetail:{},fetchPromotionDetailStatus:"success",promotionDetailMap:{},otherFaq:[],fetchPackagePriceScheduleStatus:"success",relatedActivities:[],recommendActivities:[],relatedAndRecommendActivities:[],activityTicketType:0,tagsInfo:[],userAgent:"",previewExpired:!1}}},759:function(e,t){},761:function(e,t,n){var map={"./de.json":[826,170],"./en-AU.json":[827,171],"./en-CA.json":[828,172],"./en-GB.json":[829,173],"./en-HK.json":[830,174],"./en-IN.json":[831,175],"./en-MY.json":[832,176],"./en-NZ.json":[833,177],"./en-PH.json":[834,178],"./en-SG.json":[835,179],"./en-US.json":[836,180],"./en.json":[837,181],"./es.json":[838,182],"./fr.json":[839,183],"./id.json":[840,184],"./it.json":[841,185],"./ja.json":[842,186],"./ko.json":[843,187],"./ms-MY.json":[844,188],"./ru.json":[845,189],"./th.json":[846,190],"./vi.json":[847,191],"./zh-CN.json":[848,192],"./zh-HK.json":[849,193],"./zh-TW.json":[850,194]};function r(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(map)},r.id=761,e.exports=r},762:function(e,t,n){var map={"./de.json":[855,145],"./en-AU.json":[856,146],"./en-CA.json":[857,147],"./en-GB.json":[858,148],"./en-HK.json":[859,149],"./en-IN.json":[860,150],"./en-MY.json":[861,151],"./en-NZ.json":[862,152],"./en-PH.json":[863,153],"./en-SG.json":[864,154],"./en-US.json":[865,155],"./en.json":[866,156],"./es.json":[867,157],"./fr.json":[868,158],"./id.json":[869,159],"./it.json":[870,160],"./ja.json":[871,161],"./ko.json":[872,162],"./ms-MY.json":[873,163],"./ru.json":[874,164],"./th.json":[875,165],"./vi.json":[876,166],"./zh-CN.json":[877,167],"./zh-HK.json":[878,168],"./zh-TW.json":[879,169]};function r(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(map)},r.id=762,e.exports=r},763:function(e,t,n){var map={"./de":[485,51],"./de.json":[485,51],"./en":[496,52],"./en-AU":[486,53],"./en-AU.json":[486,53],"./en-CA":[487,54],"./en-CA.json":[487,54],"./en-GB":[488,55],"./en-GB.json":[488,55],"./en-HK":[489,56],"./en-HK.json":[489,56],"./en-IN":[490,57],"./en-IN.json":[490,57],"./en-MY":[491,58],"./en-MY.json":[491,58],"./en-NZ":[492,59],"./en-NZ.json":[492,59],"./en-PH":[493,60],"./en-PH.json":[493,60],"./en-SG":[494,61],"./en-SG.json":[494,61],"./en-US":[495,62],"./en-US.json":[495,62],"./en.json":[496,52],"./es":[497,63],"./es.json":[497,63],"./fr":[498,64],"./fr.json":[498,64],"./id":[499,65],"./id.json":[499,65],"./it":[500,66],"./it.json":[500,66],"./ja":[501,67],"./ja.json":[501,67],"./ko":[502,68],"./ko.json":[502,68],"./locale-de":[503,69],"./locale-de.json":[503,69],"./locale-en":[514,70],"./locale-en-AU":[504,71],"./locale-en-AU.json":[504,71],"./locale-en-CA":[505,72],"./locale-en-CA.json":[505,72],"./locale-en-GB":[506,73],"./locale-en-GB.json":[506,73],"./locale-en-HK":[507,74],"./locale-en-HK.json":[507,74],"./locale-en-IN":[508,75],"./locale-en-IN.json":[508,75],"./locale-en-MY":[509,76],"./locale-en-MY.json":[509,76],"./locale-en-NZ":[510,77],"./locale-en-NZ.json":[510,77],"./locale-en-PH":[511,78],"./locale-en-PH.json":[511,78],"./locale-en-SG":[512,79],"./locale-en-SG.json":[512,79],"./locale-en-US":[513,80],"./locale-en-US.json":[513,80],"./locale-en.json":[514,70],"./locale-es":[515,81],"./locale-es.json":[515,81],"./locale-fr":[516,82],"./locale-fr.json":[516,82],"./locale-id":[517,83],"./locale-id.json":[517,83],"./locale-it":[518,84],"./locale-it.json":[518,84],"./locale-ja":[519,85],"./locale-ja.json":[519,85],"./locale-ko":[520,86],"./locale-ko.json":[520,86],"./locale-ms-MY":[521,87],"./locale-ms-MY.json":[521,87],"./locale-ru":[522,88],"./locale-ru.json":[522,88],"./locale-th":[523,89],"./locale-th.json":[523,89],"./locale-vi":[524,90],"./locale-vi.json":[524,90],"./locale-zh-CN":[525,91],"./locale-zh-CN.json":[525,91],"./locale-zh-HK":[526,92],"./locale-zh-HK.json":[526,92],"./locale-zh-TW":[527,93],"./locale-zh-TW.json":[527,93],"./ru":[528,94],"./ru.json":[528,94],"./th":[529,95],"./th.json":[529,95],"./vi":[530,96],"./vi.json":[530,96],"./zh-CN":[531,97],"./zh-CN.json":[531,97],"./zh-HK":[532,98],"./zh-HK.json":[532,98],"./zh-TW":[533,99],"./zh-TW.json":[533,99]};function r(e){if(!n.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(map)},r.id=763,e.exports=r},764:function(e,t,n){var map={"./activity-common.svg":765,"./common.svg":766,"./contact-tracking.svg":767,"./d-homepage.svg":768,"./desktop-activity.svg":769,"./desktop-bus.svg":770,"./desktop-car-rental.svg":771,"./desktop-common.svg":772,"./desktop-event.svg":773,"./desktop-experience.svg":774,"./desktop-ptp.svg":775,"./experiments.svg":776,"./fnb-common.svg":777,"./mobile-activity.svg":778,"./mobile-car-rental.svg":779,"./mobile-common.svg":780,"./mobile-event.svg":781,"./mobile-home.svg":782,"./mobile-hotel.svg":783,"./mobile-partnership.svg":784,"./mobile-ptp.svg":785};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}r.keys=function(){return Object.keys(map)},r.resolve=o,e.exports=r,r.id=764},765:function(e,t,n){e.exports=n.p+"img/activity-common-919de0.svg"},766:function(e,t,n){e.exports=n.p+"img/common-5e3218.svg"},767:function(e,t,n){e.exports=n.p+"img/contact-tracking-a5a936.svg"},768:function(e,t,n){e.exports=n.p+"img/d-homepage-249be6.svg"},769:function(e,t,n){e.exports=n.p+"img/desktop-activity-7931c3.svg"},770:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjsiPgoKPC9zdmc+"},771:function(e,t,n){e.exports=n.p+"img/desktop-car-rental-b815bc.svg"},772:function(e,t,n){e.exports=n.p+"img/desktop-common-468495.svg"},773:function(e,t,n){e.exports=n.p+"img/desktop-event-7efad6.svg"},774:function(e,t,n){e.exports=n.p+"img/desktop-experience-193810.svg"},775:function(e,t,n){e.exports=n.p+"img/desktop-ptp-79d3f1.svg"},776:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDowO292ZXJmbG93OmhpZGRlbjsiPgoKPC9zdmc+"},777:function(e,t,n){e.exports=n.p+"img/fnb-common-534fe0.svg"},778:function(e,t,n){e.exports=n.p+"img/mobile-activity-3b3c09.svg"},779:function(e,t,n){e.exports=n.p+"img/mobile-car-rental-27d67d.svg"},780:function(e,t,n){e.exports=n.p+"img/mobile-common-0273ee.svg"},781:function(e,t,n){e.exports=n.p+"img/mobile-event-d8ce0b.svg"},782:function(e,t,n){e.exports=n.p+"img/mobile-home-a013a9.svg"},783:function(e,t,n){e.exports=n.p+"img/mobile-hotel-8edd1d.svg"},784:function(e,t,n){e.exports=n.p+"img/mobile-partnership-d0def8.svg"},785:function(e,t,n){e.exports=n.p+"img/mobile-ptp-da54ab.svg"},786:function(e,t,n){"use strict";var r=n(197);n.n(r).a},787:function(e,t,n){"use strict";var r=n(198);n.n(r).a},788:function(e,t,n){"use strict";var r=n(199);n.n(r).a},789:function(e,t,n){"use strict";var r=n(200);n.n(r).a},790:function(e,t,n){"use strict";var r=n(201);n.n(r).a},818:function(e,t,n){"use strict";var r=n(203);n.n(r).a},819:function(e,t,n){"use strict";var r=n(204);n.n(r).a},820:function(e,t,n){"use strict";n.r(t);var r,o=n(0),c=n(3),l={page:{page_id:"en_US:MobileWeb:home_page_v2:11",meta:{type:"home_page_v2",track:null},body:{sections:[{meta:{type:"any",placeholder:"",track:null,name:"MainBanner"},data:null,body:{content:{handler:"platform",data_type:"MainBanner",load_type:"sync",src:"",track:null,data:{search_place_holder:"Search by destination or activity",cart_number:0,title:"Hi TEST",subtitle:"Discover and book amazing things-to-do at exclusive prices",banners:[{type:"image",deep_link:"",video:null,image:{src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,w_640,,/v1608522899/banner/q6eeaeyrwr9cl5wuyhky.jpg"}},{type:"image",deep_link:"",video:null,image:{src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,w_640,,/v1608522857/banner/iac6nwhzwquwduhv2kwh.jpg"}}],local_entrance:null}}}},{meta:{type:"any",placeholder:"",track:null,name:"Local"},data:null,body:{content:{handler:"platform",data_type:"LocalEntrance",load_type:"sync",src:"",track:null,data:{title:"Explore more of Tokyo",background_src:"https://res.klook.com/image/upload/v1597395662/homepage2020/see_what_s_in_loction_bg.png",button_title:"Let's Go",deep_link:"https://localhost:3000/en-US/city/28-tokyo-things-to-do/"}}}},{meta:{type:"any",placeholder:"",track:null,name:"BusinessEntry"},data:null,body:{content:{handler:"platform",data_type:"VerticalEntrance",load_type:"sync",src:"",track:null,data:{menus:[{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351703/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_attractions_xm_colorful.png",corner_marker_url:"",title:"Attractions",type:"deep_link",business_name:"2_Attractions",deep_link:"https://t146.test.klook.io/en-US/experiences/city-mcate/2-2-hong-kong-Attractions/",extra_info:null,partner_extra_info:{category:"Attractions"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351707/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_tours_xm_colorful.png",corner_marker_url:"",title:"Tours",type:"deep_link",business_name:"9_Tours",deep_link:"https://t146.test.klook.io/en-US/experiences/city-mcate/2-9-hong-kong-Tours/",extra_info:null,partner_extra_info:{category:"Tours"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351707/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_staycation_xm_colorful.png",corner_marker_url:"",title:"Staycations",type:"deep_link",business_name:"55_Staycations",deep_link:"https://t146.test.klook.io/en-US/search/?city_id=2&frontend_id_list=55&start=1&tag_id=174",extra_info:null,partner_extra_info:{category:"Staycations"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351705/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_fnd_xm_colorful.png",corner_marker_url:"",title:"Food & dining",type:"deep_link",business_name:"56_Food & dining",deep_link:"https://t146.test.klook.io/en-US/food-and-dining/entrance?city_id=2",extra_info:null,partner_extra_info:{category:"Food & dining"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351704/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_car_rentals_xm_colorful.png",corner_marker_url:"",title:"Car rentals",type:"deep_link",business_name:"38_Car rentals",deep_link:"https://t146.test.klook.io/en-US/car-rentals/?city_id=2",extra_info:null,partner_extra_info:{category:"Car rentals"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351703/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_airports_transfers_xm_colorful.png",corner_marker_url:"",title:"Private airport transfers",type:"deep_link",business_name:"46_Private airport transfers",deep_link:"https://t146.test.klook.io/en-US/airport-transfers/?city_id=2",extra_info:null,partner_extra_info:{category:"Private airport transfers"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600351707/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_stays_xm_colorful.png",corner_marker_url:"",title:"Hotels & more",type:"deep_link",business_name:"54_Hotels & more",deep_link:"https://t146.test.klook.io/en-US/hotels/?city_id=2",extra_info:null,partner_extra_info:{category:"Hotels & more"},sub_menu:null},{icon_src:"https://klook-res.cloudinary.com/image/upload/v1600352796/UED%20Team%EF%BC%88for%20DE%20only%EF%BC%89/category%20icon/L1%20and%20L2/icon_category_wifi_sim_cards_xm_colorful.png",corner_marker_url:"",title:"WiFi & SIM cards",type:"deep_link",business_name:"58_WiFi & SIM cards",deep_link:"https://t146.test.klook.io/en-US/wifi-sim-card/?city_id=2",extra_info:null,partner_extra_info:{category:"WiFi & SIM cards"},sub_menu:null}],important_menus:[]}}}},{meta:{type:"any",placeholder:"",track:null,name:"SrvEntrance"},data:null,body:{content:{handler:"platform",data_type:"SrvEntrance",load_type:"sync",src:"",track:null,data:null}}},{meta:{type:"any",placeholder:"",track:null,name:"Notification"},data:null,body:{content:{handler:"platform",data_type:"LocalNotification",load_type:"sync",src:"",track:null,data:{open_local_permission:!0}}}},{meta:{type:"any",placeholder:"",track:null,name:"CentralBanner"},data:null,body:{content:{handler:"platform",data_type:"Campaign",load_type:"sync",src:"",track:null,data:{paging_scroll:!0,banners:[{image_url:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,,w_800,h_342/v1595142473/banner/pkf1umh5js5ogh4xptpz.jpg",deep_link:"/en-US/promo/tainan2020"},{image_url:"",deep_link:""},{image_url:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,,w_800,h_342/v1609232147/banner/rz2qmnt8kexpa1ibxhb4.jpg",deep_link:"http://t264.test.klook.io/en-US/promo/masterdealspage?"}],bottom_banner:null}}}},{meta:{type:"common",placeholder:"",track:null,name:"RecentlyViewed"},data:{title:"Recently viewed",sub_title:"",more_title:"",more_deep_link:"",bottom_button_title:"",bottom_button_deep_link:"",is_navigation:!1},body:{content:{handler:"platform",data_type:"RecentViewed",load_type:"async",src:"https://t145.test.klook.io/v2/usrcsrv/home/recently/viewed?admin_preview_mode=0&city_id=2&country_id=2&current_location_city_id=28&current_location_city_name=Tokyo&current_location_country_id=12&current_location_country_name=Japan&ip=153.121.38.61&ip_location_city_id=28&ip_location_city_name=Tokyo&ip_location_country_id=12&ip_location_country_name=Japan&is_proxy=false&lat=&lbs_location_city_id=0&lbs_location_city_name=&lbs_location_country_id=0&lbs_location_country_name=&lng=&not_in_city_id_list=&not_in_country_id_list=&not_template_id_list=&user_id=100086154&utm_campaign=&x_country_code=JP",track:null,data:null}}},{meta:{type:"any",placeholder:"",track:null,name:"Nearby"},data:null,body:{content:{handler:"platform",data_type:"NearbyCardList",load_type:"async",src:"https://t145.test.klook.io/v2/usrcsrv/nearby/cards?admin_preview_mode=0&city_id=2&country_id=2&current_location_city_id=28&current_location_city_name=Tokyo&current_location_country_id=12&current_location_country_name=Japan&ip=153.121.38.61&ip_location_city_id=28&ip_location_city_name=Tokyo&ip_location_country_id=12&ip_location_country_name=Japan&is_proxy=false&lat=&lbs_location_city_id=0&lbs_location_city_name=&lbs_location_country_id=0&lbs_location_country_name=&lng=&not_in_city_id_list=&not_in_country_id_list=&not_template_id_list=&user_id=100086154&utm_campaign=&x_country_code=JP",track:null,data:null}}},{meta:{type:"common",placeholder:"",track:null,name:"PoiCardList"},data:{title:"Hot deals to book now",sub_title:"",more_title:"",more_deep_link:"",bottom_button_title:"View all",bottom_button_deep_link:"https://t146.test.klook.io/en-US/popular/all",is_navigation:!1},body:{content:{handler:"platform",data_type:"PoiCardList",load_type:"sync",src:"",track:null,data:{items:[{ref_data:{object_id:"20835571",city_id:0,country_id:0,template_id:0},card_template:"home_page_poi_card",card_render_type:"",element_list:null,card_data:{city_name:{text:"Hong Kong",text_color:"#FFFFFF",icon:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",bold:!1},distance:{text:"24Km"},image:{url:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",is_gray:!1},poi_description:{text:"Gateway to Lantau Island & Citygate Outlets!",text_color:"#FF5722",icon:"",bold:!1},poi_type:{text:"Sights & Landmarks",text_color:"#212121",icon:"",bold:!1},title:{text:"Ngong Ping & Tung Chung",text_color:"#212121"},visitors:{avatar1:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar2:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar3:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",text:"1,230 reviews"}},track_info:{object_id:"20835571",extra_info:{}},card_action:{type:"",deep_link:""}},{ref_data:{object_id:"20835571",city_id:0,country_id:0,template_id:0},card_template:"home_page_poi_card",card_render_type:"",element_list:null,card_data:{city_name:{text:"Hong Kong",text_color:"#FFFFFF",icon:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",bold:!1},distance:{text:"24Km"},image:{url:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",is_gray:!1},poi_description:{text:"Gateway to Lantau Island & Citygate Outlets!",text_color:"#FF5722",icon:"",bold:!1},poi_type:{text:"Sights & Landmarks",text_color:"#212121",icon:"",bold:!1},title:{text:"Ngong Ping & Tung Chung",text_color:"#212121"},visitors:{avatar1:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar2:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar3:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",text:"1,230 reviews"}},track_info:{object_id:"20835571",extra_info:{}},card_action:{type:"",deep_link:""}},{ref_data:{object_id:"20835571",city_id:0,country_id:0,template_id:0},card_template:"home_page_poi_card",card_render_type:"",element_list:null,card_data:{city_name:{text:"Hong Kong",text_color:"#FFFFFF",icon:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",bold:!1},distance:{text:"24Km"},image:{url:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",is_gray:!1},poi_description:{text:"Gateway to Lantau Island & Citygate Outlets!",text_color:"#FF5722",icon:"",bold:!1},poi_type:{text:"Sights & Landmarks",text_color:"#212121",icon:"",bold:!1},title:{text:"Ngong Ping & Tung Chung",text_color:"#212121"},visitors:{avatar1:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar2:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar3:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",text:"1,230 reviews"}},track_info:{object_id:"20835571",extra_info:{}},card_action:{type:"",deep_link:""}},{ref_data:{object_id:"20835571",city_id:0,country_id:0,template_id:0},card_template:"home_page_poi_card",card_render_type:"",element_list:null,card_data:{city_name:{text:"Hong Kong",text_color:"#FFFFFF",icon:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",bold:!1},distance:{text:"24Km"},image:{url:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",is_gray:!1},poi_description:{text:"Gateway to Lantau Island & Citygate Outlets!",text_color:"#FF5722",icon:"",bold:!1},poi_type:{text:"Sights & Landmarks",text_color:"#212121",icon:"",bold:!1},title:{text:"Ngong Ping & Tung Chung",text_color:"#212121"},visitors:{avatar1:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar2:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar3:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",text:"1,230 reviews"}},track_info:{object_id:"20835571",extra_info:{}},card_action:{type:"",deep_link:""}},{ref_data:{object_id:"20835571",city_id:0,country_id:0,template_id:0},card_template:"home_page_poi_card",card_render_type:"",element_list:null,card_data:{city_name:{text:"Hong Kong",text_color:"#FFFFFF",icon:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",bold:!1},distance:{text:"24Km"},image:{url:"https://res.klook.com/image/upload/2_20835571_Ngong-Ping_HK_Ngong_Ping_360-8_1125x630_pvlt9v.jpg",is_gray:!1},poi_description:{text:"Gateway to Lantau Island & Citygate Outlets!",text_color:"#FF5722",icon:"",bold:!1},poi_type:{text:"Sights & Landmarks",text_color:"#212121",icon:"",bold:!1},title:{text:"Ngong Ping & Tung Chung",text_color:"#212121"},visitors:{avatar1:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar2:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",avatar3:"https://res.klook.com/image/upload/activities/v8jlqheda850tjckjeuu.webp",text:"1,230 reviews"}},track_info:{object_id:"20835571",extra_info:{}},card_action:{type:"",deep_link:""}}]}}}},{meta:{type:"common",placeholder:"",track:null,name:"TopDestination"},data:{title:"Incredible destinations ",sub_title:"",more_title:"",more_deep_link:"",bottom_button_title:"Explore all destinations",bottom_button_deep_link:"",is_navigation:!1},body:{content:{handler:"platform",data_type:"TopDestinationList",load_type:"sync",src:"",track:null,data:{items:[{title:"Hong Kong",city_id:2,background_src:"https://res.klook.com/image/upload/cities/x9lbkqf1dj77nunksglt.jpg",deep_link:"https://localhost:3000/en-US/city/2-hong-kong-things-to-do/",sub_title:""},{title:"Macau",city_id:3,background_src:"https://res.klook.com/image/upload/cities/c1cklkyp6ms02tougufx.jpg",deep_link:"https://localhost:3000/en-US/city/3-macau-things-to-do/",sub_title:""},{title:"Taipei",city_id:19,background_src:"https://res.klook.com/image/upload/cities/i5itbqsg2alwruhqkgvx.jpg",deep_link:"https://localhost:3000/en-US/city/19-taipei-things-to-do/",sub_title:""},{title:"Shanghai",city_id:59,background_src:"https://res.klook.com/image/upload/cities/oq4xk64zpodfl3uxymxr.jpg",deep_link:"https://localhost:3000/en-US/city/59-shanghai-things-to-do/",sub_title:""},{title:"London",city_id:106,background_src:"https://res.klook.com/image/upload/cities/xkeic9zojhtxffeovjtl.jpg",deep_link:"https://localhost:3000/en-US/city/106-london-things-to-do/",sub_title:""},{title:"Kenting",city_id:23,background_src:"https://res.klook.com/image/upload/cities/ekag7x5vkmhxond0vhgg.jpg",deep_link:"https://localhost:3000/en-US/city/23-kenting-things-to-do/",sub_title:""}]}}}},{meta:{type:"common",placeholder:"",track:null,name:"Popular"},data:{title:"Top things to do",sub_title:"",more_title:"",more_deep_link:"",bottom_button_title:"View all",bottom_button_deep_link:"https://t146.test.klook.io/en-US/popular/all",is_navigation:!1},body:{content:{handler:"platform",data_type:"PopularActivity",load_type:"sync",src:"",track:null,data:{card_list:[{ref_data:{object_id:"524",city_id:6,country_id:15,template_id:1},card_template:"home_page_popular_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Singapore",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#E9F8F1",text_color:"#16AA77",text:"Bestseller"},{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/dg0la99n5j3wumqcycxb.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 6",market_price:" 81",market_price_strike:!0,discount_tag:{background_color_left:"#FF9557",background_color_right:"#FF6B3D",text_color:"#FFFFFF",text:"Up to 60% off"}},promo_tag_list:null,review:{star:"4.5",text:"(6,832)  6K+ Booked"},seo_data:{seo_title:"Meal coupons for Hong Kong Disneyland1",seo_link:"https://t146.test.klook.io/en-US/activity/524-disneyland-gourmet-meal-voucher-hong-kong-%E3%80%90%E7%BE%8E%E9%A3%9F%E9%A4%90%E5%88%B8%E3%80%91%E7%9B%A1%E4%BA%AB%E8%BF%AA%E5%A3%AB%E5%B0%BC%E6%A8%82%E5%9C%92%E7%BE%8E%E9%A3%9F%EF%BC%81%E9%A6%99%E6%B8%AF%E8%BF%AA%E5%A3%AB%E5%B0%BC%E6%A8%82%E5%9C%92%E9%A4%90%E5%88%B8/"},title:{text:"Meal coupons for Hong Kong Disneyland1",text_color:""}},track_info:{object_id:"524",extra_info:{branding_tag:"",discount_tag:"Up to 60% off",general_tag_list:"Bestseller,Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/524-disneyland-gourmet-meal-voucher-hong-kong-%E3%80%90%E7%BE%8E%E9%A3%9F%E9%A4%90%E5%88%B8%E3%80%91%E7%9B%A1%E4%BA%AB%E8%BF%AA%E5%A3%AB%E5%B0%BC%E6%A8%82%E5%9C%92%E7%BE%8E%E9%A3%9F%EF%BC%81%E9%A6%99%E6%B8%AF%E8%BF%AA%E5%A3%AB%E5%B0%BC%E6%A8%82%E5%9C%92%E9%A4%90%E5%88%B8/"}},{ref_data:{object_id:"18464",city_id:6,country_id:15,template_id:1},card_template:"home_page_popular_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Singapore",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#E9F8F1",text_color:"#16AA77",text:"Bestseller"},{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/zi3pln6zjkvpqpfruvkj.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:" 400,000,000",market_price:" 600,000,000",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.2",text:"(4,073)  4K+ Booked"},seo_data:{seo_title:"01 en",seo_link:"https://t146.test.klook.io/en-US/activity/18464-url/"},title:{text:"01 en",text_color:""}},track_info:{object_id:"18464",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"Bestseller,Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/18464-url/"}},{ref_data:{object_id:"523",city_id:2,country_id:2,template_id:2},card_template:"home_page_popular_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Tours  Hong Kong",text_color:"",icon:"",bold:!1},general_tag:null,image:{url:"https://res.klook.com/image/upload/activities/hhgakmmao13ypgay9yiz.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 90",market_price:" 117",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.8",text:"(5,707)  5K+ Booked"},seo_data:{seo_title:"",seo_link:"https://t146.test.klook.io/en-US/activity/523-peak-tram-3-in-1-combo-ticket-hong-kong/"},title:{text:"",text_color:""}},track_info:{object_id:"523",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/523-peak-tram-3-in-1-combo-ticket-hong-kong/"}}]}}}},{meta:{type:"common",placeholder:"",track:null,name:"TravelInspiration"},data:{title:"Get inspired",sub_title:"",more_title:"",more_deep_link:"",bottom_button_title:"",bottom_button_deep_link:"",is_navigation:!1},body:{content:{handler:"platform",data_type:"ThemeList",load_type:"sync",src:"",track:null,data:{showing_theme_count:3,more_title:"See More",themes_v_2:[{title:"cata testing",subtitle:"short description",deep_link:"https://localhost:3000/en-US/theme/7105-123123/",background_src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,,w_1838,/v1596537181/banner/rh415d8jetidxbyc1qdp.jpg",card_list:[{ref_data:{object_id:"3300",city_id:2,country_id:2,template_id:2},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#E9F8F1",text_color:"#16AA77",text:"Bestseller"},{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/ngffc2htpfegspi7uns4.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 399",market_price:"",market_price_strike:!1,discount_tag:{background_color_left:"#FF9557",background_color_right:"#FF6B3D",text_color:"#FFFFFF",text:"Up to 40% off"}},promo_tag_list:null,review:{star:"4.6",text:"(101,903)"},seo_data:{seo_title:"Shared Shopping Express Coach Transfers from Paris to La Valle Village ",seo_link:"https://t146.test.klook.io/en-US/activity/3300-roundtrip-transfers-to-la-vall%C3%A9e-village-paris/"},title:{text:"Shared Shopping Express Coach Transfers from Paris to La Valle Village ",text_color:""}},track_info:{object_id:"3300",extra_info:{branding_tag:"",discount_tag:"Up to 40% off",general_tag_list:"Bestseller,Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/3300-roundtrip-transfers-to-la-vall%C3%A9e-village-paris/"}},{ref_data:{object_id:"87",city_id:18,country_id:10,template_id:1},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:{icon_src:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",hover_text:"This is a Klook Preferred activity,  provided by one of our trusted partners and recommended by fellow travelers"},general_info:{text:"Jeju",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/xuo1pyc4a6ru4jb9h3xp.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:"Free Voucher",market_price:"",market_price_strike:!1,discount_tag:null},promo_tag_list:null,review:{star:"4.8",text:"(106,528)"},seo_data:{seo_title:"Sky100 Ticket in Hong Kong",seo_link:"https://t146.test.klook.io/en-US/activity/87-sky100-hong-kong/"},title:{text:"Sky100 Ticket in Hong Kong",text_color:""}},track_info:{object_id:"87",extra_info:{branding_tag:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",discount_tag:"",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/87-sky100-hong-kong/"}},{ref_data:{object_id:"34127",city_id:13,country_id:10,template_id:1},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:{icon_src:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",hover_text:"This is a Klook Preferred activity,  provided by one of our trusted partners and recommended by fellow travelers"},general_info:{text:"Seoul",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/jdosiswdfaxa6fjlnooa.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 20",market_price:"",market_price_strike:!1,discount_tag:{background_color_left:"#FF9557",background_color_right:"#FF6B3D",text_color:"#FFFFFF",text:"Up to 10% off"}},promo_tag_list:null,review:{star:"4.8",text:"(46)"},seo_data:{seo_title:"test--& US",seo_link:"https://t146.test.klook.io/en-US/activity/34127-1/"},title:{text:"test--& US",text_color:""}},track_info:{object_id:"34127",extra_info:{branding_tag:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",discount_tag:"Up to 10% off",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/34127-1/"}},{ref_data:{object_id:"18464",city_id:6,country_id:15,template_id:1},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Singapore",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#E9F8F1",text_color:"#16AA77",text:"Bestseller"},{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/zi3pln6zjkvpqpfruvkj.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:" 400,000,000",market_price:" 600,000,000",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.2",text:"(4,073)"},seo_data:{seo_title:"01 en",seo_link:"https://t146.test.klook.io/en-US/activity/18464-url/"},title:{text:"01 en",text_color:""}},track_info:{object_id:"18464",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"Bestseller,Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/18464-url/"}}]},{title:"Autumn in the Air-en_US",subtitle:"en-Admire the season's spectrum of autumn colors and experience some Halloween fun as you try these activities, handpicked especially for you",deep_link:"https://www.klook.com/zh-CN/theme/9970-2020-spring-activities",background_src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,,w_1920,/v1596449816/banner/nyo1rjjcqanmmvvncjdp.jpg",card_list:[{ref_data:{object_id:"6252",city_id:2,country_id:2,template_id:4},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:{icon_src:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",hover_text:"This is a Klook Preferred activity,  provided by one of our trusted partners and recommended by fellow travelers"},general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/zbv0a8ardvq5qfkm8dwj.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 1",market_price:"",market_price_strike:!1,discount_tag:null},promo_tag_list:null,review:{star:"4.4",text:"(113,789)"},seo_data:{seo_title:"Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST",seo_link:"https://t146.test.klook.io/en-US/activity/6252-mammy-pancake-hong-kongHAHHAHAH/"},title:{text:"Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST Mammy Pancake in TST",text_color:""}},track_info:{object_id:"6252",extra_info:{branding_tag:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",discount_tag:"",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/6252-mammy-pancake-hong-kongHAHHAHAH/"}},{ref_data:{object_id:"4881",city_id:2,country_id:2,template_id:5},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#E9F8F1",text_color:"#16AA77",text:"Bestseller"},{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/gxhzonxp4szbrypi1rfp.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:" 38",market_price:"",market_price_strike:!1,discount_tag:null},promo_tag_list:null,review:{star:"4.0",text:"(2,464)"},seo_data:{seo_title:"Shared One Way Shuttle Bus Transfer from NP360 (Tung Chung) to Jordan or Central MTR",seo_link:"https://t146.test.klook.io/en-US/activity/4881-shuttle-bus-np360-jordan-central-hong-kong/"},title:{text:"Shared One Way Shuttle Bus Transfer from NP360 (Tung Chung) to Jordan or Central MTR",text_color:""}},track_info:{object_id:"4881",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"Bestseller,Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/4881-shuttle-bus-np360-jordan-central-hong-kong/"}},{ref_data:{object_id:"549",city_id:2,country_id:2,template_id:4},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:{icon_src:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",hover_text:"This is a Klook Preferred activity,  provided by one of our trusted partners and recommended by fellow travelers"},general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/rcz3wqkubzqv4hle4rpw.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:"Free Reservation",market_price:"",market_price_strike:!1,discount_tag:null},promo_tag_list:null,review:null,seo_data:{seo_title:"Macau Tower - Tea Delights & Sky High Views",seo_link:"https://t146.test.klook.io/en-US/activity/549-macau-tower-afternoon-tea-macau/"},title:{text:"Macau Tower - Tea Delights & Sky High Views",text_color:""}},track_info:{object_id:"549",extra_info:{branding_tag:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",discount_tag:"",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/549-macau-tower-afternoon-tea-macau/"}},{ref_data:{object_id:"2889",city_id:2,country_id:2,template_id:5},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:null,image:{url:"https://res.klook.com/image/upload/activities/xzozladi9quw3mdi3e9b.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:" 2,090",market_price:" 2,400",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.0",text:"(892)"},seo_data:{seo_title:"Private MPV Transfers between Hong Kong and Guangzhou",seo_link:"https://t146.test.klook.io/en-US/activity/2889-guangzhou-mpv-transfer-hong-kong/"},title:{text:"Private MPV Transfers between Hong Kong and Guangzhou",text_color:""}},track_info:{object_id:"2889",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/2889-guangzhou-mpv-transfer-hong-kong/"}}]},{title:"blueblue000",subtitle:"blueblue000blueblue000",deep_link:"www.qq.com",background_src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_85/c_fill,,w_640,/v1595233963/banner/jrabvhzsshzdcmx93bvl.jpg",card_list:[{ref_data:{object_id:"32990",city_id:6,country_id:15,template_id:3},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Singapore",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/t67rizrv9uhtrofqkjim.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 15",market_price:" 151",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.0",text:"(162)"},seo_data:{seo_title:"Hyatt Centric Staycation  Set Dinner with 2-hour free flow at Cruise Restaurant & Bar or Lunch Buffet or Dinner Buffet with Breakfast for 2 at the Farmhouse",seo_link:"https://t146.test.klook.io/en-US/activity/32990-hyatt-centric-victoria-harbour-staycation-set-dinner-breakfast-2/"},title:{text:"Hyatt Centric Staycation  Set Dinner with 2-hour free flow at Cruise Restaurant & Bar or Lunch Buffet or Dinner Buffet with Breakfast for 2 at the Farmhouse",text_color:""}},track_info:{object_id:"32990",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/32990-hyatt-centric-victoria-harbour-staycation-set-dinner-breakfast-2/"}},{ref_data:{object_id:"523",city_id:2,country_id:2,template_id:2},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Hong Kong",text_color:"",icon:"",bold:!1},general_tag:null,image:{url:"https://res.klook.com/image/upload/activities/hhgakmmao13ypgay9yiz.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 90",market_price:" 117",market_price_strike:!0,discount_tag:null},promo_tag_list:null,review:{star:"4.8",text:"(5,707)"},seo_data:{seo_title:"",seo_link:"https://t146.test.klook.io/en-US/activity/523-peak-tram-3-in-1-combo-ticket-hong-kong/"},title:{text:"",text_color:""}},track_info:{object_id:"523",extra_info:{branding_tag:"",discount_tag:"",general_tag_list:"",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/523-peak-tram-3-in-1-combo-ticket-hong-kong/"}},{ref_data:{object_id:"1579",city_id:28,country_id:12,template_id:1},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:{icon_src:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",hover_text:"This is a Klook Preferred activity,  provided by one of our trusted partners and recommended by fellow travelers"},general_info:{text:"Tokyo",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/0808f5c9-Universal-Studios-Japan-%28Physical-Ticket%29.jpg",is_gray:!1},price_desc:{selling_price_format:"{selling_price}",selling_price:" 468",market_price:" 484",market_price_strike:!0,discount_tag:{background_color_left:"#FF9557",background_color_right:"#FF6B3D",text_color:"#FFFFFF",text:"Up to 55% off"}},promo_tag_list:[{background_color_left:"",background_color_right:"",text_color:"",text:"3",icon_src:""}],review:{star:"5.0",text:"(172,608)"},seo_data:{seo_title:"Universal Studios Japan Ticket Osaka",seo_link:"https://t146.test.klook.io/en-US/activity/1579-universal-studios-japan-ticket-osaka/"},title:{text:"Universal Studios Japan Ticket Osaka",text_color:""}},track_info:{object_id:"1579",extra_info:{branding_tag:"https://res.klook.com/image/upload/v1607395559/ued/product%20card/tag_klook_preferred.png",discount_tag:"Up to 55% off",general_tag_list:"Instant Confirmation",promo_tag_list:"3"}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/1579-universal-studios-japan-ticket-osaka/"}},{ref_data:{object_id:"18219",city_id:28941,country_id:12,template_id:1},card_template:"home_page_theme_vertical_card",card_render_type:"",element_list:null,card_data:{branding_tag:null,general_info:{text:"Miyazaki",text_color:"",icon:"",bold:!1},general_tag:[{bg_color:"#F5F5F5",text_color:"#757575",text:"Instant Confirmation"}],image:{url:"https://res.klook.com/image/upload/activities/j8dlin9agtavmyoagqjm.jpg",is_gray:!1},price_desc:{selling_price_format:"From {price}",selling_price:" 9",market_price:" 399",market_price_strike:!0,discount_tag:{background_color_left:"#FF9557",background_color_right:"#FF6B3D",text_color:"#FFFFFF",text:"Up to 30% off"}},promo_tag_list:null,review:{star:"5.0",text:"(1,688)"},seo_data:{seo_title:"lenis - ",seo_link:"https://t146.test.klook.io/en-US/activity/18219-%E6%99%AF%E7%82%B9%E9%97%A8%E7%A5%A8%20FR/"},title:{text:"lenis - ",text_color:""}},track_info:{object_id:"18219",extra_info:{branding_tag:"",discount_tag:"Up to 30% off",general_tag_list:"Instant Confirmation",promo_tag_list:""}},card_action:{type:"deep_link",deep_link:"https://t146.test.klook.io/en-US/activity/18219-%E6%99%AF%E7%82%B9%E9%97%A8%E7%A5%A8%20FR/"}}]}]}}}},{meta:{type:"any",placeholder:"",track:null,name:"MustEats"},data:null,body:{content:{handler:"fnd",data_type:"FnbEntrance",load_type:"sync",src:"",track:null,data:{title:"",view_more_text:"",view_more_deep_link:"",items:null}}}},{meta:{type:"common",placeholder:"",track:null,name:"KlookPreferred"},data:{title:"Klook recommended",sub_title:"Incredible experiences wherever you are - chosen by our travel curators",more_title:"",more_deep_link:"",bottom_button_title:"",bottom_button_deep_link:"",is_navigation:!1},body:{content:{handler:"platform",data_type:"ActivityCardList",load_type:"sync",src:"",track:null,data:{showing_count:3,more_title:"See More",card_list:[]}}}},{meta:{type:"any",placeholder:"",track:null,name:"TailPromoteCard"},data:null,body:{content:{handler:"platform",data_type:"Promote",load_type:"sync",src:"",track:null,data:{title:"Check out the Klook blog",title_color:"",background_src:"https://res.klook.com/image/upload/v1595421355/homepage2020/%E5%8D%9A%E5%AE%A2%E5%85%A5%E5%8F%A3.png",button_title:"",button_background_color:"",button_title_color:"",type:"deep_link",deep_link:"https://t146.test.klook.io/blog/",subtitle:"Follow the team's musings on trends in travel, itinerary ideas and travel tips"}}}},{meta:{type:"any",placeholder:"",track:null,name:"TailPromoteCard"},data:null,body:{content:{handler:"platform",data_type:"Promote",load_type:"sync",src:"",track:null,data:{title:"Use promo code",title_color:"",background_src:"https://res.klook.com/image/upload/fl_lossy.progressive,q_65,f_auto/c_fill,w_800,h_518/redeem.jpg",button_title:"Redeem",button_background_color:"",button_title_color:"",type:"deep_link",deep_link:"https://localhost:3000/en-US/coupons/",subtitle:" 'Mobile10' to get 9 off your first booking"}}}},{meta:{type:"any",placeholder:"",track:null,name:"TailPromoteCard"},data:null,body:{content:{handler:"platform",data_type:"Promote#RightIcon",load_type:"sync",src:"",track:null,data:{title:"Get free credits when you complete an experience",title_color:"",background_src:"https://res.klook.com/image/upload/v1596608665/homepage2020/credits.png",button_title:"See More",button_background_color:"",button_title_color:"",type:"deep_link",deep_link:"https://localhost:3000/en-US/credits/landing/",subtitle:""}}}},{meta:{type:"any",placeholder:"",track:null,name:"SEO"},data:null,body:{content:{handler:"platform",data_type:"SeoStaticLink",load_type:"sync",src:"",track:null,data:[{heading:"Top Cities to Visit",linking:[{key_word:"Things To Do in San Francisco",url:"https://www.klook.com/en-US/city/129-san-francisco-things-to-do/"},{key_word:"Things To Do in Chicago",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/"},{key_word:"Things To Do in San Diego",url:"https://www.klook.com/en-US/city/330-san-diego-things-to-do/"},{key_word:"Things To Do in Orlando",url:"https://www.klook.com/en-US/city/123-orlando-things-to-do/"},{key_word:"Things To Do in Miami",url:"https://www.klook.com/en-US/city/198-Miami-things-to-do/"},{key_word:"Things To Do in Las Vegas",url:"https://www.klook.com/en-US/city/136-las-vegas-things-to-do/"},{key_word:"Things To Do in Boston",url:"https://www.klook.com/en-US/city/167-Boston-things-to-do/"},{key_word:"Things To Do in New York",url:"https://www.klook.com/en-US/city/93-new-york-things-to-do/"},{key_word:"Things To Do in Los Angeles",url:"https://www.klook.com/en-US/city/124-los-angeles-things-to-do/"},{key_word:"Things To Do in Washington DC",url:"https://www.klook.com/en-US/city/166-Washington-DC-things-to-do/"}]},{heading:"Top Things to Do",linking:[{key_word:"Las Vegas Shows",url:"https://www.klook.com/en-US/city/136-las-vegas-things-to-do/1-cate/"},{key_word:"Places To Visit in New York",url:"https://www.klook.com/en-US/city/93-new-york-things-to-do/2-cate/"},{key_word:"Las Vegas Attractions",url:"https://www.klook.com/en-US/city/136-las-vegas-things-to-do/1-cate/"},{key_word:"San Francisco Tours",url:"https://www.klook.com/en-US/city/129-san-francisco-things-to-do/2-cate/"},{key_word:"Washington DC Tours",url:"https://www.klook.com/en-US/city/166-Washington-DC-things-to-do/2-cate/"},{key_word:"Orlando Attractions",url:"https://www.klook.com/en-US/city/123-orlando-things-to-do/1-cate/"},{key_word:"Chicago Tour",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/2-cate/"},{key_word:"Chicago Attractions",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/1-cate/"},{key_word:"San Diego Attractions",url:"https://www.klook.com/en-US/city/330-san-diego-things-to-do/1-cate/"},{key_word:"Shows in Chicago",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/1-cate/"},{key_word:"San Diego Zoo",url:"https://www.klook.com/en-US/city/330-san-diego-things-to-do/34-tag/"},{key_word:"Boston Aquarium",url:"https://www.klook.com/en-US/city/167-Boston-things-to-do/34-tag/"},{key_word:"Miami Zoo",url:"https://www.klook.com/en-US/city/198-Miami-things-to-do/34-tag/"},{key_word:"San Francisco Zoo",url:"https://www.klook.com/en-US/city/129-san-francisco-things-to-do/34-tag/"},{key_word:"Concerts in Chicago",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/139-tag/"},{key_word:"New York Aquarium",url:"https://www.klook.com/en-US/city/93-new-york-things-to-do/34-tag/"},{key_word:"Las Vegas Concerts",url:"https://www.klook.com/en-US/city/136-las-vegas-things-to-do/139-tag/"},{key_word:"Chicago Museums",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/38-tag/"},{key_word:"Los Angeles Zoo",url:"https://www.klook.com/en-US/city/124-los-angeles-things-to-do/34-tag/"},{key_word:"Chicago Aquarium",url:"https://www.klook.com/en-US/city/134-chicago-things-to-do/34-tag/"}]},{heading:"Top Activities",linking:[{key_word:"Universal Studios Orlando",url:"https://www.klook.com/en-US/activity/4912-universal-orlando-admission-ticket-orlando/"},{key_word:"San Diego Zoo",url:"https://www.klook.com/en-US/activity/6698-san-diego-zoo-admission-ticket-los-angeles/"},{key_word:"Empire State Building",url:"https://www.klook.com/en-US/activity/2956-empire-state-building-new-york/"},{key_word:"Universal Studios Hollywood",url:"https://www.klook.com/en-US/activity/9024-universal-studios-hollywood-ticket-los-angeles/"},{key_word:"Seaworld San Diego",url:"https://www.klook.com/en-US/activity/4096-sea-world-san-diego-ticket-los-angeles/"},{key_word:"Six Flags Magic Mountain",url:"https://www.klook.com/en-US/activity/4115-six-flags-magic-mountain-ticket-los-angeles/"},{key_word:"Top Of The Rock",url:"https://www.klook.com/en-US/activity/2964-top-of-the-rock-new-york/"},{key_word:"Legoland California",url:"https://www.klook.com/en-US/activity/4097-legoland-california-ticket-los-angeles/"},{key_word:"Neuschwanstein Castle",url:"https://www.klook.com/en-US/activity/3588-neuschwanstein-linderhof-royal-castle-oberammergau-tour-munich/"},{key_word:"Great Barrier Reef",url:"https://www.klook.com/en-US/activity/12225-great-barrier-reef-cruise-scenic-helicopter-ride-cairns/"},{key_word:"Angkor Wat",url:"https://www.klook.com/en-US/activity/6455-angkor-temples-sunrise-tour-siem-reap/"},{key_word:"Met Museum",url:"https://www.klook.com/en-US/activity/2958-metropolitan-museum-art-new-york/"},{key_word:"Disneyland Paris",url:"https://www.klook.com/en-US/activity/3969-disneyland-resort-paris/"},{key_word:"San Francisco Zoo",url:"https://www.klook.com/en-US/activity/13691-san-francisco-zoo-gardens-admission-ticket-san-francisco/"},{key_word:"Mont Saint Michel",url:"https://www.klook.com/en-US/activity/3315-mont-saint-michel-full-day-tour-paris/"},{key_word:"High Roller Las Vegas",url:"https://www.klook.com/en-US/activity/10320-las-vegas-high-roller-admission-ticket-las-vegas/"},{key_word:"Chicago City Pass",url:"https://www.klook.com/en-US/activity/18333-citypass-chicago/"},{key_word:"Shanghai Tower",url:"https://www.klook.com/en-US/activity/4333-shanghai-tower-observation-deck-shanghai/"},{key_word:"Uss Midway Museum",url:"https://www.klook.com/en-US/activity/6525-san-diego-uss-midway-museum-los-angeles/"},{key_word:"Spyscape",url:"https://www.klook.com/en-US/activity/13995-spyscape-spy-museum-admission-ticket-new-york/"}]},{heading:"Travel Categories",linking:[{key_word:"China Train Tickets",url:"https://www.klook.com/en-US/china-train-ticket/"},{key_word:"Airport Transfers",url:"https://www.klook.com/en-US/airport-transfers/"},{key_word:"Japan Rail Pass",url:"https://www.klook.com/en-US/japan-rail-jr-pass/"},{key_word:"Taiwan Rail",url:"https://www.klook.com/en-US/city/393-taiwan-rail-things-to-do/"},{key_word:"Vietnam Rail",url:"https://www.klook.com/en-US/city/467-vietnam-rail-things-to-do/"},{key_word:"Hotel",url:"https://www.klook.com/en-US/hotels/"},{key_word:"WiFi & SIM Card",url:"https://www.klook.com/en-US/wifi-sim-card/"}]}]}}}],second_floor:{is_show:!1,title:"Swipe down to join now!",deep_link:"https://t146.test.klook.io/en-US/live_show/home",banner_url:"https://res.klook.com/image/upload/v1594780649/Traveltainment_Homepage_wsrm6j.png",type:"living"}}}},d=(n(30),n(70),n(16));n.d(t,"state",(function(){return _})),n.d(t,"mutations",(function(){return f})),n.d(t,"actions",(function(){return v}));var _=function(){return{homePageData:null,searchPop:!1}},f=(r={},Object(o.a)(r,"SET_HOME_PAGE_DATA",(function(e,data){e.homePageData=data.page})),Object(o.a)(r,"SET_HOME_SEARCH_POP",(function(e,t){e.searchPop=t})),r),v={getHomePageData:function(e,t){var n=e.commit,r=e.rootState,o=t.mock,_=t.lng,f=t.lat,v=t.admin_preview_mode;if(!o){var m={};return _&&f&&Object.assign(m,{lng:_,lat:f}),v&&Object.assign(m,{admin_preview_mode:v}),this.$axios.$get(c.a.homePage,{params:m}).then((function(e){e.success&&e.result&&(!function(e,t){if(Object(d.A)(e,"partner_web_config.vertical_menu_types",!1)){var n=t.page.body.sections.find((function(e){return"BusinessEntry"===(e.meta||{}).name}));n&&(n.body.content.data.menus=Object(d.pb)(e,n.body.content.data.menus))}}(r,e.result),function(e,t){var n=Object(d.A)(e,"partner_web_config.affiliate_ads",!1);if(n&&n.length){var r=t.page.body.sections.find((function(e){return"CentralBanner"===(e.meta||{}).name}));r&&(r.body.content.data.banners=n)}}(r,e.result),n("SET_HOME_PAGE_DATA",e.result))}))}n("SET_HOME_PAGE_DATA",l)}}},821:function(e,t,n){"use strict";n.r(t);n(28),n(37);var r=n(25),o=n(7),c=n.n(o),l=n(116),d=n.n(l),_=(n(52),n(53),n(8),n(24)),f=n.n(_),v={AES_KEY:"exp-activity-aes",AES_IV:"qwertyuiopasdfghjklzxcvbnm"};function m(e){var t=v.AES_IV,n=v.AES_KEY,r=f.a.enc.Utf8.parse(n),o=f.a.enc.Utf8.parse(t),c=f.a.enc.Base64.parse(e),l=f.a.enc.Base64.stringify(c);return f.a.AES.decrypt(l,r,{iv:o,mode:f.a.mode.CBC,padding:f.a.pad.Pkcs7}).toString(f.a.enc.Utf8).toString()}function h(e){var t=v.AES_IV,n=v.AES_KEY,r=f.a.enc.Utf8.parse(n),o=f.a.enc.Utf8.parse(t),c=f.a.enc.Hex.parse(e),l=f.a.enc.Base64.stringify(c);return f.a.AES.decrypt(l,r,{iv:o,mode:f.a.mode.CBC,padding:f.a.pad.Pkcs7}).toString(f.a.enc.Utf8).toString()}c.a.extend(d.a);t.default=function(e,t){var n,o,l,d,_,f,v,y,k,E=e.req,S=e.route,T=e.store,O=e.redirect;if(null===(o=null===(n=S)||void 0===n?void 0:n.params)||void 0===o?void 0:o.preview)try{var w=(null===(l=S)||void 0===l?void 0:l.query)||{},x=w.deadline,A=w.deadline_version;if(!x)throw new Error("Deadline is required!");var C=(A?h:m)(decodeURIComponent(String(x))).split("::"),I=Object(r.a)(C,2),time=I[0],j=I[1];if(parseInt(null===(_=null===(d=S)||void 0===d?void 0:d.params)||void 0===_?void 0:_.activityPath)!==parseInt(j))throw new Error("ActivityId do not match: ".concat(parseInt(j)));T.commit("traveller/activity/SET_PREVIEW_EXPIRED",!!c.a.utc(time).isBefore(c.a.utc()))}catch(e){var P=null===(f=E)||void 0===f?void 0:f.logquery;P&&P.service({timestamp:Date.now(),level:"W",funcName:"redirect.activity.preview",message:{url:null===(v=S)||void 0===v?void 0:v.fullPath,error:JSON.stringify(e)}}),O(null===(k=null===(y=S)||void 0===y?void 0:y.fullPath)||void 0===k?void 0:k.replace("/preview",""))}t()}},822:function(e,t,n){"use strict";n.r(t);n(23);var r=n(4),o=(n(273),n(3)),c=(n(47),n(37),n(20),n(27),n(72),n(28),n(117),n(10),n(269),n(7)),l=n.n(c),d=n(205),_=n.n(d),f=n(385),v=n.n(f),m=n(116),h=n.n(m);n(182),n(194),n(211);l.a.extend(_.a),l.a.extend(h.a),l.a.extend(v.a);var y=l()();y.clone().startOf("day"),y.clone().subtract(1,"day").startOf("day"),y.clone().subtract(7,"day").startOf("day");function k(e){return{"zh-CN":"chinese-simplified","zh-TW":"chinese-traditional","zh-HK":"chinese-traditional",ko:"korean",th:"thai"}[e]||"english"}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"08:00:00",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"21:00:00",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,2,3,4,5,6,0],r=e,o=t,c=l()(l.a.utc().utcOffset(8),"HH:mm:ss"),d=[c.hour(),c.minute(),c.second()].join(":"),time=l()(d,"HH:mm:ss"),_=l()(r,"HH:mm:ss"),f=l()(o,"HH:mm:ss"),v=n.includes(l()().day());return!time.isBetween(_,f)||!v}function S(e,t){var n={english:{workTime:{start:"00:00:00",end:"23:59:59"}},"chinese-simplified":{workTime:{start:"08:00:00",end:"21:00:00"},departmentName:""},korean:{workTime:{start:"09:00:00",end:"17:00:00"}},thai:{workTime:{start:"10:00:00",end:"18:00:00"},workDays:[1,2,3,4,5]}}[t];return n&&("chinese-simplified"!==t||e)?{department:e?n.departmentName:"",isOffline:E(n.workTime.start,n.workTime.end,n.workDays)}:{department:"",isOffline:E("08:00:00","22:00:00")}}n.d(t,"state",(function(){return O})),n.d(t,"mutations",(function(){return w})),n.d(t,"actions",(function(){return x}));var T,O=function(){return{isOffline:!1,isChatting:!1,isEndChat:!1,isTyping:!1,isNeverRating:!0,firstConnection:!0,department:"",chatPool:[],chatHistory:[],form:null,unReadList:[],globalWarningTxt:""}},w={SET_IS_OFFLINE:function(e,t){e.isOffline=t.isOffline},SET_IS_END_CHAT:function(e,t){e.isEndChat=t},SET_IS_CHATTING:function(e,t){e.isChatting=t},CLEAR_CHAT_POOL:function(e){e.chatPool=[]},SET_FIRST_CONNECTION:function(e,t){e.firstConnection=t},ADD_CHAT_POLL:function(e,t){e.chatPool.push(t)},ADD_CHAT_HISTORY:function(e,t){e.chatHistory.push(t)},ADD_UNREAD_LIST:function(e,t){e.unReadList.push(t)},DELETE_UNREAD_LIST:function(e,t){e.unReadList.splice(t,1)},CLEAR_UNREAD_LIST:function(e){e.unReadList=[]},SET_VISIBLE:function(e,t){var n=e.chatPool.findIndex((function(e){return e.id===t.id}));e.chatPool[n].visible=t.visible},SET_CHAT_ITEM_STATUS:function(e,t){var n=e.chatPool.findIndex((function(e){return e.timestamp===t.timestamp}));e.chatPool[n].status=t.status},SET_CHAT_ITEM_RATED:function(e,t){var n=e.chatPool.findIndex((function(e){return e.timestamp===t.timestamp}));e.chatPool[n].rated=t.rated},SET_IS_TYPING:function(e,t){e.isTyping=t},SET_DEPARTMENT:function(e,t){e.department=t},SET_FORM:function(e,t){e.form=t},SET_IS_NEVER_RATE:function(e,t){e.isNeverRating=t},SET_GLOBAL_WARNING_TXT:function(e,t){e.globalWarningTxt=t}},x={getDepartmentAndOffline:(T=Object(r.a)(regeneratorRuntime.mark((function e(t,n){var r,c,l,d,_,f,v,m,h,y,E,T,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commit,c=t.rootState,l=n.lang,d=l||k(c.klook.language)||"english",_=!1,e.prev=4,e.next=7,this.$axios.$get(o.a.isChinaMainland);case 7:f=e.sent,v=f.success,m=f.result,v&&m&&(_=m.IsChinaMainland),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:h=S(_,d),E=(y=h||{}).department,T=void 0===E?"":E,O=y.isOffline,r("SET_IS_OFFLINE",{isOffline:void 0!==O&&O}),r("SET_DEPARTMENT",T);case 19:case"end":return e.stop()}}),e,this,[[4,13]])}))),function(e,t){return T.apply(this,arguments)})}},85:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(33),o=r.currencyConfig.currencySymbolMap,c=r.currencyConfig.currencyRateMap,l=(r.currencyConfig.getSupportCurrenciesList,r.currencyConfig.getSuggestCurrency),d=(r.currencyConfig.isServerMiddlewareSupportCurrency,r.currencyConfig.getCurrencySymbol);r.currencyConfig.getCurrencyByCountry,r.currencyConfig.getCurrencyCodeByLang},89:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return T}));n(22),n(14),n(11),n(8),n(12),n(20),n(27);var r,o=n(0),c=(n(30),n(6)),l=n(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e){var t=e.name,data=e.data,n=e.dataType,r=e.sync,o=void 0===r||r,title=e.title,l=e.sub_title,d=e.src,f=e.type,v=void 0===f?"any":f,m=e.more_title,h=e.more_deep_link,y=e.bottom_button_title,k=e.bottom_button_deep_link;return{meta:{type:v,track:null,name:t},data:null,body:{content:{handler:c.c,data_type:n,load_type:o?"sync":"async",src:d,track:null,data:_({title:title,sub_title:l,more_title:m,more_deep_link:h,bottom_button_title:y,bottom_button_deep_link:k},data)}}}}var v=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.ExperiencePromoSystem,c.b.ExperienceHotCountry],m=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.subVerticalBanner,c.b.ExperiencePromoSystem,c.b.ExperienceDestinationSection,c.b.ActivityHighlight,c.b.ExperienceBlogList,c.b.ReviewList,c.b.CountrySeoLink],h=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.subVerticalBanner,c.b.ExperiencePromoSystem,c.b.ActivityHighlight,c.b.ExperienceBlogList,c.b.NearbyActivities,c.b.NearbyCities,c.b.ReviewList,c.b.CitySeoLink],y={"world-l0":v,"world-l1":v,"country-l0":m,"country-l1":m,"city-l0":h,"city-l1":h},k={sync:!0,type:"common",required:!1},E=_({},k,{dataType:c.b.SeoLink,sync:!0,type:"common",title:"",validate:function(e){return e.seo_static_link&&e.seo_static_link.length}}),S=(r={},Object(o.a)(r,c.b.ExperiencePromoSystem,_({},k,{src:l.a.getPromoCouponList,sync:!0,type:"any",params:function(e){var t,n,r,o,c=e.cityId,l=e.countryId,d=e.breadcrumb;return{city_id:c||(null===(n=null===(t=d)||void 0===t?void 0:t.city)||void 0===n?void 0:n.id),country_id:l||(null===(o=null===(r=d)||void 0===r?void 0:r.country)||void 0===o?void 0:o.id),vertical_type:"exp"}}})),Object(o.a)(r,c.b.ExperienceHeader,_({},k,{action:"experience/getSectionHeader",sync:!0,type:"any"})),Object(o.a)(r,c.b.subVerticalMenu,_({},k,{src:l.a.getExperienceActivityNav,sync:!0,type:"any",validate:function(e){return e.categories&&e.categories.length}})),Object(o.a)(r,c.b.subVerticalBanner,_({},k,{src:l.a.getExperienceActivityBanner,sync:!0,type:"any",validate:function(e){return e.banner_image_items&&e.banner_image_items.length}})),Object(o.a)(r,c.b.ExperienceBlogList,_({},k,{src:l.a.getExperienceBlog,sync:!0,title:"16785",validate:function(e){return e.blogs&&e.blogs.length}})),Object(o.a)(r,c.b.ReviewList,_({},k,{src:l.a.getExperienceReviewList,sync:!0,type:"common",title:function(e){var t=e.destinationTitle,n=void 0===t?"":t,r=e.categoryTitle;return["23035",{destination:n,keyword:void 0===r?"":r}]},params:function(e){return{city_id:e.cityId,country_id:e.countryId,frontend_id:e.frontendId}},validate:function(e){return e.review_list&&e.review_list.length}})),Object(o.a)(r,c.b.ExperienceDestinationSection,_({},k,{src:l.a.getExperienceHotCity,sync:!0,title:function(e){var t=e.destinationTitle;return["16792",{destination:void 0===t?"":t}]},validate:function(e){return e.hot_cities&&e.hot_cities.length}})),Object(o.a)(r,c.b.NearbyCities,_({},k,{sync:!1,type:"common",src:l.a.getExperienceNearbyCity,title:"16790",validate:function(e){return e.nearby_city&&e.nearby_city.length}})),Object(o.a)(r,c.b.ExperienceHotCountry,_({},k,{sync:!1,type:"common",src:l.a.getExperienceHotCountry,validate:function(e){return e.hot_countries&&e.hot_countries.length}})),Object(o.a)(r,c.b.ActivityHighlight,_({},k,{src:l.a.getExperienceActivityHighlight,sync:!0,required:!0,title:"16775",params:function(e){var t=e.cityId,n=e.countryId,r=e.pageType,o=e.frontendId,c="all";return r.includes("city")?c="city":r.includes("country")&&(c="country"),{city_id:t,country_id:n,frontend_id:o,type:c}},validate:function(e){return e.highlight_activities&&e.highlight_activities.length}})),Object(o.a)(r,c.b.NearbyActivities,_({},k,{sync:!1,type:"common",src:l.a.getExperienceNearbyActivity,title:function(e){var t=e.destinationTitle;return["16788",{destination:void 0===t?"":t}]},bottom_button_title:"16776",bottom_button_deep_link:function(e){var t=e.cityId,n=e.frontendId;return"/experiences/nearby/?cityId=".concat(t,"&frontendId=").concat(n)},validate:function(e){var t,n,r,o,c,l;return!!(null!=(o=null===(r=null===(n=null===(t=e)||void 0===t?void 0:t.activities_v2)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)?o:null===(l=null===(c=e)||void 0===c?void 0:c.activities)||void 0===l?void 0:l.length)}})),Object(o.a)(r,c.b.CountrySeoLink,_({},E,{src:l.a.experienceCountrySeo,title:"more_recommended"})),Object(o.a)(r,c.b.CitySeoLink,_({},E,{src:l.a.experienceCitySeo,title:"more_recommended"})),r);function T(e,t){return"function"==typeof e?e(t):e}},96:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"a",(function(){return T}));n(22),n(14),n(11),n(8),n(12),n(20),n(27);var r,o=n(0),c=(n(30),n(6)),l=n(3);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function f(e){var t=e.name,data=e.data,n=e.dataType,r=e.sync,o=void 0===r||r,title=e.title,l=e.sub_title,d=e.src,f=e.type,v=void 0===f?"any":f,m=e.more_title,h=e.more_deep_link,y=e.bottom_button_title,k=e.bottom_button_deep_link;return{meta:{type:v,track:null,name:t},data:null,body:{content:{handler:c.c,data_type:n,load_type:o?"sync":"async",src:d,track:null,data:_({title:title,sub_title:l,more_title:m,more_deep_link:h,bottom_button_title:y,bottom_button_deep_link:k},data)}}}}var v=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.subVerticalBanner,c.b.ExperiencePromoSystem,c.b.ExperienceHotCountry],m=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.subVerticalBanner,c.b.ExperiencePromoSystem,c.b.ExperienceDestinationSection,c.b.ActivityHighlight,c.b.ExperienceBlogList,c.b.ReviewList,c.b.CountrySeoLink],h=[c.b.ExperienceHeader,c.b.subVerticalMenu,c.b.subVerticalBanner,c.b.ExperiencePromoSystem,c.b.ActivityHighlight,c.b.ExperienceBlogList,c.b.NearbyActivities,c.b.NearbyCities,c.b.ReviewList,c.b.CitySeoLink],y={"world-l0":v,"world-l1":v,"country-l0":m,"country-l1":m,"city-l0":h,"city-l1":h},k={sync:!0,type:"common",required:!1},E=_({},k,{dataType:c.b.SeoLink,sync:!0,type:"common",title:"",validate:function(e){return e.seo_static_link&&e.seo_static_link.length}}),S=(r={},Object(o.a)(r,c.b.ExperiencePromoSystem,_({},k,{src:l.a.getPromoCouponList,sync:!0,type:"any",params:function(e){var t,n,r,o,c=e.cityId,l=e.countryId,d=e.breadcrumb;return{city_id:c||(null===(n=null===(t=d)||void 0===t?void 0:t.city)||void 0===n?void 0:n.id),country_id:l||(null===(o=null===(r=d)||void 0===r?void 0:r.country)||void 0===o?void 0:o.id),vertical_type:"exp"}}})),Object(o.a)(r,c.b.ExperienceHeader,_({},k,{action:"experience/attractions_getSectionHeader",sync:!0,type:"any"})),Object(o.a)(r,c.b.subVerticalMenu,_({},k,{src:l.a.getAttractionsActivityNav,sync:!0,type:"any",validate:function(e){return e.categories&&e.categories.length}})),Object(o.a)(r,c.b.subVerticalBanner,_({},k,{src:l.a.getAttractionsActivityBanner,sync:!0,type:"any",validate:function(e){return e.banner_image_items&&e.banner_image_items.length}})),Object(o.a)(r,c.b.ExperienceBlogList,_({},k,{src:l.a.getAttractionsBlog,sync:!0,title:"16785",validate:function(e){return e.blogs&&e.blogs.length}})),Object(o.a)(r,c.b.ReviewList,_({},k,{src:l.a.getAttractionsReviewList,sync:!0,type:"common",title:function(e){var t=e.destinationTitle,n=void 0===t?"":t,r=e.categoryTitle;return["23035",{destination:n,keyword:void 0===r?"":r}]},params:function(e){return{city_id:e.cityId,country_id:e.countryId,frontend_id:e.frontendId}},validate:function(e){return e.review_list&&e.review_list.length}})),Object(o.a)(r,c.b.ExperienceDestinationSection,_({},k,{src:l.a.getAttractionsHotCity,sync:!0,title:function(e){var t=e.destinationTitle;return["16792",{destination:void 0===t?"":t}]},validate:function(e){return e.hot_cities&&e.hot_cities.length}})),Object(o.a)(r,c.b.NearbyCities,_({},k,{sync:!1,type:"common",src:l.a.getAttractionsNearbyCity,title:"16790",validate:function(e){return e.nearby_city&&e.nearby_city.length}})),Object(o.a)(r,c.b.ExperienceHotCountry,_({},k,{sync:!0,type:"common",src:l.a.getAttractionsHotCountry,validate:function(e){return e.hot_countries&&e.hot_countries.length}})),Object(o.a)(r,c.b.ActivityHighlight,_({},k,{src:l.a.getAttractionsActivityHighlight,sync:!0,required:!0,title:"16775",params:function(e){var t=e.cityId,n=e.countryId,r=e.pageType,o=e.frontendId,c="all";return r.includes("city")?c="city":r.includes("country")&&(c="country"),{city_id:t,country_id:n,frontend_id:o,type:c}},validate:function(e){return e.highlight_activities&&e.highlight_activities.length}})),Object(o.a)(r,c.b.NearbyActivities,_({},k,{sync:!1,type:"common",src:l.a.getAttractionsNearbyActivity,title:function(e){var t=e.destinationTitle;return["16788",{destination:void 0===t?"":t}]},bottom_button_title:"16776",bottom_button_deep_link:function(e){var t=e.cityId,n=e.frontendId;return"/experiences/nearby/?cityId=".concat(t,"&frontendId=").concat(n)},validate:function(e){var t,n,r,o,c,l;return!!(null!=(o=null===(r=null===(n=null===(t=e)||void 0===t?void 0:t.activities_v2)||void 0===n?void 0:n.items)||void 0===r?void 0:r.length)?o:null===(l=null===(c=e)||void 0===c?void 0:c.activities)||void 0===l?void 0:l.length)}})),Object(o.a)(r,c.b.CountrySeoLink,_({},E,{src:l.a.getAttractionsCountrySeo,title:"more_recommended"})),Object(o.a)(r,c.b.CitySeoLink,_({},E,{src:l.a.getAttractionsCitySeo,title:"more_recommended"})),r);function T(e,t){return"function"==typeof e?e(t):e}}},[[534,256,117,284]]]);